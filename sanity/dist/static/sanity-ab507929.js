function l0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ed(e){return l0(e)&&typeof e._ref=="string"}function WMe(e){return l0(e)&&ed(e.asset)&&e.asset._ref.startsWith("image-")}function Eve(e){return l0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function YMe(e){return l0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function p4(e){return l0(e)&&typeof e._type=="string"}function Sl(e){return l0(e)&&typeof e._key=="string"}function qMe(e){return e.level==="error"}const GMe=/_key\s*==\s*['"](.*)['"]/,KMe=/^\d*:\d*$/;function xl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Pr(e){return typeof e=="string"?GMe.test(e.trim()):typeof e=="object"&&"_key"in e}function Ep(e){if(typeof e=="string"&&KMe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function b2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function ju(e){return b2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>b2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>b2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function qs(e){return b2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function ZMe(e){return ju(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function om(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ua(e){return om(e)?e.jsonType==="object":!1}function Ml(e){return om(e)?e.jsonType==="array":!1}function m4(e){return Ml(e)&&e.of.every(t=>Ua(t))}function XMe(e){return Ml(e)&&e.of.every(t=>Tve(t))}function Xx(e){return om(e)?e.jsonType==="boolean":!1}function jve(e){return om(e)?e.jsonType==="string":!1}function jp(e){return om(e)?e.jsonType==="number":!1}function Tve(e){return Xx(e)||jve(e)||jp(e)}function Tu(e){return om(e)&&(e.name==="reference"||Tu(e.type))}function g4(e){return om(e)&&(e.name==="crossDatasetReference"||g4(e.type))}function v4(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Ave(e,t){return e}function QMe(e,t){return e}function JMe(e){return e.level==="error"}function eFe(e){return e.level==="warning"}var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tFe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Dve={exports:{}},A5={},Ive={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=Symbol.for("react.element"),nFe=Symbol.for("react.portal"),rFe=Symbol.for("react.fragment"),oFe=Symbol.for("react.strict_mode"),iFe=Symbol.for("react.profiler"),sFe=Symbol.for("react.provider"),aFe=Symbol.for("react.context"),lFe=Symbol.for("react.forward_ref"),cFe=Symbol.for("react.suspense"),uFe=Symbol.for("react.memo"),dFe=Symbol.for("react.lazy"),Bz=Symbol.iterator;function fFe(e){return e===null||typeof e!="object"?null:(e=Bz&&e[Bz]||e["@@iterator"],typeof e=="function"?e:null)}var Pve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ove=Object.assign,Rve={};function c0(e,t,n){this.props=e,this.context=t,this.refs=Rve,this.updater=n||Pve}c0.prototype.isReactComponent={};c0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};c0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $ve(){}$ve.prototype=c0.prototype;function y4(e,t,n){this.props=e,this.context=t,this.refs=Rve,this.updater=n||Pve}var b4=y4.prototype=new $ve;b4.constructor=y4;Ove(b4,c0.prototype);b4.isPureReactComponent=!0;var Nz=Array.isArray,Mve=Object.prototype.hasOwnProperty,x4={current:null},Fve={key:!0,ref:!0,__self:!0,__source:!0};function Lve(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Mve.call(t,r)&&!Fve.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Qx,type:e,key:i,ref:s,props:o,_owner:x4.current}}function hFe(e,t){return{$$typeof:Qx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function w4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qx}function pFe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zz=/\/+/g;function bD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pFe(""+e.key):t.toString(36)}function x2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Qx:case nFe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+bD(s,0):r,Nz(o)?(n="",e!=null&&(n=e.replace(zz,"$&/")+"/"),x2(o,t,n,"",function(u){return u})):o!=null&&(w4(o)&&(o=hFe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(zz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Nz(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+bD(i,a);s+=x2(i,t,n,c,o)}else if(c=fFe(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+bD(i,a++),s+=x2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jC(e,t,n){if(e==null)return e;var r=[],o=0;return x2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function mFe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qi={current:null},w2={transition:null},gFe={ReactCurrentDispatcher:Qi,ReactCurrentBatchConfig:w2,ReactCurrentOwner:x4};Wt.Children={map:jC,forEach:function(e,t,n){jC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jC(e,function(){t++}),t},toArray:function(e){return jC(e,function(t){return t})||[]},only:function(e){if(!w4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=c0;Wt.Fragment=rFe;Wt.Profiler=iFe;Wt.PureComponent=y4;Wt.StrictMode=oFe;Wt.Suspense=cFe;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gFe;Wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ove({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=x4.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Mve.call(t,c)&&!Fve.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qx,type:e.type,key:o,ref:i,props:r,_owner:s}};Wt.createContext=function(e){return e={$$typeof:aFe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sFe,_context:e},e.Consumer=e};Wt.createElement=Lve;Wt.createFactory=function(e){var t=Lve.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:lFe,render:e}};Wt.isValidElement=w4;Wt.lazy=function(e){return{$$typeof:dFe,_payload:{_status:-1,_result:e},_init:mFe}};Wt.memo=function(e,t){return{$$typeof:uFe,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=w2.transition;w2.transition={};try{e()}finally{w2.transition=t}};Wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wt.useCallback=function(e,t){return Qi.current.useCallback(e,t)};Wt.useContext=function(e){return Qi.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return Qi.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return Qi.current.useEffect(e,t)};Wt.useId=function(){return Qi.current.useId()};Wt.useImperativeHandle=function(e,t,n){return Qi.current.useImperativeHandle(e,t,n)};Wt.useInsertionEffect=function(e,t){return Qi.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return Qi.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return Qi.current.useMemo(e,t)};Wt.useReducer=function(e,t,n){return Qi.current.useReducer(e,t,n)};Wt.useRef=function(e){return Qi.current.useRef(e)};Wt.useState=function(e){return Qi.current.useState(e)};Wt.useSyncExternalStore=function(e,t,n){return Qi.current.useSyncExternalStore(e,t,n)};Wt.useTransition=function(){return Qi.current.useTransition()};Wt.version="18.2.0";Ive.exports=Wt;var h=Ive.exports;const ie=Pe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vFe=h,yFe=Symbol.for("react.element"),bFe=Symbol.for("react.fragment"),xFe=Object.prototype.hasOwnProperty,wFe=vFe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CFe={key:!0,ref:!0,__self:!0,__source:!0};function Bve(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)xFe.call(t,r)&&!CFe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:yFe,type:e,key:i,ref:s,props:o,_owner:wFe.current}}A5.Fragment=bFe;A5.jsx=Bve;A5.jsxs=Bve;Dve.exports=A5;var l=Dve.exports;const _Fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SFe=/_key\s*==\s*['"](.*)['"]/,Nve=[],zve="$";function im(e,t,n){const r=typeof t=="string"?kl(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(xl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Pr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const xD=new Map;function jc(e){if(e.length===0)return Nve;const t=Lr(e);return xD.has(t)?xD.get(t):(xD.set(t,e),Object.freeze(e),e)}function bn(e,t){return e.length===t.length&&e.every((n,r)=>D5(n,t[r]))}function kFe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!D5(e[r],t[r]))return r;return n}function D5(e,t){return Pr(e)&&Pr(t)?e._key===t._key:xl(e)?Number(e)===Number(t):Ep(e)&&Ep(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function yi(e,t){return e.every((n,r)=>D5(n,t[r]))}function $y(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return D5(n,o)?jc($y(r,i)):t}function C4(e,t){return yi(e,t)?$y(e,t):Nve}function Lr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function w3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...w3(i,r)]}const o=im(e,[n]);return[n,...w3(o,r)]}function EFe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return jc(w3(e,t))}function kl(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(_Fe);if(!t)throw new Error("Invalid path string");return t.map(jFe)}function jFe(e){return xl(e)?TFe(e):Pr(e)?AFe(e):Ep(e)?DFe(e):e}function TFe(e){return Number(e.replace(/[^\d]/g,""))}function AFe(e){return{_key:e.match(SFe)[1]}}function DFe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var IFe=typeof Element<"u",PFe=typeof Map=="function",OFe=typeof Set=="function",RFe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function C2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!C2(e[r],t[r]))return!1;return!0}var i;if(PFe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!C2(r.value[1],t.get(r.value[0])))return!1;return!0}if(OFe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(RFe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(IFe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!C2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var $Fe=function(t,n){try{return C2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const _4=Pe($Fe);function MFe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wa=MFe;const Jx=Pe(Wa);var FFe=typeof vs=="object"&&vs&&vs.Object===Object&&vs,Vve=FFe,LFe=Vve,BFe=typeof self=="object"&&self&&self.Object===Object&&self,NFe=LFe||BFe||Function("return this")(),Fl=NFe,zFe=Fl,VFe=function(){return zFe.Date.now()},HFe=VFe,UFe=/\s/;function WFe(e){for(var t=e.length;t--&&UFe.test(e.charAt(t)););return t}var YFe=WFe,qFe=YFe,GFe=/^\s+/;function KFe(e){return e&&e.slice(0,qFe(e)+1).replace(GFe,"")}var Hve=KFe,ZFe=Fl,XFe=ZFe.Symbol,u0=XFe,Vz=u0,Uve=Object.prototype,QFe=Uve.hasOwnProperty,JFe=Uve.toString,v1=Vz?Vz.toStringTag:void 0;function e4e(e){var t=QFe.call(e,v1),n=e[v1];try{e[v1]=void 0;var r=!0}catch{}var o=JFe.call(e);return r&&(t?e[v1]=n:delete e[v1]),o}var t4e=e4e,n4e=Object.prototype,r4e=n4e.toString;function o4e(e){return r4e.call(e)}var i4e=o4e,Hz=u0,s4e=t4e,a4e=i4e,l4e="[object Null]",c4e="[object Undefined]",Uz=Hz?Hz.toStringTag:void 0;function u4e(e){return e==null?e===void 0?c4e:l4e:Uz&&Uz in Object(e)?s4e(e):a4e(e)}var Hf=u4e;function d4e(e){return e!=null&&typeof e=="object"}var Ya=d4e,f4e=Hf,h4e=Ya,p4e="[object Symbol]";function m4e(e){return typeof e=="symbol"||h4e(e)&&f4e(e)==p4e}var sm=m4e,g4e=Hve,Wz=Wa,v4e=sm,Yz=0/0,y4e=/^[-+]0x[0-9a-f]+$/i,b4e=/^0b[01]+$/i,x4e=/^0o[0-7]+$/i,w4e=parseInt;function C4e(e){if(typeof e=="number")return e;if(v4e(e))return Yz;if(Wz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Wz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=g4e(e);var n=b4e.test(e);return n||x4e.test(e)?w4e(e.slice(2),n?2:8):y4e.test(e)?Yz:+e}var Wve=C4e,_4e=Wa,wD=HFe,qz=Wve,S4e="Expected a function",k4e=Math.max,E4e=Math.min;function j4e(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(S4e);t=qz(t)||0,_4e(n)&&(d=!!n.leading,f="maxWait"in n,i=f?k4e(qz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var k=r,j=o;return r=o=void 0,u=S,s=e.apply(j,k),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var k=S-c,j=S-u,E=t-k;return f?E4e(E,i-j):E}function y(S){var k=S-c,j=S-u;return c===void 0||k>=t||k<0||f&&j>=i}function x(){var S=wD();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:b(wD())}function _(){var S=wD(),k=y(S);if(r=arguments,o=this,c=S,k){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var Yve=j4e;const ew=Pe(Yve);function S4(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var qve={exports:{}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=typeof Symbol=="function"&&Symbol.for,k4=No?Symbol.for("react.element"):60103,E4=No?Symbol.for("react.portal"):60106,I5=No?Symbol.for("react.fragment"):60107,P5=No?Symbol.for("react.strict_mode"):60108,O5=No?Symbol.for("react.profiler"):60114,R5=No?Symbol.for("react.provider"):60109,$5=No?Symbol.for("react.context"):60110,j4=No?Symbol.for("react.async_mode"):60111,M5=No?Symbol.for("react.concurrent_mode"):60111,F5=No?Symbol.for("react.forward_ref"):60112,L5=No?Symbol.for("react.suspense"):60113,T4e=No?Symbol.for("react.suspense_list"):60120,B5=No?Symbol.for("react.memo"):60115,N5=No?Symbol.for("react.lazy"):60116,A4e=No?Symbol.for("react.block"):60121,D4e=No?Symbol.for("react.fundamental"):60117,I4e=No?Symbol.for("react.responder"):60118,P4e=No?Symbol.for("react.scope"):60119;function oa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case k4:switch(e=e.type,e){case j4:case M5:case I5:case O5:case P5:case L5:return e;default:switch(e=e&&e.$$typeof,e){case $5:case F5:case N5:case B5:case R5:return e;default:return t}}case E4:return t}}}function Gve(e){return oa(e)===M5}Sn.AsyncMode=j4;Sn.ConcurrentMode=M5;Sn.ContextConsumer=$5;Sn.ContextProvider=R5;Sn.Element=k4;Sn.ForwardRef=F5;Sn.Fragment=I5;Sn.Lazy=N5;Sn.Memo=B5;Sn.Portal=E4;Sn.Profiler=O5;Sn.StrictMode=P5;Sn.Suspense=L5;Sn.isAsyncMode=function(e){return Gve(e)||oa(e)===j4};Sn.isConcurrentMode=Gve;Sn.isContextConsumer=function(e){return oa(e)===$5};Sn.isContextProvider=function(e){return oa(e)===R5};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===k4};Sn.isForwardRef=function(e){return oa(e)===F5};Sn.isFragment=function(e){return oa(e)===I5};Sn.isLazy=function(e){return oa(e)===N5};Sn.isMemo=function(e){return oa(e)===B5};Sn.isPortal=function(e){return oa(e)===E4};Sn.isProfiler=function(e){return oa(e)===O5};Sn.isStrictMode=function(e){return oa(e)===P5};Sn.isSuspense=function(e){return oa(e)===L5};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===I5||e===M5||e===O5||e===P5||e===L5||e===T4e||typeof e=="object"&&e!==null&&(e.$$typeof===N5||e.$$typeof===B5||e.$$typeof===R5||e.$$typeof===$5||e.$$typeof===F5||e.$$typeof===D4e||e.$$typeof===I4e||e.$$typeof===P4e||e.$$typeof===A4e)};Sn.typeOf=oa;qve.exports=Sn;var ki=qve.exports;const O4e=Pe(ki);function R4e(e){function t(q,Z,B,W,z){for(var X=0,Q=0,ne=0,K=0,J,oe,fe=0,ae=0,ge,xe=ge=J=0,ce=0,ve=0,$e=0,Ae=0,st=B.length,et=st-1,lt,Oe="",we="",We="",ze="",Ze;ce<st;){if(oe=B.charCodeAt(ce),ce===et&&Q+K+ne+X!==0&&(Q!==0&&(oe=Q===47?10:47),K=ne=X=0,st++,et++),Q+K+ne+X===0){if(ce===et&&(0<ve&&(Oe=Oe.replace(p,"")),0<Oe.trim().length)){switch(oe){case 32:case 9:case 59:case 13:case 10:break;default:Oe+=B.charAt(ce)}oe=59}switch(oe){case 123:for(Oe=Oe.trim(),J=Oe.charCodeAt(0),ge=1,Ae=++ce;ce<st;){switch(oe=B.charCodeAt(ce)){case 123:ge++;break;case 125:ge--;break;case 47:switch(oe=B.charCodeAt(ce+1)){case 42:case 47:e:{for(xe=ce+1;xe<et;++xe)switch(B.charCodeAt(xe)){case 47:if(oe===42&&B.charCodeAt(xe-1)===42&&ce+2!==xe){ce=xe+1;break e}break;case 10:if(oe===47){ce=xe+1;break e}}ce=xe}}break;case 91:oe++;case 40:oe++;case 34:case 39:for(;ce++<et&&B.charCodeAt(ce)!==oe;);}if(ge===0)break;ce++}switch(ge=B.substring(Ae,ce),J===0&&(J=(Oe=Oe.replace(f,"").trim()).charCodeAt(0)),J){case 64:switch(0<ve&&(Oe=Oe.replace(p,"")),oe=Oe.charCodeAt(1),oe){case 100:case 109:case 115:case 45:ve=Z;break;default:ve=R}if(ge=t(Z,ve,ge,oe,z+1),Ae=ge.length,0<N&&(ve=n(R,Oe,$e),Ze=a(3,ge,ve,Z,I,D,Ae,oe,z,W),Oe=ve.join(""),Ze!==void 0&&(Ae=(ge=Ze.trim()).length)===0&&(oe=0,ge="")),0<Ae)switch(oe){case 115:Oe=Oe.replace(S,s);case 100:case 109:case 45:ge=Oe+"{"+ge+"}";break;case 107:Oe=Oe.replace(b,"$1 $2"),ge=Oe+"{"+ge+"}",ge=$===1||$===2&&i("@"+ge,3)?"@-webkit-"+ge+"@"+ge:"@"+ge;break;default:ge=Oe+ge,W===112&&(ge=(we+=ge,""))}else ge="";break;default:ge=t(Z,n(Z,Oe,$e),ge,W,z+1)}We+=ge,ge=$e=ve=xe=J=0,Oe="",oe=B.charCodeAt(++ce);break;case 125:case 59:if(Oe=(0<ve?Oe.replace(p,""):Oe).trim(),1<(Ae=Oe.length))switch(xe===0&&(J=Oe.charCodeAt(0),J===45||96<J&&123>J)&&(Ae=(Oe=Oe.replace(" ",":")).length),0<N&&(Ze=a(1,Oe,Z,q,I,D,we.length,W,z,W))!==void 0&&(Ae=(Oe=Ze.trim()).length)===0&&(Oe="\0\0"),J=Oe.charCodeAt(0),oe=Oe.charCodeAt(1),J){case 0:break;case 64:if(oe===105||oe===99){ze+=Oe+B.charAt(ce);break}default:Oe.charCodeAt(Ae-1)!==58&&(we+=o(Oe,J,oe,Oe.charCodeAt(2)))}$e=ve=xe=J=0,Oe="",oe=B.charCodeAt(++ce)}}switch(oe){case 13:case 10:Q===47?Q=0:1+J===0&&W!==107&&0<Oe.length&&(ve=1,Oe+="\0"),0<N*G&&a(0,Oe,Z,q,I,D,we.length,W,z,W),D=1,I++;break;case 59:case 125:if(Q+K+ne+X===0){D++;break}default:switch(D++,lt=B.charAt(ce),oe){case 9:case 32:if(K+X+Q===0)switch(fe){case 44:case 58:case 9:case 32:lt="";break;default:oe!==32&&(lt=" ")}break;case 0:lt="\\0";break;case 12:lt="\\f";break;case 11:lt="\\v";break;case 38:K+Q+X===0&&(ve=$e=1,lt="\f"+lt);break;case 108:if(K+Q+X+P===0&&0<xe)switch(ce-xe){case 2:fe===112&&B.charCodeAt(ce-3)===58&&(P=fe);case 8:ae===111&&(P=ae)}break;case 58:K+Q+X===0&&(xe=ce);break;case 44:Q+ne+K+X===0&&(ve=1,lt+="\r");break;case 34:case 39:Q===0&&(K=K===oe?0:K===0?oe:K);break;case 91:K+Q+ne===0&&X++;break;case 93:K+Q+ne===0&&X--;break;case 41:K+Q+X===0&&ne--;break;case 40:if(K+Q+X===0){if(J===0)switch(2*fe+3*ae){case 533:break;default:J=1}ne++}break;case 64:Q+ne+K+X+xe+ge===0&&(ge=1);break;case 42:case 47:if(!(0<K+X+ne))switch(Q){case 0:switch(2*oe+3*B.charCodeAt(ce+1)){case 235:Q=47;break;case 220:Ae=ce,Q=42}break;case 42:oe===47&&fe===42&&Ae+2!==ce&&(B.charCodeAt(Ae+2)===33&&(we+=B.substring(Ae,ce+1)),lt="",Q=0)}}Q===0&&(Oe+=lt)}ae=fe,fe=oe,ce++}if(Ae=we.length,0<Ae){if(ve=Z,0<N&&(Ze=a(2,we,ve,q,I,D,Ae,W,z,W),Ze!==void 0&&(we=Ze).length===0))return ze+we+We;if(we=ve.join(",")+"{"+we+"}",$*P!==0){switch($!==2||i(we,2)||(P=0),P){case 111:we=we.replace(C,":-moz-$1")+we;break;case 112:we=we.replace(w,"::-webkit-input-$1")+we.replace(w,"::-moz-$1")+we.replace(w,":-ms-input-$1")+we}P=0}}return ze+we+We}function n(q,Z,B){var W=Z.trim().split(y);Z=W;var z=W.length,X=q.length;switch(X){case 0:case 1:var Q=0;for(q=X===0?"":q[0]+" ";Q<z;++Q)Z[Q]=r(q,Z[Q],B).trim();break;default:var ne=Q=0;for(Z=[];Q<z;++Q)for(var K=0;K<X;++K)Z[ne++]=r(q[K]+" ",W[Q],B).trim()}return Z}function r(q,Z,B){var W=Z.charCodeAt(0);switch(33>W&&(W=(Z=Z.trim()).charCodeAt(0)),W){case 38:return Z.replace(x,"$1"+q.trim());case 58:return q.trim()+Z.replace(x,"$1"+q.trim());default:if(0<1*B&&0<Z.indexOf("\f"))return Z.replace(x,(q.charCodeAt(0)===58?"":"$1")+q.trim())}return q+Z}function o(q,Z,B,W){var z=q+";",X=2*Z+3*B+4*W;if(X===944){q=z.indexOf(":",9)+1;var Q=z.substring(q,z.length-1).trim();return Q=z.substring(0,q).trim()+Q+";",$===1||$===2&&i(Q,1)?"-webkit-"+Q+Q:Q}if($===0||$===2&&!i(z,1))return z;switch(X){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(A,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return Q=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Q+"-webkit-"+z+"-ms-flex-pack"+Q+z;case 1005:return v.test(z)?z.replace(m,":-webkit-")+z.replace(m,":-moz-")+z:z;case 1e3:switch(Q=z.substring(13).trim(),Z=Q.indexOf("-")+1,Q.charCodeAt(0)+Q.charCodeAt(Z)){case 226:Q=z.replace(_,"tb");break;case 232:Q=z.replace(_,"tb-rl");break;case 220:Q=z.replace(_,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+Q+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(Z=(z=q).length-10,Q=(z.charCodeAt(Z)===33?z.substring(0,Z):z).substring(q.indexOf(":",7)+1).trim(),X=Q.charCodeAt(0)+(Q.charCodeAt(7)|0)){case 203:if(111>Q.charCodeAt(8))break;case 115:z=z.replace(Q,"-webkit-"+Q)+";"+z;break;case 207:case 102:z=z.replace(Q,"-webkit-"+(102<X?"inline-":"")+"box")+";"+z.replace(Q,"-webkit-"+Q)+";"+z.replace(Q,"-ms-"+Q+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return Q=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+Q+"-ms-flex-"+Q+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(T.test(q)===!0)return(Q=q.substring(q.indexOf(":")+1)).charCodeAt(0)===115?o(q.replace("stretch","fill-available"),Z,B,W).replace(":fill-available",":stretch"):z.replace(Q,"-webkit-"+Q)+z.replace(Q,"-moz-"+Q.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,B+W===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+z}return z}function i(q,Z){var B=q.indexOf(Z===1?":":"{"),W=q.substring(0,Z!==3?B:10);return B=q.substring(B+1,q.length-1),H(Z!==2?W:W.replace(E,"$1"),B,Z)}function s(q,Z){var B=o(Z,Z.charCodeAt(0),Z.charCodeAt(1),Z.charCodeAt(2));return B!==Z+";"?B.replace(k," or ($1)").substring(4):"("+Z+")"}function a(q,Z,B,W,z,X,Q,ne,K,J){for(var oe=0,fe=Z,ae;oe<N;++oe)switch(ae=V[oe].call(d,q,fe,B,W,z,X,Q,ne,K,J)){case void 0:case!1:case!0:case null:break;default:fe=ae}if(fe!==Z)return fe}function c(q){switch(q){case void 0:case null:N=V.length=0;break;default:if(typeof q=="function")V[N++]=q;else if(typeof q=="object")for(var Z=0,B=q.length;Z<B;++Z)c(q[Z]);else G=!!q|0}return c}function u(q){return q=q.prefix,q!==void 0&&(H=null,q?typeof q!="function"?$=1:($=2,H=q):$=0),u}function d(q,Z){var B=q;if(33>B.charCodeAt(0)&&(B=B.trim()),U=B,B=[U],0<N){var W=a(-1,Z,B,B,I,D,0,0,0,0);W!==void 0&&typeof W=="string"&&(Z=W)}var z=t(R,B,Z,0,0);return 0<N&&(W=a(-2,z,B,B,I,D,z.length,0,0,0),W!==void 0&&(z=W)),U="",P=0,D=I=1,z}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,g=/([,: ])(transform)/g,y=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,j=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,D=1,I=1,P=0,$=1,R=[],V=[],N=0,H=null,G=0,U="";return d.use=c,d.set=u,e!==void 0&&u(e),d}var $4e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function M4e(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var F4e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Gz=M4e(function(e){return F4e.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),T4=ki,L4e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B4e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},N4e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},A4={};A4[T4.ForwardRef]=N4e;A4[T4.Memo]=Kve;function Kz(e){return T4.isMemo(e)?Kve:A4[e.$$typeof]||L4e}var z4e=Object.defineProperty,V4e=Object.getOwnPropertyNames,Zz=Object.getOwnPropertySymbols,H4e=Object.getOwnPropertyDescriptor,U4e=Object.getPrototypeOf,Xz=Object.prototype;function Zve(e,t,n){if(typeof t!="string"){if(Xz){var r=U4e(t);r&&r!==Xz&&Zve(e,r,n)}var o=V4e(t);Zz&&(o=o.concat(Zz(t)));for(var i=Kz(e),s=Kz(t),a=0;a<o.length;++a){var c=o[a];if(!B4e[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=H4e(t,c);try{z4e(e,c,u)}catch{}}}}return e}var W4e=Zve;const Y4e=Pe(W4e);function ml(){return(ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qz=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},C3=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!ki.typeOf(e)},NS=Object.freeze([]),sf=Object.freeze({});function kv(e){return typeof e=="function"}function Jz(e){return e.displayName||e.name||"Component"}function D4(e){return e&&typeof e.styledComponentId=="string"}var Ev=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",I4=typeof window<"u"&&"HTMLElement"in window,q4e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),G4e={};function Tp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var K4e=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,s=i;n>=s;)(s<<=1)<0&&Tp(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(c,r[u])&&(this.groupSizes[n]++,c++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var s=o;s<i;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),s=i+o,a=i;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),_2=new Map,zS=new Map,My=1,TC=function(e){if(_2.has(e))return _2.get(e);for(;zS.has(My);)My++;var t=My++;return _2.set(e,t),zS.set(t,e),t},Z4e=function(e){return zS.get(e)},X4e=function(e,t){t>=My&&(My=t+1),_2.set(e,t),zS.set(t,e)},Q4e="style["+Ev+'][data-styled-version="5.3.5"]',J4e=new RegExp("^"+Ev+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),e6e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},t6e=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var s=n[o].trim();if(s){var a=s.match(J4e);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(X4e(u,c),e6e(e,u,a[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(s)}}},n6e=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Xve=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){for(var c=a.childNodes,u=c.length;u>=0;u--){var d=c[u];if(d&&d.nodeType===1&&d.hasAttribute(Ev))return d}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Ev,"active"),r.setAttribute("data-styled-version","5.3.5");var s=n6e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},r6e=function(){function e(n){var r=this.element=Xve(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var c=i[s];if(c.ownerNode===o)return c}Tp(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),o6e=function(){function e(n){var r=this.element=Xve(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),i6e=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),eV=I4,s6e={isServer:!I4,useCSSOMInjection:!q4e},VS=function(){function e(n,r,o){n===void 0&&(n=sf),r===void 0&&(r={}),this.options=ml({},s6e,{},n),this.gs=r,this.names=new Map(o),this.server=!!n.isServer,!this.server&&I4&&eV&&(eV=!1,function(i){for(var s=document.querySelectorAll(Q4e),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(Ev)!=="active"&&(t6e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return TC(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(ml({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,s=r.target,n=o?new i6e(s):i?new r6e(s):new o6e(s),new K4e(n)));var n,r,o,i,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(TC(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(TC(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(TC(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",s=0;s<o;s++){var a=Z4e(s);if(a!==void 0){var c=n.names.get(a),u=r.getGroup(s);if(c&&u&&c.size){var d=Ev+".g"+s+'[id="'+a+'"]',f="";c!==void 0&&c.forEach(function(p){p.length>0&&(f+=p+",")}),i+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return i}(this)},e}(),a6e=/(a)(d)/gi,tV=function(e){return String.fromCharCode(e+(e>25?39:97))};function _3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=tV(t%52)+n;return(tV(t%52)+n).replace(a6e,"$1-$2")}var bg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Qve=function(e){return bg(5381,e)};function Jve(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(kv(n)&&!D4(n))return!1}return!0}var l6e=Qve("5.3.5"),c6e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Jve(t),this.componentId=n,this.baseHash=bg(l6e,n),this.baseStyle=r,VS.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var s=Ap(this.rules,t,n,r).join(""),a=_3(bg(this.baseHash,s)>>>0);if(!n.hasNameForId(o,a)){var c=r(s,"."+a,void 0,o);n.insertRules(o,a,c)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=bg(this.baseHash,r.hash),f="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var v=Ap(m,t,n,r),g=Array.isArray(v)?v.join(""):v;d=bg(d,g+p),f+=g}}if(f){var y=_3(d>>>0);if(!n.hasNameForId(o,y)){var x=r(f,"."+y,void 0,o);n.insertRules(o,y,x)}i.push(y)}}return i.join(" ")},e}(),u6e=/^\s*\/\/.*$/gm,d6e=[":","[",".","#"];function f6e(e){var t,n,r,o,i=e===void 0?sf:e,s=i.options,a=s===void 0?sf:s,c=i.plugins,u=c===void 0?NS:c,d=new R4e(a),f=[],p=function(g){function y(x){if(x)try{g(x+"}")}catch{}}return function(x,b,w,C,_,S,k,j,E,T){switch(x){case 1:if(E===0&&b.charCodeAt(0)===64)return g(b+";"),"";break;case 2:if(j===0)return b+"/*|*/";break;case 3:switch(j){case 102:case 112:return g(w[0]+b),"";default:return b+(T===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(y)}}}(function(g){f.push(g)}),m=function(g,y,x){return y===0&&d6e.indexOf(x[n.length])!==-1||x.match(o)?g:"."+t};function v(g,y,x,b){b===void 0&&(b="&");var w=g.replace(u6e,""),C=y&&x?x+" "+y+" { "+w+" }":w;return t=b,n=y,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(x||!y?"":y,C)}return d.use([].concat(u,[function(g,y,x){g===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,m))},p,function(g){if(g===-2){var y=f;return f=[],y}}])),v.hash=u.length?u.reduce(function(g,y){return y.name||Tp(15),bg(g,y.name)},5381).toString():"",v}var e0e=ie.createContext();e0e.Consumer;var t0e=ie.createContext(),h6e=(t0e.Consumer,new VS),S3=f6e();function n0e(){return h.useContext(e0e)||h6e}function r0e(){return h.useContext(t0e)||S3}var o0e=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=S3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.toString=function(){return Tp(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=S3),this.name+t.hash},e}(),p6e=/([A-Z])/,m6e=/([A-Z])/g,g6e=/^ms-/,v6e=function(e){return"-"+e.toLowerCase()};function nV(e){return p6e.test(e)?e.replace(m6e,v6e).replace(g6e,"-ms-"):e}var rV=function(e){return e==null||e===!1||e===""};function Ap(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],s=0,a=e.length;s<a;s+=1)(o=Ap(e[s],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(rV(e))return"";if(D4(e))return"."+e.styledComponentId;if(kv(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var c=e(t);return Ap(c,t,n,r)}var u;return e instanceof o0e?n?(e.inject(n,r),e.getName(r)):e:C3(e)?function d(f,p){var m,v,g=[];for(var y in f)f.hasOwnProperty(y)&&!rV(f[y])&&(Array.isArray(f[y])&&f[y].isCss||kv(f[y])?g.push(nV(y)+":",f[y],";"):C3(f[y])?g.push.apply(g,d(f[y],y)):g.push(nV(y)+": "+(m=y,(v=f[y])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in $4e?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(e):e.toString()}var oV=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kv(e)||C3(e)?oV(Ap(Qz(NS,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:oV(Ap(Qz(e,n)))}var i0e=function(e,t,n){return n===void 0&&(n=sf),e.theme!==n.theme&&e.theme||t||n.theme},y6e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,b6e=/(^-|-$)/g;function CD(e){return e.replace(y6e,"-").replace(b6e,"")}var P4=function(e){return _3(Qve(e)>>>0)};function AC(e){return typeof e=="string"&&!0}var k3=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},x6e=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function w6e(e,t,n){var r=e[n];k3(t)&&k3(r)?s0e(r,t):e[n]=t}function s0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];if(k3(s))for(var a in s)x6e(a)&&w6e(e,s[a],a)}return e}var jv=ie.createContext();jv.Consumer;function C6e(e){var t=h.useContext(jv),n=h.useMemo(function(){return function(r,o){if(!r)return Tp(14);if(kv(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?Tp(8):o?ml({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?ie.createElement(jv.Provider,{value:n},e.children):null}var _D={};function a0e(e,t,n){var r=D4(e),o=!AC(e),i=t.attrs,s=i===void 0?NS:i,a=t.componentId,c=a===void 0?function(b,w){var C=typeof b!="string"?"sc":CD(b);_D[C]=(_D[C]||0)+1;var _=C+"-"+P4("5.3.5"+C+_D[C]);return w?w+"-"+_:_}(t.displayName,t.parentComponentId):a,u=t.displayName,d=u===void 0?function(b){return AC(b)?"styled."+b:"Styled("+Jz(b)+")"}(e):u,f=t.displayName&&t.componentId?CD(t.displayName)+"-"+t.componentId:t.componentId||c,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(b,w,C){return e.shouldForwardProp(b,w,C)&&t.shouldForwardProp(b,w,C)}:e.shouldForwardProp);var v,g=new c6e(n,f,r?e.componentStyle:void 0),y=g.isStatic&&s.length===0,x=function(b,w){return function(C,_,S,k){var j=C.attrs,E=C.componentStyle,T=C.defaultProps,A=C.foldedComponentIds,D=C.shouldForwardProp,I=C.styledComponentId,P=C.target,$=function(W,z,X){W===void 0&&(W=sf);var Q=ml({},z,{theme:W}),ne={};return X.forEach(function(K){var J,oe,fe,ae=K;for(J in kv(ae)&&(ae=ae(Q)),ae)Q[J]=ne[J]=J==="className"?(oe=ne[J],fe=ae[J],oe&&fe?oe+" "+fe:oe||fe):ae[J]}),[Q,ne]}(i0e(_,h.useContext(jv),T)||sf,_,j),R=$[0],V=$[1],N=function(W,z,X,Q){var ne=n0e(),K=r0e(),J=z?W.generateAndInjectStyles(sf,ne,K):W.generateAndInjectStyles(X,ne,K);return J}(E,k,R),H=S,G=V.$as||_.$as||V.as||_.as||P,U=AC(G),q=V!==_?ml({},_,{},V):_,Z={};for(var B in q)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?Z.as=q[B]:(D?D(B,Gz,G):!U||Gz(B))&&(Z[B]=q[B]));return _.style&&V.style!==_.style&&(Z.style=ml({},_.style,{},V.style)),Z.className=Array.prototype.concat(A,I,N!==I?N:null,_.className,V.className).filter(Boolean).join(" "),Z.ref=H,h.createElement(G,Z)}(v,b,w,y)};return x.displayName=d,(v=ie.forwardRef(x)).attrs=p,v.componentStyle=g,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):NS,v.styledComponentId=f,v.target=r?e.target:e,v.withComponent=function(b){var w=t.componentId,C=function(S,k){if(S==null)return{};var j,E,T={},A=Object.keys(S);for(E=0;E<A.length;E++)j=A[E],k.indexOf(j)>=0||(T[j]=S[j]);return T}(t,["componentId"]),_=w&&w+"-"+(AC(b)?b:CD(Jz(b)));return a0e(b,ml({},C,{attrs:p,componentId:_}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?s0e({},e.defaultProps,b):b}}),v.toString=function(){return"."+v.styledComponentId},o&&Y4e(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var E3=function(e){return function t(n,r,o){if(o===void 0&&(o=sf),!ki.isValidElementType(r))return Tp(1,String(r));var i=function(){return n(r,o,he.apply(void 0,arguments))};return i.withConfig=function(s){return t(n,r,ml({},o,{},s))},i.attrs=function(s){return t(n,r,ml({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},i}(a0e,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){E3[e]=E3(e)});var _6e=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Jve(n),VS.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var s=i(Ap(this.rules,r,o,i).join(""),""),a=this.componentId+n;o.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&VS.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();function l0e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)),i="sc-global-"+P4(JSON.stringify(o)),s=new _6e(o,i);function a(u){var d=n0e(),f=r0e(),p=h.useContext(jv),m=h.useRef(d.allocateGSInstance(i)).current;return d.server&&c(m,u,d,p,f),h.useLayoutEffect(function(){if(!d.server)return c(m,u,d,p,f),function(){return s.removeStyles(m,d)}},[m,u,d,p,f]),null}function c(u,d,f,p,m){if(s.isStatic)s.renderStyles(u,G4e,f,m);else{var v=ml({},d,{theme:i0e(d,p,a.defaultProps)});s.renderStyles(u,v,f,m)}}return ie.memo(a)}function am(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)).join(""),i=P4(o);return new o0e(i,o)}var c0e=function(){return h.useContext(jv)};const O=E3,S6e="#101112",k6e="#fff",S2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},ly={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},E6e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},j6e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},j3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},T6e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},T3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},A3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},A6e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},pe={gray:S2,blue:ly,purple:E6e,magenta:j6e,red:j3,orange:T6e,yellow:T3,green:A3,cyan:A6e},u0e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],ac={title:"Black",hex:S6e},xa={title:"White",hex:k6e},kf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D3=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ko=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),P6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),d0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tw=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),h0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),p0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),N6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),z5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),xg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Xs=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Oc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U5=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),b0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Au=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),nLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),rLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ef=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),aLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O4=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),dLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),fLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R4=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$4=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),mLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),gLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Du=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),jo=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),yLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),CLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),ia=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),SLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),j0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ELe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),jLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tv=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ALe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),El=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ILe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),lm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),D0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),I0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),$Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M4=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),FLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),zLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),P0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F4=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L4=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),HLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ULe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),YLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),GLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),KLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),nw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),QLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),e8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),B4=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),n8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N4=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ll=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z4=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),rw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),ig=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),V4=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),h8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),p8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),m8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),w8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),ho=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),Fy=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HS=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),US=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q5=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),$r=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),O8e={"access-denied":kf,activity:D6e,"add-circle":D3,add:ko,api:I6e,archive:P6e,"arrow-down":d0e,"arrow-left":tw,"arrow-right":f0e,"arrow-top-right":O6e,"arrow-up":R6e,"bar-chart":$6e,basket:M6e,bell:F6e,bill:L6e,"binary-document":d0,"block-content":h0e,"block-element":p0e,blockquote:B6e,bold:m0e,bolt:N6e,book:z6e,bottle:V6e,"bulb-filled":H6e,"bulb-outline":z5,calendar:xg,case:U6e,"chart-upward":W6e,"checkmark-circle":V5,checkmark:Xs,"chevron-down":qa,"chevron-left":H5,"chevron-right":Oc,"chevron-up":g0e,circle:Y6e,clipboard:q6e,"clipboard-image":G6e,clock:v0e,"close-circle":K6e,close:Ei,"code-block":Z6e,code:y0e,cog:U5,collapse:b0e,"color-wheel":X6e,comment:x0e,component:Q6e,compose:J6e,controls:W5,copy:Au,"credit-card":eLe,crop:w0e,cube:tLe,dashboard:nLe,database:rLe,desktop:C0e,document:Ef,"document-pdf":oLe,"document-remove":iLe,"document-sheet":sLe,"document-text":aLe,"document-video":lLe,"document-word":cLe,"document-zip":uLe,documents:O4,dot:dLe,"double-chevron-down":fLe,"double-chevron-left":hLe,"double-chevron-right":R4,"double-chevron-up":pLe,download:$4,"drag-handle":_0e,drop:mLe,"earth-americas":S0e,"earth-globe":gLe,edit:Du,"ellipsis-horizontal":vLe,"ellipsis-vertical":jo,enter:yLe,"enter-right":bLe,envelope:xLe,equal:wLe,"error-filled":CLe,"error-outline":ia,expand:k0e,"eye-closed":_Le,"eye-open":E0e,filter:SLe,folder:j0e,generate:kLe,groq:ELe,"heart-filled":jLe,heart:TLe,"help-circle":Tv,home:ALe,"ice-cream":DLe,image:El,"image-remove":ILe,images:PLe,"info-filled":OLe,"info-outline":lm,"inline-element":T0e,inline:RLe,"insert-above":A0e,"insert-below":D0e,italic:I0e,joystick:$Le,json:MLe,launch:Uf,leave:M4,lemon:FLe,link:jf,"link-removed":LLe,lock:BLe,"logo-js":NLe,"logo-ts":zLe,"master-detail":P0e,menu:F4,"mobile-device":VLe,moon:L4,number:O0e,"ok-hand":HLe,olist:R0e,overage:ULe,package:WLe,"panel-left":YLe,"panel-right":qLe,pause:GLe,pin:KLe,"pin-removed":ZLe,play:$0e,plug:M0e,presentation:XLe,publish:f0,"read-only":nw,redo:QLe,refresh:JLe,"remove-circle":e8e,remove:F0e,reset:Iu,restore:B4,retrieve:t8e,retry:n8e,revert:N4,robot:r8e,rocket:o8e,schema:i8e,search:ei,select:Ll,share:s8e,sort:z4,sparkle:a8e,sparkles:l8e,spinner:rw,"split-horizontal":c8e,"split-vertical":L0e,square:u8e,"stack-compact":B0e,stack:N0e,star:d8e,stop:f8e,strikethrough:z0e,string:ig,sun:V4,sync:h0,"tablet-device":h8e,tag:p8e,tags:m8e,terminal:g8e,text:v8e,"th-large":y8e,"th-list":b8e,tiers:x8e,"toggle-arrow-right":Y5,token:w8e,transfer:C8e,translate:_8e,trash:ho,"trend-upward":S8e,"triangle-outline":k8e,trolley:E8e,truncate:j8e,twitter:T8e,ulist:Fy,underline:V0e,undo:HS,unknown:wl,unlock:A8e,unpublish:US,upload:q5,user:D8e,users:G5,"warning-filled":I8e,"warning-outline":$r,wrench:P8e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=O8e[r];return i?h.createElement(i,{...o,ref:n}):null});var H0e={exports:{}},R8e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$8e=R8e,M8e=$8e;function U0e(){}function W0e(){}W0e.resetWarningCache=U0e;var F8e=function(){function e(r,o,i,s,a,c){if(c!==M8e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:W0e,resetWarningCache:U0e};return n.PropTypes=n,n};H0e.exports=F8e();var L8e=H0e.exports,B8e=z8e,N8e=Object.prototype.hasOwnProperty;function z8e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)N8e.call(n,r)&&(e[r]=n[r])}return e}var Y0e=q0e,H4=q0e.prototype;H4.space=null;H4.normal={};H4.property={};function q0e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var iV=B8e,V8e=Y0e,H8e=U8e;function U8e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new V8e(iV.apply(null,n),iV.apply(null,r),s)}var U4=W8e;function W8e(e){return e.toLowerCase()}var G0e=K0e,Ga=K0e.prototype;Ga.space=null;Ga.attribute=null;Ga.property=null;Ga.boolean=!1;Ga.booleanish=!1;Ga.overloadedBoolean=!1;Ga.number=!1;Ga.commaSeparated=!1;Ga.spaceSeparated=!1;Ga.commaOrSpaceSeparated=!1;Ga.mustUseProperty=!1;Ga.defined=!1;function K0e(e,t){this.property=e,this.attribute=t}var Rc={},Y8e=0;Rc.boolean=cm();Rc.booleanish=cm();Rc.overloadedBoolean=cm();Rc.number=cm();Rc.spaceSeparated=cm();Rc.commaSeparated=cm();Rc.commaOrSpaceSeparated=cm();function cm(){return Math.pow(2,++Y8e)}var Z0e=G0e,sV=Rc,X0e=W4;W4.prototype=new Z0e;W4.prototype.defined=!0;var Q0e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],q8e=Q0e.length;function W4(e,t,n,r){var o=-1,i;for(aV(this,"space",r),Z0e.call(this,e,t);++o<q8e;)i=Q0e[o],aV(this,i,(n&sV[i])===sV[i])}function aV(e,t,n){n&&(e[t]=n)}var lV=U4,G8e=Y0e,K8e=X0e,ow=Z8e;function Z8e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new K8e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[lV(c)]=c,a[lV(u.attribute)]=c;return new G8e(s,a,t)}var X8e=ow,Q8e=X8e({space:"xlink",transform:J8e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function J8e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var e9e=ow,t9e=e9e({space:"xml",transform:n9e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function n9e(e,t){return"xml:"+t.slice(3).toLowerCase()}var r9e=o9e;function o9e(e,t){return t in e?e[t]:t}var i9e=r9e,J0e=s9e;function s9e(e,t){return i9e(e,t.toLowerCase())}var a9e=ow,l9e=J0e,c9e=a9e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:l9e,properties:{xmlns:null,xmlnsXLink:null}}),Y4=Rc,u9e=ow,is=Y4.booleanish,ha=Y4.number,ph=Y4.spaceSeparated,d9e=u9e({transform:f9e,properties:{ariaActiveDescendant:null,ariaAtomic:is,ariaAutoComplete:null,ariaBusy:is,ariaChecked:is,ariaColCount:ha,ariaColIndex:ha,ariaColSpan:ha,ariaControls:ph,ariaCurrent:null,ariaDescribedBy:ph,ariaDetails:null,ariaDisabled:is,ariaDropEffect:ph,ariaErrorMessage:null,ariaExpanded:is,ariaFlowTo:ph,ariaGrabbed:is,ariaHasPopup:null,ariaHidden:is,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ph,ariaLevel:ha,ariaLive:null,ariaModal:is,ariaMultiLine:is,ariaMultiSelectable:is,ariaOrientation:null,ariaOwns:ph,ariaPlaceholder:null,ariaPosInSet:ha,ariaPressed:is,ariaReadOnly:is,ariaRelevant:null,ariaRequired:is,ariaRoleDescription:ph,ariaRowCount:ha,ariaRowIndex:ha,ariaRowSpan:ha,ariaSelected:is,ariaSetSize:ha,ariaSort:null,ariaValueMax:ha,ariaValueMin:ha,ariaValueNow:ha,ariaValueText:null,role:null}});function f9e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var p0=Rc,h9e=ow,p9e=J0e,$t=p0.boolean,m9e=p0.overloadedBoolean,y1=p0.booleanish,er=p0.number,Fi=p0.spaceSeparated,DC=p0.commaSeparated,g9e=h9e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:p9e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:DC,acceptCharset:Fi,accessKey:Fi,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Fi,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:Fi,cols:er,colSpan:null,content:null,contentEditable:y1,controls:$t,controlsList:Fi,coords:er|DC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:m9e,draggable:y1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Fi,height:er,hidden:$t,high:er,href:null,hrefLang:null,htmlFor:Fi,httpEquiv:Fi,id:null,imageSizes:null,imageSrcSet:DC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Fi,itemRef:Fi,itemScope:$t,itemType:Fi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:er,manifest:null,max:null,maxLength:er,media:null,method:null,min:null,minLength:er,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:er,pattern:null,ping:Fi,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Fi,required:$t,reversed:$t,rows:er,rowSpan:er,sandbox:Fi,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:er,sizes:null,slot:null,span:er,spellCheck:y1,src:null,srcDoc:null,srcLang:null,srcSet:DC,start:er,step:null,style:null,tabIndex:er,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:y1,width:er,wrap:null,align:null,aLink:null,archive:Fi,axis:null,background:null,bgColor:null,border:er,borderColor:null,bottomMargin:er,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:er,leftMargin:er,link:null,longDesc:null,lowSrc:null,marginHeight:er,marginWidth:er,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:er,rules:null,scheme:null,scrolling:y1,standby:null,summary:null,text:null,topMargin:er,valueType:null,version:null,vAlign:null,vLink:null,vSpace:er,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:er,security:null,unselectable:null}}),v9e=H8e,y9e=Q8e,b9e=t9e,x9e=c9e,w9e=d9e,C9e=g9e,_9e=v9e([b9e,y9e,x9e,w9e,C9e]),S9e=U4,k9e=X0e,E9e=G0e,q4="data",j9e=D9e,T9e=/^data[-\w.:]+$/i,e1e=/-[a-z]/g,A9e=/[A-Z]/g;function D9e(e,t){var n=S9e(t),r=t,o=E9e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===q4&&T9e.test(t)&&(t.charAt(4)==="-"?r=I9e(t):t=P9e(t),o=k9e),new o(r,t))}function I9e(e){var t=e.slice(5).replace(e1e,R9e);return q4+t.charAt(0).toUpperCase()+t.slice(1)}function P9e(e){var t=e.slice(4);return e1e.test(t)?e:(t=t.replace(A9e,O9e),t.charAt(0)!=="-"&&(t="-"+t),q4+t)}function O9e(e){return"-"+e.toLowerCase()}function R9e(e){return e.charAt(1).toUpperCase()}var $9e=M9e,cV=/[#.]/g;function M9e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)cV.lastIndex=i,c=cV.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var G4={};G4.parse=B9e;G4.stringify=N9e;var uV="",F9e=" ",L9e=/[ \t\n\r\f]+/g;function B9e(e){var t=String(e||uV).trim();return t===uV?[]:t.split(L9e)}function N9e(e){return e.join(F9e).trim()}var K4={};K4.parse=z9e;K4.stringify=V9e;var I3=",",dV=" ",cy="";function z9e(e){for(var t=[],n=String(e||cy),r=n.indexOf(I3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(I3,o);return t}function V9e(e,t){var n=t||{},r=n.padLeft===!1?cy:dV,o=n.padRight?dV:cy;return e[e.length-1]===cy&&(e=e.concat(cy)),e.join(o+I3+r).trim()}var H9e=j9e,fV=U4,U9e=$9e,hV=G4.parse,pV=K4.parse,W9e=q9e,Y9e={}.hasOwnProperty;function q9e(e,t,n){var r=n?Q9e(n):null;return o;function o(s,a){var c=U9e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&Y9e.call(r,d)?r[d]:d,a&&G9e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return t1e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=H9e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=hV(f):u.commaSeparated?f=pV(f):u.commaOrSpaceSeparated&&(f=hV(pV(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=X9e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=Z9e(u,d,f))}}function G9e(e,t){return typeof e=="string"||"length"in e||K9e(t.tagName,e)}function K9e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function t1e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)t1e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function Z9e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return mV(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=mV(e,t,n[r]);return i}function mV(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||fV(n)===fV(t))&&(r=!0),r}function X9e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function Q9e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var J9e=_9e,e7e=W9e,n1e=e7e(J9e,"div");n1e.displayName="html";var t7e=n1e,n7e=t7e;const r7e="",o7e="&",i7e="",s7e="",a7e="",l7e="",c7e="",u7e="",d7e="",f7e="",h7e="",p7e="",m7e="",g7e="",v7e="",y7e=">",b7e="",x7e="",w7e="",C7e="",_7e="<",S7e="",k7e="",E7e="",j7e="",T7e="",A7e="",D7e="",I7e='"',P7e="",O7e="",R7e="",$7e="",M7e="",F7e="",L7e="",B7e="",N7e="",z7e="",V7e="",H7e="",U7e="&",W7e="",Y7e="",q7e="",G7e="",K7e="",Z7e="",X7e="",Q7e="",J7e="",eBe="",tBe="",nBe="",rBe="",oBe="",iBe="",sBe="",aBe="",lBe="",cBe="",uBe=">",dBe="",fBe="",hBe="",pBe="",mBe="",gBe="",vBe="",yBe="<",bBe="",xBe="",wBe="",CBe="",_Be="",SBe="",kBe="",EBe="",jBe="",TBe="",ABe="",DBe="",IBe="",PBe="",OBe="",RBe="",$Be="",MBe='"',FBe="",LBe="",BBe="",NBe="",zBe="",VBe="",HBe="",UBe="",WBe="",YBe="",qBe="",GBe="",KBe="",ZBe="",XBe="",QBe="",JBe="",eNe="",tNe={AElig:r7e,AMP:o7e,Aacute:i7e,Acirc:s7e,Agrave:a7e,Aring:l7e,Atilde:c7e,Auml:u7e,COPY:d7e,Ccedil:f7e,ETH:h7e,Eacute:p7e,Ecirc:m7e,Egrave:g7e,Euml:v7e,GT:y7e,Iacute:b7e,Icirc:x7e,Igrave:w7e,Iuml:C7e,LT:_7e,Ntilde:S7e,Oacute:k7e,Ocirc:E7e,Ograve:j7e,Oslash:T7e,Otilde:A7e,Ouml:D7e,QUOT:I7e,REG:P7e,THORN:O7e,Uacute:R7e,Ucirc:$7e,Ugrave:M7e,Uuml:F7e,Yacute:L7e,aacute:B7e,acirc:N7e,acute:z7e,aelig:V7e,agrave:H7e,amp:U7e,aring:W7e,atilde:Y7e,auml:q7e,brvbar:G7e,ccedil:K7e,cedil:Z7e,cent:X7e,copy:Q7e,curren:J7e,deg:eBe,divide:tBe,eacute:nBe,ecirc:rBe,egrave:oBe,eth:iBe,euml:sBe,frac12:aBe,frac14:lBe,frac34:cBe,gt:uBe,iacute:dBe,icirc:fBe,iexcl:hBe,igrave:pBe,iquest:mBe,iuml:gBe,laquo:vBe,lt:yBe,macr:bBe,micro:xBe,middot:wBe,nbsp:CBe,not:_Be,ntilde:SBe,oacute:kBe,ocirc:EBe,ograve:jBe,ordf:TBe,ordm:ABe,oslash:DBe,otilde:IBe,ouml:PBe,para:OBe,plusmn:RBe,pound:$Be,quot:MBe,raquo:FBe,reg:LBe,sect:BBe,shy:NBe,sup1:zBe,sup2:VBe,sup3:HBe,szlig:UBe,thorn:WBe,times:YBe,uacute:qBe,ucirc:GBe,ugrave:KBe,uml:ZBe,uuml:XBe,yacute:QBe,yen:JBe,yuml:eNe},nNe={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var r1e=rNe;function rNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var oNe=iNe;function iNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var sNe=aNe;function aNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var lNe=sNe,cNe=r1e,uNe=dNe;function dNe(e){return lNe(e)||cNe(e)}var IC,fNe=59,hNe=pNe;function pNe(e){var t="&"+e+";",n;return IC=IC||document.createElement("i"),IC.innerHTML=t,n=IC.textContent,n.charCodeAt(n.length-1)===fNe&&e!=="semi"||n===t?!1:n}var gV=tNe,vV=nNe,mNe=r1e,gNe=oNe,o1e=uNe,vNe=hNe,yNe=INe,bNe={}.hasOwnProperty,zm=String.fromCharCode,xNe=Function.prototype,yV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},wNe=9,bV=10,CNe=12,_Ne=32,xV=38,SNe=59,kNe=60,ENe=61,jNe=35,TNe=88,ANe=120,DNe=65533,sg="named",Z4="hexadecimal",X4="decimal",Q4={};Q4[Z4]=16;Q4[X4]=10;var K5={};K5[sg]=o1e;K5[X4]=mNe;K5[Z4]=gNe;var i1e=1,s1e=2,a1e=3,l1e=4,c1e=5,P3=6,u1e=7,Wf={};Wf[i1e]="Named character references must be terminated by a semicolon";Wf[s1e]="Numeric character references must be terminated by a semicolon";Wf[a1e]="Named character references cannot be empty";Wf[l1e]="Numeric character references cannot be empty";Wf[c1e]="Named character references must be known";Wf[P3]="Numeric character references cannot be disallowed";Wf[u1e]="Numeric character references cannot be outside the permissible Unicode range";function INe(e,t){var n={},r,o;t||(t={});for(o in yV)r=t[o],n[o]=r??yV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),PNe(e,n)}function PNe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,k,j,E,T,A,D,I,P,$,R,V,N,H,G,U;for(typeof n=="string"&&(n=n.charCodeAt(0)),N=q(),T=s?Z:xNe,m--,p++;++m<p;)if(k===bV&&(g=f[v]||1),k=e.charCodeAt(m),k===xV){if(E=e.charCodeAt(m+1),E===wNe||E===bV||E===CNe||E===_Ne||E===xV||E===kNe||E!==E||n&&E===n){x+=zm(k),g++;continue}for($=m+1,P=$,U=$,E===jNe?(U=++P,E=e.charCodeAt(U),E===TNe||E===ANe?(R=Z4,U=++P):R=X4):R=sg,w="",I="",S="",V=K5[R],U--;++U<p&&(E=e.charCodeAt(U),!!V(E));)S+=zm(E),R===sg&&bNe.call(gV,S)&&(w=S,I=gV[S]);_=e.charCodeAt(U)===SNe,_&&(U++,C=R===sg?vNe(S):!1,C&&(w=S,I=C)),G=1+U-$,!_&&!r||(S?R===sg?(_&&!I?T(c1e,1):(w!==S&&(U=P+w.length,G=1+U-P,_=!1),_||(A=w?i1e:a1e,t.attribute?(E=e.charCodeAt(U),E===ENe?(T(A,G),I=null):o1e(E)?I=null:T(A,G)):T(A,G))),j=I):(_||T(s1e,G),j=parseInt(S,Q4[R]),ONe(j)?(T(u1e,G),j=zm(DNe)):j in vV?(T(P3,G),j=vV[j]):(D="",RNe(j)&&T(P3,G),j>65535&&(j-=65536,D+=zm(j>>>10|55296),j=56320|j&1023),j=D+zm(j))):R!==sg&&T(l1e,G)),j?(B(),N=q(),m=U-1,g+=U-$+1,b.push(j),H=q(),H.offset++,i&&i.call(c,j,{start:N,end:H},e.slice($-1,U)),N=H):(S=e.slice($-1,U),x+=S,g+=S.length,m=U-1)}else k===10&&(y++,v++,g=0),k===k?(x+=zm(k),g++):B();return b.join("");function q(){return{line:y,column:g,offset:m+(d.offset||0)}}function Z(W,z){var X=q();X.column+=z,X.offset+=z,s.call(u,Wf[W],X,W)}function B(){x&&(b.push(x),o&&o.call(a,x,{start:N,end:q()}),x="")}}function ONe(e){return e>=55296&&e<=57343||e>1114111}function RNe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var d1e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof c?new c(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var k in w)w.hasOwnProperty(k)&&(_[k]=b(w[k],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,E){_[E]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],k={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var E in C)C.hasOwnProperty(E)&&(k[E]=C[E]);C.hasOwnProperty(j)||(k[j]=S[j])}var T=_[b];return _[b]=k,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=k)}),k},DFS:function b(w,C,_,S){S=S||{};var k=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var E=w[j],T=a.util.type(E);T==="Object"&&!S[k(E)]?(S[k(E)]=!0,b(E,C,null,S)):T==="Array"&&!S[k(E)]&&(S[k(E)]=!0,b(E,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,k;k=_.elements[S++];)a.highlightElement(k,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var k=b.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,_);var j=b.textContent,E={element:b,language:_,grammar:S,code:j};function T(D){E.highlightedCode=D,a.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,a.hooks.run("after-highlight",E),a.hooks.run("complete",E),C&&C.call(E.element)}if(a.hooks.run("before-sanity-check",E),k=E.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!E.code){a.hooks.run("complete",E),C&&C.call(E.element);return}if(a.hooks.run("before-highlight",E),!E.grammar){T(a.util.encode(E.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else T(a.highlight(E.code,E.grammar,E.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},k=w.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(S.classes,k):S.classes.push(k)),a.hooks.run("wrap",S);var j="";for(var E in S.attributes)j+=" "+E+'="'+(S.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var k=S[1].length;S.index+=k,S[0]=S[0].slice(k)}return S}function d(b,w,C,_,S,k){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var E=C[j];E=Array.isArray(E)?E:[E];for(var T=0;T<E.length;++T){if(k&&k.cause==j+","+T)return;var A=E[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,$=A.alias;if(P&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var V=A.pattern||A,N=_.next,H=S;N!==w.tail&&!(k&&H>=k.reach);H+=N.value.length,N=N.next){var G=N.value;if(w.length>b.length)return;if(!(G instanceof c)){var U=1,q;if(P){if(q=u(V,H,b,I),!q||q.index>=b.length)break;var z=q.index,Z=q.index+q[0].length,B=H;for(B+=N.value.length;z>=B;)N=N.next,B+=N.value.length;if(B-=N.value.length,H=B,N.value instanceof c)continue;for(var W=N;W!==w.tail&&(B<Z||typeof W.value=="string");W=W.next)U++,B+=W.value.length;U--,G=b.slice(H,B),q.index-=H}else if(q=u(V,0,G,I),!q)continue;var z=q.index,X=q[0],Q=G.slice(0,z),ne=G.slice(z+X.length),K=H+G.length;k&&K>k.reach&&(k.reach=K);var J=N.prev;Q&&(J=p(w,J,Q),H+=Q.length),m(w,J,U);var oe=new c(j,D?a.tokenize(X,D):X,$,X);if(N=p(w,J,oe),ne&&p(w,N,ne),U>1){var fe={cause:j+","+T,reach:K};d(b,w,C,N.prev,H,fe),k&&fe.reach>k.reach&&(k.reach=fe.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof vs<"u"&&(vs.Prism=n)})(d1e);var $Ne=d1e.exports,MNe=J4;J4.displayName="markup";J4.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function J4(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var FNe=e6;e6.displayName="css";e6.aliases=[];function e6(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var LNe=t6;t6.displayName="clike";t6.aliases=[];function t6(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var f1e=n6;n6.displayName="javascript";n6.aliases=["js"];function n6(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const BNe=Pe(f1e);var uy=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof vs=="object"?vs:{},NNe=nze();uy.Prism={manual:!0,disableWorkerMessageHandler:!0};var zNe=n7e,VNe=yNe,h1e=$Ne,HNe=MNe,UNe=FNe,WNe=LNe,YNe=f1e;NNe();var r6={}.hasOwnProperty;function p1e(){}p1e.prototype=h1e;var co=new p1e,qNe=co;co.highlight=KNe;co.register=iw;co.alias=GNe;co.registered=ZNe;co.listLanguages=XNe;iw(HNe);iw(UNe);iw(WNe);iw(YNe);co.util.encode=eze;co.Token.stringify=QNe;function iw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");co.languages[e.displayName]===void 0&&e(co)}function GNe(e,t){var n=co.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function KNe(e,t){var n=h1e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(co.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(r6.call(co.languages,t))r=co.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function ZNe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return r6.call(co.languages,e)}function XNe(){var e=co.languages,t=[],n;for(n in e)r6.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function QNe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:co.util.type(e)==="Array"?JNe(e,t):(r={type:e.type,content:co.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),co.hooks.run("wrap",r),zNe(r.tag+"."+r.classes.join("."),tze(r.attributes),r.content))}function JNe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=co.Token.stringify(i,t,n);return n}function eze(e){return e}function tze(e){var t;for(t in e)e[t]=VNe(e[t]);return e}function nze(){var e="Prism"in uy,t=e?uy.Prism:void 0;return n;function n(){e?uy.Prism=t:delete uy.Prism,e=void 0,t=void 0}}var m1e={},rze=h;function oze(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return rze.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(g1e(n+1)))}return e.value}function g1e(e){return function(n,r){return oze(n,r,e)}}m1e.depth=g1e;var v1e=y1e;function y1e(e){if(e==null)return lze;if(typeof e=="string")return aze(e);if(typeof e=="object")return"length"in e?sze(e):ize(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function ize(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function sze(e){for(var t=[],n=-1;++n<e.length;)t[n]=y1e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function aze(e){return t;function t(n){return!!(n&&n.type===e)}}function lze(){return!0}var cze=v1e,uze=fze,dze={}.hasOwnProperty;function fze(e,t,n){var r=cze(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)dze.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var hze=pze;function pze(e){return e}var mze=Z5,gze=v1e,vze=hze,b1e=!0,x1e="skip",O3=!1;Z5.CONTINUE=b1e;Z5.SKIP=x1e;Z5.EXIT=O3;function Z5(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=gze(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+vze(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,c,u[u.length-1]||null))&&(v=yze(n(a,u)),v[0]===O3))return v;if(a.children&&v[0]!==x1e)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===O3)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function yze(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[b1e,e]:[e]}var bze=typeof WeakMap=="function"?sw:aw;function sw(){this.map=new WeakMap}sw.prototype.has=function(e){return this.map.has(e)};sw.prototype.set=function(e,t){return this.map.set(e,t),this};sw.prototype.get=function(e){return this.map.get(e)};sw.prototype.clear=function(){};function aw(){this.keys=[],this.values=[]}aw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};aw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};aw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};aw.prototype.clear=function(){this.keys=[],this.values=[]};var xze=uze,wV=mze,SD=bze;function w1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=w1e(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function wze(e,t){var n={type:"root",children:t},r=new SD,o=new SD,i=new SD,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}wV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=xze(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(wV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function Cze(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function _ze(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return wze(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(Cze(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function Sze(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=w1e(e).nodes;return _ze(r,n,t)}var kze=Sze,Eze=h,Is=L8e,o6=qNe,jze=m1e,Tze=kze,CV=Eze.createElement;function lw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=o6.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=Tze(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(jze.depth(0)),s=CV("code",n,i);return e.inline?s:CV("pre",r,s)}lw.propTypes={className:Is.string,inline:Is.bool,language:Is.string.isRequired,value:Is.string.isRequired,markers:Is.arrayOf(Is.oneOfType([Is.number,Is.shape({line:Is.number.isRequired,className:Is.string,component:Is.oneOfType([Is.node,Is.func])})]))};lw.defaultProps={className:"refractor",inline:!1};lw.registerLanguage=function(e){return o6.register(e)};lw.hasLanguage=function(e){return o6.registered(e)};var Aze=lw;const Dp=Pe(Aze),Dze=["top","right","bottom","left"],Av=Math.min,fp=Math.max,WS=Math.round,PC=Math.floor,Tf=e=>({x:e,y:e}),Ize={left:"right",right:"left",bottom:"top",top:"bottom"},Pze={start:"end",end:"start"};function R3(e,t,n){return fp(e,Av(t,n))}function m0(e,t){return typeof e=="function"?e(t):e}function Ip(e){return e.split("-")[0]}function cw(e){return e.split("-")[1]}function C1e(e){return e==="x"?"y":"x"}function i6(e){return e==="y"?"height":"width"}function X5(e){return["top","bottom"].includes(Ip(e))?"y":"x"}function s6(e){return C1e(X5(e))}function Oze(e,t,n){n===void 0&&(n=!1);const r=cw(e),o=s6(e),i=i6(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=YS(s)),[s,YS(s)]}function Rze(e){const t=YS(e);return[$3(e),t,$3(t)]}function $3(e){return e.replace(/start|end/g,t=>Pze[t])}function $ze(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Mze(e,t,n,r){const o=cw(e);let i=$ze(Ip(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map($3)))),i}function YS(e){return e.replace(/left|right|bottom|top/g,t=>Ize[t])}function Fze(e){return{top:0,right:0,bottom:0,left:0,...e}}function _1e(e){return typeof e!="number"?Fze(e):{top:e,right:e,bottom:e,left:e}}function qS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function _V(e,t,n){let{reference:r,floating:o}=e;const i=X5(t),s=s6(t),a=i6(s),c=Ip(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(cw(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const Lze=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=_V(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=_V(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Eb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=m0(t,e),v=_1e(m),y=a[p?f==="floating"?"reference":"floating":f],x=qS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=qS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const SV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=m0(e,t)||{};if(u==null)return{};const f=_1e(d),p={x:n,y:r},m=s6(o),v=i6(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=S?S[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(S)))&&(k=a.floating[w]||i.floating[v]);const j=C/2-_/2,E=k/2-g[v]/2-1,T=Av(f[x],E),A=Av(f[b],E),D=T,I=k-g[v]-A,P=k/2-g[v]/2+j,$=R3(D,P,I),R=!c.arrow&&cw(o)!=null&&P!=$&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,V=R?P<D?P-D:P-I:0;return{[m]:p[m]+V,data:{[m]:$,centerOffset:P-$-V,...R&&{alignmentOffset:V}},reset:R}}}),S1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=m0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Ip(o),b=Ip(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(b||!g?[YS(a)]:Rze(a));!p&&v!=="none"&&C.push(...Mze(a,g,v,w));const _=[a,...C],S=await Eb(t,y),k=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(S[x]),f){const D=Oze(o,s,w);k.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:k}],!k.every(D=>D<=0)){var E,T;const D=(((E=i.flip)==null?void 0:E.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,N)=>V+N,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:A[0];$&&(P=$);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function kV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function EV(e){return Dze.some(t=>e[t]>=0)}const Bze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=m0(e,t);switch(r){case"referenceHidden":{const i=await Eb(t,{...o,elementContext:"reference"}),s=kV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:EV(s)}}}case"escaped":{const i=await Eb(t,{...o,altBoundary:!0}),s=kV(i,n.floating);return{data:{escapedOffsets:s,escaped:EV(s)}}}default:return{}}}}};async function Nze(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ip(n),a=cw(n),c=X5(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=m0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const k1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Nze(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},E1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=m0(e,t),u={x:n,y:r},d=await Eb(t,c),f=X5(Ip(o)),p=C1e(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=R3(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=R3(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function Af(e){return j1e(e)?(e.nodeName||"").toLowerCase():"#document"}function Gs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function td(e){var t;return(t=(j1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j1e(e){return e instanceof Node||e instanceof Gs(e).Node}function Pu(e){return e instanceof Element||e instanceof Gs(e).Element}function Tc(e){return e instanceof HTMLElement||e instanceof Gs(e).HTMLElement}function jV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gs(e).ShadowRoot}function uw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=La(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function zze(e){return["table","td","th"].includes(Af(e))}function a6(e){const t=l6(),n=La(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Vze(e){let t=Dv(e);for(;Tc(t)&&!Q5(t);){if(a6(t))return t;t=Dv(t)}return null}function l6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Q5(e){return["html","body","#document"].includes(Af(e))}function La(e){return Gs(e).getComputedStyle(e)}function J5(e){return Pu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Dv(e){if(Af(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jV(e)&&e.host||td(e);return jV(t)?t.host:t}function T1e(e){const t=Dv(e);return Q5(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tc(t)&&uw(t)?t:T1e(t)}function jb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=T1e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Gs(o);return i?t.concat(s,s.visualViewport||[],uw(o)?o:[],s.frameElement&&n?jb(s.frameElement):[]):t.concat(o,jb(o,[],n))}function A1e(e){const t=La(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=WS(n)!==i||WS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function c6(e){return Pu(e)?e:e.contextElement}function Yg(e){const t=c6(e);if(!Tc(t))return Tf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=A1e(t);let s=(i?WS(n.width):n.width)/r,a=(i?WS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Hze=Tf(0);function D1e(e){const t=Gs(e);return!l6()||!t.visualViewport?Hze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Uze(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gs(e)?!1:t}function Pp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=c6(e);let s=Tf(1);t&&(r?Pu(r)&&(s=Yg(r)):s=Yg(e));const a=Uze(i,n,r)?D1e(i):Tf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Gs(i),m=r&&Pu(r)?Gs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Yg(v),y=v.getBoundingClientRect(),x=La(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=w,v=Gs(v).frameElement}}return qS({width:d,height:f,x:c,y:u})}function Wze(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Tc(n),i=td(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Tf(1);const c=Tf(0);if((o||!o&&r!=="fixed")&&((Af(n)!=="body"||uw(i))&&(s=J5(n)),Tc(n))){const u=Pp(n);a=Yg(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function Yze(e){return Array.from(e.getClientRects())}function I1e(e){return Pp(td(e)).left+J5(e).scrollLeft}function qze(e){const t=td(e),n=J5(e),r=e.ownerDocument.body,o=fp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+I1e(e);const a=-n.scrollTop;return La(r).direction==="rtl"&&(s+=fp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function Gze(e,t){const n=Gs(e),r=td(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=l6();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function Kze(e,t){const n=Pp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Tc(e)?Yg(e):Tf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function TV(e,t,n){let r;if(t==="viewport")r=Gze(e,n);else if(t==="document")r=qze(td(e));else if(Pu(t))r=Kze(t,n);else{const o=D1e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return qS(r)}function P1e(e,t){const n=Dv(e);return n===t||!Pu(n)||Q5(n)?!1:La(n).position==="fixed"||P1e(n,t)}function Zze(e,t){const n=t.get(e);if(n)return n;let r=jb(e,[],!1).filter(a=>Pu(a)&&Af(a)!=="body"),o=null;const i=La(e).position==="fixed";let s=i?Dv(e):e;for(;Pu(s)&&!Q5(s);){const a=La(s),c=a6(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||uw(s)&&!c&&P1e(e,s))?r=r.filter(d=>d!==s):o=a,s=Dv(s)}return t.set(e,r),r}function Xze(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Zze(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=TV(t,d,o);return u.top=fp(f.top,u.top),u.right=Av(f.right,u.right),u.bottom=Av(f.bottom,u.bottom),u.left=fp(f.left,u.left),u},TV(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Qze(e){return A1e(e)}function Jze(e,t,n){const r=Tc(t),o=td(t),i=n==="fixed",s=Pp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Tf(0);if(r||!r&&!i)if((Af(t)!=="body"||uw(o))&&(a=J5(t)),r){const u=Pp(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=I1e(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function AV(e,t){return!Tc(e)||La(e).position==="fixed"?null:t?t(e):e.offsetParent}function O1e(e,t){const n=Gs(e);if(!Tc(e))return n;let r=AV(e,t);for(;r&&zze(r)&&La(r).position==="static";)r=AV(r,t);return r&&(Af(r)==="html"||Af(r)==="body"&&La(r).position==="static"&&!a6(r))?n:r||Vze(e)||n}const eVe=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||O1e,i=this.getDimensions;return{reference:Jze(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function tVe(e){return La(e).direction==="rtl"}const nVe={convertOffsetParentRelativeRectToViewportRelativeRect:Wze,getDocumentElement:td,getClippingRect:Xze,getOffsetParent:O1e,getElementRects:eVe,getClientRects:Yze,getDimensions:Qze,getScale:Yg,isElement:Pu,isRTL:tVe};function rVe(e,t){let n=null,r;const o=td(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=PC(d),v=PC(o.clientWidth-(u+f)),g=PC(o.clientHeight-(d+p)),y=PC(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:fp(0,Av(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function R1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=c6(e),d=o||i?[...u?jb(u):[],...jb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?rVe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Pp(e):null;c&&y();function y(){const x=Pp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const oVe=(e,t,n)=>{const r=new Map,o={platform:nVe,...n},i={...o.platform,_c:r};return Lze(e,t,{...o,platform:i})};var $1e={exports:{}},sa={},M1e={exports:{}},F1e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,H){var G=N.length;N.push(H);e:for(;0<G;){var U=G-1>>>1,q=N[U];if(0<o(q,H))N[U]=H,N[G]=q,G=U;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var H=N[0],G=N.pop();if(G!==H){N[0]=G;e:for(var U=0,q=N.length,Z=q>>>1;U<Z;){var B=2*(U+1)-1,W=N[B],z=B+1,X=N[z];if(0>o(W,G))z<q&&0>o(X,W)?(N[U]=X,N[z]=G,U=z):(N[U]=W,N[B]=G,U=B);else if(z<q&&0>o(X,G))N[U]=X,N[z]=G,U=z;else break e}}return H}function o(N,H){var G=N.sortIndex-H.sortIndex;return G!==0?G:N.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=N)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function C(N){if(g=!1,w(N),!v)if(n(c)!==null)v=!0,R(_);else{var H=n(u);H!==null&&V(C,H.startTime-N)}}function _(N,H){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var G=p;try{for(w(H),f=n(c);f!==null&&(!(f.expirationTime>H)||N&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var q=U(f.expirationTime<=H);H=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),w(H)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var B=n(u);B!==null&&V(C,B.startTime-H),Z=!1}return Z}finally{f=null,p=G,m=!1}}var S=!1,k=null,j=-1,E=5,T=-1;function A(){return!(e.unstable_now()-T<E)}function D(){if(k!==null){var N=e.unstable_now();T=N;var H=!0;try{H=k(!0,N)}finally{H?I():(S=!1,k=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){y(D,0)};function R(N){k=N,S||(S=!0,I())}function V(N,H){j=y(function(){N(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var G=p;p=H;try{return N()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=p;p=N;try{return H()}finally{p=G}},e.unstable_scheduleCallback=function(N,H,G){var U=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?U+G:U):G=U,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,N={id:d++,callback:H,priorityLevel:N,startTime:G,expirationTime:q,sortIndex:-1},G>U?(N.sortIndex=G,t(u,N),n(c)===null&&N===n(u)&&(g?(x(j),j=-1):g=!0,V(C,G-U))):(N.sortIndex=q,t(c,N),v||m||(v=!0,R(_))),N},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(N){var H=p;return function(){var G=p;p=H;try{return N.apply(this,arguments)}finally{p=G}}}})(F1e);M1e.exports=F1e;var iVe=M1e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1e=h,Qs=iVe;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B1e=new Set,Tb={};function um(e,t){Iv(e,t),Iv(e+"Capture",t)}function Iv(e,t){for(Tb[e]=t,e=0;e<t.length;e++)B1e.add(t[e])}var Ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M3=Object.prototype.hasOwnProperty,sVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DV={},IV={};function aVe(e){return M3.call(IV,e)?!0:M3.call(DV,e)?!1:sVe.test(e)?IV[e]=!0:(DV[e]=!0,!1)}function lVe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cVe(e,t,n,r){if(t===null||typeof t>"u"||lVe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ji(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ni[e]=new Ji(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ni[t]=new Ji(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ni[e]=new Ji(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ni[e]=new Ji(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ni[e]=new Ji(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ni[e]=new Ji(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ni[e]=new Ji(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ni[e]=new Ji(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ni[e]=new Ji(e,5,!1,e.toLowerCase(),null,!1,!1)});var u6=/[\-:]([a-z])/g;function d6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u6,d6);ni[t]=new Ji(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u6,d6);ni[t]=new Ji(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u6,d6);ni[t]=new Ji(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ni[e]=new Ji(e,1,!1,e.toLowerCase(),null,!1,!1)});ni.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ni[e]=new Ji(e,1,!1,e.toLowerCase(),null,!0,!0)});function f6(e,t,n,r){var o=ni.hasOwnProperty(t)?ni[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cVe(t,n,o,r)&&(n=null),r||o===null?aVe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nd=L1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,OC=Symbol.for("react.element"),wg=Symbol.for("react.portal"),Cg=Symbol.for("react.fragment"),h6=Symbol.for("react.strict_mode"),F3=Symbol.for("react.profiler"),N1e=Symbol.for("react.provider"),z1e=Symbol.for("react.context"),p6=Symbol.for("react.forward_ref"),L3=Symbol.for("react.suspense"),B3=Symbol.for("react.suspense_list"),m6=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),V1e=Symbol.for("react.offscreen"),PV=Symbol.iterator;function b1(e){return e===null||typeof e!="object"?null:(e=PV&&e[PV]||e["@@iterator"],typeof e=="function"?e:null)}var Or=Object.assign,kD;function dy(e){if(kD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kD=t&&t[1]||""}return`
`+kD+e}var ED=!1;function jD(e,t){if(!e||ED)return"";ED=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{ED=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dy(e):""}function uVe(e){switch(e.tag){case 5:return dy(e.type);case 16:return dy("Lazy");case 13:return dy("Suspense");case 19:return dy("SuspenseList");case 0:case 2:case 15:return e=jD(e.type,!1),e;case 11:return e=jD(e.type.render,!1),e;case 1:return e=jD(e.type,!0),e;default:return""}}function N3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cg:return"Fragment";case wg:return"Portal";case F3:return"Profiler";case h6:return"StrictMode";case L3:return"Suspense";case B3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z1e:return(e.displayName||"Context")+".Consumer";case N1e:return(e._context.displayName||"Context")+".Provider";case p6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case m6:return t=e.displayName||null,t!==null?t:N3(e.type)||"Memo";case jd:t=e._payload,e=e._init;try{return N3(e(t))}catch{}}return null}function dVe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N3(t);case 8:return t===h6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Df(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H1e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fVe(e){var t=H1e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function RC(e){e._valueTracker||(e._valueTracker=fVe(e))}function U1e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H1e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function GS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z3(e,t){var n=t.checked;return Or({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function OV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Df(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W1e(e,t){t=t.checked,t!=null&&f6(e,"checked",t,!1)}function V3(e,t){W1e(e,t);var n=Df(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?H3(e,t.type,n):t.hasOwnProperty("defaultValue")&&H3(e,t.type,Df(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function H3(e,t,n){(t!=="number"||GS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fy=Array.isArray;function qg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Df(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function U3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Or({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $V(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(fy(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Df(n)}}function Y1e(e,t){var n=Df(t.value),r=Df(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function MV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q1e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q1e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $C,G1e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($C=$C||document.createElement("div"),$C.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$C.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ab(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ly={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hVe=["Webkit","ms","Moz","O"];Object.keys(Ly).forEach(function(e){hVe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ly[t]=Ly[e]})});function K1e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ly.hasOwnProperty(e)&&Ly[e]?(""+t).trim():t+"px"}function Z1e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=K1e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var pVe=Or({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y3(e,t){if(t){if(pVe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function q3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G3=null;function g6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var K3=null,Gg=null,Kg=null;function FV(e){if(e=hw(e)){if(typeof K3!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=oj(t),K3(e.stateNode,e.type,t))}}function X1e(e){Gg?Kg?Kg.push(e):Kg=[e]:Gg=e}function Q1e(){if(Gg){var e=Gg,t=Kg;if(Kg=Gg=null,FV(e),t)for(e=0;e<t.length;e++)FV(t[e])}}function J1e(e,t){return e(t)}function eye(){}var TD=!1;function tye(e,t,n){if(TD)return e(t,n);TD=!0;try{return J1e(e,t,n)}finally{TD=!1,(Gg!==null||Kg!==null)&&(eye(),Q1e())}}function Db(e,t){var n=e.stateNode;if(n===null)return null;var r=oj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var Z3=!1;if(Ou)try{var x1={};Object.defineProperty(x1,"passive",{get:function(){Z3=!0}}),window.addEventListener("test",x1,x1),window.removeEventListener("test",x1,x1)}catch{Z3=!1}function mVe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var By=!1,KS=null,ZS=!1,X3=null,gVe={onError:function(e){By=!0,KS=e}};function vVe(e,t,n,r,o,i,s,a,c){By=!1,KS=null,mVe.apply(gVe,arguments)}function yVe(e,t,n,r,o,i,s,a,c){if(vVe.apply(this,arguments),By){if(By){var u=KS;By=!1,KS=null}else throw Error(Te(198));ZS||(ZS=!0,X3=u)}}function dm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nye(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LV(e){if(dm(e)!==e)throw Error(Te(188))}function bVe(e){var t=e.alternate;if(!t){if(t=dm(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return LV(o),e;if(i===r)return LV(o),t;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function rye(e){return e=bVe(e),e!==null?oye(e):null}function oye(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oye(e);if(t!==null)return t;e=e.sibling}return null}var iye=Qs.unstable_scheduleCallback,BV=Qs.unstable_cancelCallback,xVe=Qs.unstable_shouldYield,wVe=Qs.unstable_requestPaint,Gr=Qs.unstable_now,CVe=Qs.unstable_getCurrentPriorityLevel,v6=Qs.unstable_ImmediatePriority,sye=Qs.unstable_UserBlockingPriority,XS=Qs.unstable_NormalPriority,_Ve=Qs.unstable_LowPriority,aye=Qs.unstable_IdlePriority,ej=null,xc=null;function SVe(e){if(xc&&typeof xc.onCommitFiberRoot=="function")try{xc.onCommitFiberRoot(ej,e,void 0,(e.current.flags&128)===128)}catch{}}var Cl=Math.clz32?Math.clz32:jVe,kVe=Math.log,EVe=Math.LN2;function jVe(e){return e>>>=0,e===0?32:31-(kVe(e)/EVe|0)|0}var MC=64,FC=4194304;function hy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function QS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=hy(a):(i&=s,i!==0&&(r=hy(i)))}else s=n&~o,s!==0?r=hy(s):i!==0&&(r=hy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cl(t),o=1<<n,r|=e[n],t&=~o;return r}function TVe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AVe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Cl(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=TVe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Q3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lye(){var e=MC;return MC<<=1,!(MC&4194240)&&(MC=64),e}function AD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cl(t),e[t]=n}function DVe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Cl(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function y6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cl(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Cn=0;function cye(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uye,b6,dye,fye,hye,J3=!1,LC=[],af=null,lf=null,cf=null,Ib=new Map,Pb=new Map,Md=[],IVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NV(e,t){switch(e){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":lf=null;break;case"mouseover":case"mouseout":cf=null;break;case"pointerover":case"pointerout":Ib.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pb.delete(t.pointerId)}}function w1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=hw(t),t!==null&&b6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function PVe(e,t,n,r,o){switch(t){case"focusin":return af=w1(af,e,t,n,r,o),!0;case"dragenter":return lf=w1(lf,e,t,n,r,o),!0;case"mouseover":return cf=w1(cf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ib.set(i,w1(Ib.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pb.set(i,w1(Pb.get(i)||null,e,t,n,r,o)),!0}return!1}function pye(e){var t=Zh(e.target);if(t!==null){var n=dm(t);if(n!==null){if(t=n.tag,t===13){if(t=nye(n),t!==null){e.blockedOn=t,hye(e.priority,function(){dye(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function k2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);G3=r,n.target.dispatchEvent(r),G3=null}else return t=hw(n),t!==null&&b6(t),e.blockedOn=n,!1;t.shift()}return!0}function zV(e,t,n){k2(e)&&n.delete(t)}function OVe(){J3=!1,af!==null&&k2(af)&&(af=null),lf!==null&&k2(lf)&&(lf=null),cf!==null&&k2(cf)&&(cf=null),Ib.forEach(zV),Pb.forEach(zV)}function C1(e,t){e.blockedOn===t&&(e.blockedOn=null,J3||(J3=!0,Qs.unstable_scheduleCallback(Qs.unstable_NormalPriority,OVe)))}function Ob(e){function t(o){return C1(o,e)}if(0<LC.length){C1(LC[0],e);for(var n=1;n<LC.length;n++){var r=LC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(af!==null&&C1(af,e),lf!==null&&C1(lf,e),cf!==null&&C1(cf,e),Ib.forEach(t),Pb.forEach(t),n=0;n<Md.length;n++)r=Md[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Md.length&&(n=Md[0],n.blockedOn===null);)pye(n),n.blockedOn===null&&Md.shift()}var Zg=nd.ReactCurrentBatchConfig,JS=!0;function RVe(e,t,n,r){var o=Cn,i=Zg.transition;Zg.transition=null;try{Cn=1,x6(e,t,n,r)}finally{Cn=o,Zg.transition=i}}function $Ve(e,t,n,r){var o=Cn,i=Zg.transition;Zg.transition=null;try{Cn=4,x6(e,t,n,r)}finally{Cn=o,Zg.transition=i}}function x6(e,t,n,r){if(JS){var o=eR(e,t,n,r);if(o===null)BD(e,t,r,ek,n),NV(e,r);else if(PVe(o,e,t,n,r))r.stopPropagation();else if(NV(e,r),t&4&&-1<IVe.indexOf(e)){for(;o!==null;){var i=hw(o);if(i!==null&&uye(i),i=eR(e,t,n,r),i===null&&BD(e,t,r,ek,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else BD(e,t,r,null,n)}}var ek=null;function eR(e,t,n,r){if(ek=null,e=g6(r),e=Zh(e),e!==null)if(t=dm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nye(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ek=e,null}function mye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CVe()){case v6:return 1;case sye:return 4;case XS:case _Ve:return 16;case aye:return 536870912;default:return 16}default:return 16}}var zd=null,w6=null,E2=null;function gye(){if(E2)return E2;var e,t=w6,n=t.length,r,o="value"in zd?zd.value:zd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return E2=o.slice(e,1<r?1-r:void 0)}function j2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function BC(){return!0}function VV(){return!1}function aa(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?BC:VV,this.isPropagationStopped=VV,this}return Or(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=BC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=BC)},persist:function(){},isPersistent:BC}),t}var g0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C6=aa(g0),fw=Or({},g0,{view:0,detail:0}),MVe=aa(fw),DD,ID,_1,tj=Or({},fw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_1&&(_1&&e.type==="mousemove"?(DD=e.screenX-_1.screenX,ID=e.screenY-_1.screenY):ID=DD=0,_1=e),DD)},movementY:function(e){return"movementY"in e?e.movementY:ID}}),HV=aa(tj),FVe=Or({},tj,{dataTransfer:0}),LVe=aa(FVe),BVe=Or({},fw,{relatedTarget:0}),PD=aa(BVe),NVe=Or({},g0,{animationName:0,elapsedTime:0,pseudoElement:0}),zVe=aa(NVe),VVe=Or({},g0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HVe=aa(VVe),UVe=Or({},g0,{data:0}),UV=aa(UVe),WVe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YVe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qVe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GVe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qVe[e])?!!t[e]:!1}function _6(){return GVe}var KVe=Or({},fw,{key:function(e){if(e.key){var t=WVe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=j2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YVe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_6,charCode:function(e){return e.type==="keypress"?j2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZVe=aa(KVe),XVe=Or({},tj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WV=aa(XVe),QVe=Or({},fw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_6}),JVe=aa(QVe),eHe=Or({},g0,{propertyName:0,elapsedTime:0,pseudoElement:0}),tHe=aa(eHe),nHe=Or({},tj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rHe=aa(nHe),oHe=[9,13,27,32],S6=Ou&&"CompositionEvent"in window,Ny=null;Ou&&"documentMode"in document&&(Ny=document.documentMode);var iHe=Ou&&"TextEvent"in window&&!Ny,vye=Ou&&(!S6||Ny&&8<Ny&&11>=Ny),YV=String.fromCharCode(32),qV=!1;function yye(e,t){switch(e){case"keyup":return oHe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _g=!1;function sHe(e,t){switch(e){case"compositionend":return bye(t);case"keypress":return t.which!==32?null:(qV=!0,YV);case"textInput":return e=t.data,e===YV&&qV?null:e;default:return null}}function aHe(e,t){if(_g)return e==="compositionend"||!S6&&yye(e,t)?(e=gye(),E2=w6=zd=null,_g=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vye&&t.locale!=="ko"?null:t.data;default:return null}}var lHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lHe[e.type]:t==="textarea"}function xye(e,t,n,r){X1e(r),t=tk(t,"onChange"),0<t.length&&(n=new C6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zy=null,Rb=null;function cHe(e){Iye(e,0)}function nj(e){var t=Eg(e);if(U1e(t))return e}function uHe(e,t){if(e==="change")return t}var wye=!1;if(Ou){var OD;if(Ou){var RD="oninput"in document;if(!RD){var KV=document.createElement("div");KV.setAttribute("oninput","return;"),RD=typeof KV.oninput=="function"}OD=RD}else OD=!1;wye=OD&&(!document.documentMode||9<document.documentMode)}function ZV(){zy&&(zy.detachEvent("onpropertychange",Cye),Rb=zy=null)}function Cye(e){if(e.propertyName==="value"&&nj(Rb)){var t=[];xye(t,Rb,e,g6(e)),tye(cHe,t)}}function dHe(e,t,n){e==="focusin"?(ZV(),zy=t,Rb=n,zy.attachEvent("onpropertychange",Cye)):e==="focusout"&&ZV()}function fHe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nj(Rb)}function hHe(e,t){if(e==="click")return nj(t)}function pHe(e,t){if(e==="input"||e==="change")return nj(t)}function mHe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jl=typeof Object.is=="function"?Object.is:mHe;function $b(e,t){if(jl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!M3.call(t,o)||!jl(e[o],t[o]))return!1}return!0}function XV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QV(e,t){var n=XV(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XV(n)}}function _ye(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_ye(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sye(){for(var e=window,t=GS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=GS(e.document)}return t}function k6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gHe(e){var t=Sye(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_ye(n.ownerDocument.documentElement,n)){if(r!==null&&k6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=QV(n,i);var s=QV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vHe=Ou&&"documentMode"in document&&11>=document.documentMode,Sg=null,tR=null,Vy=null,nR=!1;function JV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nR||Sg==null||Sg!==GS(r)||(r=Sg,"selectionStart"in r&&k6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vy&&$b(Vy,r)||(Vy=r,r=tk(tR,"onSelect"),0<r.length&&(t=new C6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sg)))}function NC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kg={animationend:NC("Animation","AnimationEnd"),animationiteration:NC("Animation","AnimationIteration"),animationstart:NC("Animation","AnimationStart"),transitionend:NC("Transition","TransitionEnd")},$D={},kye={};Ou&&(kye=document.createElement("div").style,"AnimationEvent"in window||(delete kg.animationend.animation,delete kg.animationiteration.animation,delete kg.animationstart.animation),"TransitionEvent"in window||delete kg.transitionend.transition);function rj(e){if($D[e])return $D[e];if(!kg[e])return e;var t=kg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kye)return $D[e]=t[n];return e}var Eye=rj("animationend"),jye=rj("animationiteration"),Tye=rj("animationstart"),Aye=rj("transitionend"),Dye=new Map,eH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yf(e,t){Dye.set(e,t),um(t,[e])}for(var MD=0;MD<eH.length;MD++){var FD=eH[MD],yHe=FD.toLowerCase(),bHe=FD[0].toUpperCase()+FD.slice(1);Yf(yHe,"on"+bHe)}Yf(Eye,"onAnimationEnd");Yf(jye,"onAnimationIteration");Yf(Tye,"onAnimationStart");Yf("dblclick","onDoubleClick");Yf("focusin","onFocus");Yf("focusout","onBlur");Yf(Aye,"onTransitionEnd");Iv("onMouseEnter",["mouseout","mouseover"]);Iv("onMouseLeave",["mouseout","mouseover"]);Iv("onPointerEnter",["pointerout","pointerover"]);Iv("onPointerLeave",["pointerout","pointerover"]);um("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));um("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));um("onBeforeInput",["compositionend","keypress","textInput","paste"]);um("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));um("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));um("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var py="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xHe=new Set("cancel close invalid load scroll toggle".split(" ").concat(py));function tH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yVe(r,t,void 0,e),e.currentTarget=null}function Iye(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;tH(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;tH(o,a,u),i=c}}}if(ZS)throw e=X3,ZS=!1,X3=null,e}function tr(e,t){var n=t[aR];n===void 0&&(n=t[aR]=new Set);var r=e+"__bubble";n.has(r)||(Pye(t,e,2,!1),n.add(r))}function LD(e,t,n){var r=0;t&&(r|=4),Pye(n,e,r,t)}var zC="_reactListening"+Math.random().toString(36).slice(2);function Mb(e){if(!e[zC]){e[zC]=!0,B1e.forEach(function(n){n!=="selectionchange"&&(xHe.has(n)||LD(n,!1,e),LD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zC]||(t[zC]=!0,LD("selectionchange",!1,t))}}function Pye(e,t,n,r){switch(mye(t)){case 1:var o=RVe;break;case 4:o=$Ve;break;default:o=x6}n=o.bind(null,t,n,e),o=void 0,!Z3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function BD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Zh(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}tye(function(){var u=i,d=g6(n),f=[];e:{var p=Dye.get(e);if(p!==void 0){var m=C6,v=e;switch(e){case"keypress":if(j2(n)===0)break e;case"keydown":case"keyup":m=ZVe;break;case"focusin":v="focus",m=PD;break;case"focusout":v="blur",m=PD;break;case"beforeblur":case"afterblur":m=PD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=HV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LVe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JVe;break;case Eye:case jye:case Tye:m=zVe;break;case Aye:m=tHe;break;case"scroll":m=MVe;break;case"wheel":m=rHe;break;case"copy":case"cut":case"paste":m=HVe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=WV}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Db(b,x),C!=null&&g.push(Fb(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==G3&&(v=n.relatedTarget||n.fromElement)&&(Zh(v)||v[Ru]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Zh(v):null,v!==null&&(y=dm(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=HV,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=WV,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Eg(m),w=v==null?p:Eg(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,Zh(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=Vm(w))b++;for(w=0,C=x;C;C=Vm(C))w++;for(;0<b-w;)g=Vm(g),b--;for(;0<w-b;)x=Vm(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Vm(g),x=Vm(x)}g=null}else g=null;m!==null&&nH(f,p,m,g,!1),v!==null&&y!==null&&nH(f,y,v,g,!0)}}e:{if(p=u?Eg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=uHe;else if(GV(p))if(wye)_=pHe;else{_=fHe;var S=dHe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=hHe);if(_&&(_=_(e,u))){xye(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&H3(p,"number",p.value)}switch(S=u?Eg(u):window,e){case"focusin":(GV(S)||S.contentEditable==="true")&&(Sg=S,tR=u,Vy=null);break;case"focusout":Vy=tR=Sg=null;break;case"mousedown":nR=!0;break;case"contextmenu":case"mouseup":case"dragend":nR=!1,JV(f,n,d);break;case"selectionchange":if(vHe)break;case"keydown":case"keyup":JV(f,n,d)}var k;if(S6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else _g?yye(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(vye&&n.locale!=="ko"&&(_g||j!=="onCompositionStart"?j==="onCompositionEnd"&&_g&&(k=gye()):(zd=d,w6="value"in zd?zd.value:zd.textContent,_g=!0)),S=tk(u,j),0<S.length&&(j=new UV(j,e,null,n,d),f.push({event:j,listeners:S}),k?j.data=k:(k=bye(n),k!==null&&(j.data=k)))),(k=iHe?sHe(e,n):aHe(e,n))&&(u=tk(u,"onBeforeInput"),0<u.length&&(d=new UV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}Iye(f,t)})}function Fb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tk(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Db(e,n),i!=null&&r.unshift(Fb(e,i,o)),i=Db(e,t),i!=null&&r.push(Fb(e,i,o))),e=e.return}return r}function Vm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nH(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Db(n,i),c!=null&&s.unshift(Fb(n,c,a))):o||(c=Db(n,i),c!=null&&s.push(Fb(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var wHe=/\r\n?/g,CHe=/\u0000|\uFFFD/g;function rH(e){return(typeof e=="string"?e:""+e).replace(wHe,`
`).replace(CHe,"")}function VC(e,t,n){if(t=rH(t),rH(e)!==t&&n)throw Error(Te(425))}function nk(){}var rR=null,oR=null;function iR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sR=typeof setTimeout=="function"?setTimeout:void 0,_He=typeof clearTimeout=="function"?clearTimeout:void 0,oH=typeof Promise=="function"?Promise:void 0,SHe=typeof queueMicrotask=="function"?queueMicrotask:typeof oH<"u"?function(e){return oH.resolve(null).then(e).catch(kHe)}:sR;function kHe(e){setTimeout(function(){throw e})}function ND(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ob(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ob(t)}function uf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var v0=Math.random().toString(36).slice(2),dc="__reactFiber$"+v0,Lb="__reactProps$"+v0,Ru="__reactContainer$"+v0,aR="__reactEvents$"+v0,EHe="__reactListeners$"+v0,jHe="__reactHandles$"+v0;function Zh(e){var t=e[dc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ru]||n[dc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iH(e);e!==null;){if(n=e[dc])return n;e=iH(e)}return t}e=n,n=e.parentNode}return null}function hw(e){return e=e[dc]||e[Ru],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function oj(e){return e[Lb]||null}var lR=[],jg=-1;function qf(e){return{current:e}}function ir(e){0>jg||(e.current=lR[jg],lR[jg]=null,jg--)}function qn(e,t){jg++,lR[jg]=e.current,e.current=t}var If={},ji=qf(If),ws=qf(!1),Op=If;function Pv(e,t){var n=e.type.contextTypes;if(!n)return If;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Cs(e){return e=e.childContextTypes,e!=null}function rk(){ir(ws),ir(ji)}function sH(e,t,n){if(ji.current!==If)throw Error(Te(168));qn(ji,t),qn(ws,n)}function Oye(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Te(108,dVe(e)||"Unknown",o));return Or({},n,r)}function ok(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||If,Op=ji.current,qn(ji,e),qn(ws,ws.current),!0}function aH(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Oye(e,t,Op),r.__reactInternalMemoizedMergedChildContext=e,ir(ws),ir(ji),qn(ji,e)):ir(ws),qn(ws,n)}var lu=null,ij=!1,zD=!1;function Rye(e){lu===null?lu=[e]:lu.push(e)}function THe(e){ij=!0,Rye(e)}function Gf(){if(!zD&&lu!==null){zD=!0;var e=0,t=Cn;try{var n=lu;for(Cn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lu=null,ij=!1}catch(o){throw lu!==null&&(lu=lu.slice(e+1)),iye(v6,Gf),o}finally{Cn=t,zD=!1}}return null}var Tg=[],Ag=0,ik=null,sk=0,Ca=[],_a=0,Rp=null,fu=1,hu="";function Eh(e,t){Tg[Ag++]=sk,Tg[Ag++]=ik,ik=e,sk=t}function $ye(e,t,n){Ca[_a++]=fu,Ca[_a++]=hu,Ca[_a++]=Rp,Rp=e;var r=fu;e=hu;var o=32-Cl(r)-1;r&=~(1<<o),n+=1;var i=32-Cl(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,fu=1<<32-Cl(t)+o|n<<o|r,hu=i+e}else fu=1<<i|n<<o|r,hu=e}function E6(e){e.return!==null&&(Eh(e,1),$ye(e,1,0))}function j6(e){for(;e===ik;)ik=Tg[--Ag],Tg[Ag]=null,sk=Tg[--Ag],Tg[Ag]=null;for(;e===Rp;)Rp=Ca[--_a],Ca[_a]=null,hu=Ca[--_a],Ca[_a]=null,fu=Ca[--_a],Ca[_a]=null}var Ks=null,Ws=null,br=!1,ul=null;function Mye(e,t){var n=Aa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ks=e,Ws=uf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ks=e,Ws=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rp!==null?{id:fu,overflow:hu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Aa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ks=e,Ws=null,!0):!1;default:return!1}}function cR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uR(e){if(br){var t=Ws;if(t){var n=t;if(!lH(e,t)){if(cR(e))throw Error(Te(418));t=uf(n.nextSibling);var r=Ks;t&&lH(e,t)?Mye(r,n):(e.flags=e.flags&-4097|2,br=!1,Ks=e)}}else{if(cR(e))throw Error(Te(418));e.flags=e.flags&-4097|2,br=!1,Ks=e}}}function cH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ks=e}function HC(e){if(e!==Ks)return!1;if(!br)return cH(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!iR(e.type,e.memoizedProps)),t&&(t=Ws)){if(cR(e))throw Fye(),Error(Te(418));for(;t;)Mye(e,t),t=uf(t.nextSibling)}if(cH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ws=uf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ws=null}}else Ws=Ks?uf(e.stateNode.nextSibling):null;return!0}function Fye(){for(var e=Ws;e;)e=uf(e.nextSibling)}function Ov(){Ws=Ks=null,br=!1}function T6(e){ul===null?ul=[e]:ul.push(e)}var AHe=nd.ReactCurrentBatchConfig;function ll(e,t){if(e&&e.defaultProps){t=Or({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ak=qf(null),lk=null,Dg=null,A6=null;function D6(){A6=Dg=lk=null}function I6(e){var t=ak.current;ir(ak),e._currentValue=t}function dR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xg(e,t){lk=e,A6=Dg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ys=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(A6!==e)if(e={context:e,memoizedValue:t,next:null},Dg===null){if(lk===null)throw Error(Te(308));Dg=e,lk.dependencies={lanes:0,firstContext:e}}else Dg=Dg.next=e;return t}var Xh=null;function P6(e){Xh===null?Xh=[e]:Xh.push(e)}function Lye(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,P6(t)):(n.next=o.next,o.next=n),t.interleaved=n,$u(e,r)}function $u(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Td=!1;function O6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bye(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function df(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$u(e,n)}return o=r.interleaved,o===null?(t.next=t,P6(r)):(t.next=o.next,o.next=t),r.interleaved=t,$u(e,n)}function T2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y6(e,n)}}function uH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ck(e,t,n,r){var o=e.updateQueue;Td=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Or({},f,p);break e;case 2:Td=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Mp|=s,e.lanes=s,e.memoizedState=f}}function dH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Te(191,o));o.call(r)}}}var Nye=new L1e.Component().refs;function fR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Or({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sj={isMounted:function(e){return(e=e._reactInternals)?dm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gi(),o=hf(e),i=xu(r,o);i.payload=t,n!=null&&(i.callback=n),t=df(e,i,o),t!==null&&(_l(t,e,o,r),T2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gi(),o=hf(e),i=xu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=df(e,i,o),t!==null&&(_l(t,e,o,r),T2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gi(),r=hf(e),o=xu(n,r);o.tag=2,t!=null&&(o.callback=t),t=df(e,o,r),t!==null&&(_l(t,e,r,n),T2(t,e,r))}};function fH(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!$b(n,r)||!$b(o,i):!0}function zye(e,t,n){var r=!1,o=If,i=t.contextType;return typeof i=="object"&&i!==null?i=Ba(i):(o=Cs(t)?Op:ji.current,r=t.contextTypes,i=(r=r!=null)?Pv(e,o):If),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function hH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sj.enqueueReplaceState(t,t.state,null)}function hR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Nye,O6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ba(i):(i=Cs(t)?Op:ji.current,o.context=Pv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sj.enqueueReplaceState(o,o.state,null),ck(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function S1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Nye&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function UC(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pH(e){var t=e._init;return t(e._payload)}function Vye(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=pf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=GD(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,C){var _=w.type;return _===Cg?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&pH(_)===b.type)?(C=o(b,w.props),C.ref=S1(x,b,w),C.return=x,C):(C=R2(w.type,w.key,w.props,null,x.mode,C),C.ref=S1(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=KD(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=pp(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=GD(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case OC:return w=R2(b.type,b.key,b.props,null,x.mode,w),w.ref=S1(x,null,b),w.return=x,w;case wg:return b=KD(b,x.mode,w),b.return=x,b;case jd:var C=b._init;return f(x,C(b._payload),w)}if(fy(b)||b1(b))return b=pp(b,x.mode,w,null),b.return=x,b;UC(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case OC:return w.key===_?c(x,b,w,C):null;case wg:return w.key===_?u(x,b,w,C):null;case jd:return _=w._init,p(x,b,_(w._payload),C)}if(fy(w)||b1(w))return _!==null?null:d(x,b,w,C,null);UC(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case OC:return x=x.get(C.key===null?w:C.key)||null,c(b,x,C,_);case wg:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case jd:var S=C._init;return m(x,b,w,S(C._payload),_)}if(fy(C)||b1(C))return x=x.get(w)||null,d(b,x,C,_,null);UC(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,k=b,j=b=0,E=null;k!==null&&j<w.length;j++){k.index>j?(E=k,k=null):E=k.sibling;var T=p(x,k,w[j],C);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(x,k),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,k=E}if(j===w.length)return n(x,k),br&&Eh(x,j),_;if(k===null){for(;j<w.length;j++)k=f(x,w[j],C),k!==null&&(b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return br&&Eh(x,j),_}for(k=r(x,k);j<w.length;j++)E=m(k,x,j,w[j],C),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?j:E.key),b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return e&&k.forEach(function(A){return t(x,A)}),br&&Eh(x,j),_}function g(x,b,w,C){var _=b1(w);if(typeof _!="function")throw Error(Te(150));if(w=_.call(w),w==null)throw Error(Te(151));for(var S=_=null,k=b,j=b=0,E=null,T=w.next();k!==null&&!T.done;j++,T=w.next()){k.index>j?(E=k,k=null):E=k.sibling;var A=p(x,k,T.value,C);if(A===null){k===null&&(k=E);break}e&&k&&A.alternate===null&&t(x,k),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,k=E}if(T.done)return n(x,k),br&&Eh(x,j),_;if(k===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return br&&Eh(x,j),_}for(k=r(x,k);!T.done;j++,T=w.next())T=m(k,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&k.forEach(function(D){return t(x,D)}),br&&Eh(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===Cg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case OC:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===Cg){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&pH(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=S1(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Cg?(b=pp(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=R2(w.type,w.key,w.props,null,x.mode,C),C.ref=S1(x,b,w),C.return=x,x=C)}return s(x);case wg:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=KD(w,x.mode,C),b.return=x,x=b}return s(x);case jd:return S=w._init,y(x,b,S(w._payload),C)}if(fy(w))return v(x,b,w,C);if(b1(w))return g(x,b,w,C);UC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=GD(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var Rv=Vye(!0),Hye=Vye(!1),pw={},wc=qf(pw),Bb=qf(pw),Nb=qf(pw);function Qh(e){if(e===pw)throw Error(Te(174));return e}function R6(e,t){switch(qn(Nb,t),qn(Bb,e),qn(wc,pw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:W3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=W3(t,e)}ir(wc),qn(wc,t)}function $v(){ir(wc),ir(Bb),ir(Nb)}function Uye(e){Qh(Nb.current);var t=Qh(wc.current),n=W3(t,e.type);t!==n&&(qn(Bb,e),qn(wc,n))}function $6(e){Bb.current===e&&(ir(wc),ir(Bb))}var jr=qf(0);function uk(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var VD=[];function M6(){for(var e=0;e<VD.length;e++)VD[e]._workInProgressVersionPrimary=null;VD.length=0}var A2=nd.ReactCurrentDispatcher,HD=nd.ReactCurrentBatchConfig,$p=0,Ir=null,xo=null,Oo=null,dk=!1,Hy=!1,zb=0,DHe=0;function ui(){throw Error(Te(321))}function F6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jl(e[n],t[n]))return!1;return!0}function L6(e,t,n,r,o,i){if($p=i,Ir=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A2.current=e===null||e.memoizedState===null?RHe:$He,e=n(r,o),Hy){i=0;do{if(Hy=!1,zb=0,25<=i)throw Error(Te(301));i+=1,Oo=xo=null,t.updateQueue=null,A2.current=MHe,e=n(r,o)}while(Hy)}if(A2.current=fk,t=xo!==null&&xo.next!==null,$p=0,Oo=xo=Ir=null,dk=!1,t)throw Error(Te(300));return e}function B6(){var e=zb!==0;return zb=0,e}function rc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oo===null?Ir.memoizedState=Oo=e:Oo=Oo.next=e,Oo}function Na(){if(xo===null){var e=Ir.alternate;e=e!==null?e.memoizedState:null}else e=xo.next;var t=Oo===null?Ir.memoizedState:Oo.next;if(t!==null)Oo=t,xo=e;else{if(e===null)throw Error(Te(310));xo=e,e={memoizedState:xo.memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},Oo===null?Ir.memoizedState=Oo=e:Oo=Oo.next=e}return Oo}function Vb(e,t){return typeof t=="function"?t(e):t}function UD(e){var t=Na(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=xo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if(($p&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Ir.lanes|=d,Mp|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,jl(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ir.lanes|=i,Mp|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function WD(e){var t=Na(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);jl(i,t.memoizedState)||(ys=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Wye(){}function Yye(e,t){var n=Ir,r=Na(),o=t(),i=!jl(r.memoizedState,o);if(i&&(r.memoizedState=o,ys=!0),r=r.queue,N6(Kye.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oo!==null&&Oo.memoizedState.tag&1){if(n.flags|=2048,Hb(9,Gye.bind(null,n,r,o,t),void 0,null),Fo===null)throw Error(Te(349));$p&30||qye(n,t,o)}return o}function qye(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gye(e,t,n,r){t.value=n,t.getSnapshot=r,Zye(t)&&Xye(e)}function Kye(e,t,n){return n(function(){Zye(t)&&Xye(e)})}function Zye(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jl(e,n)}catch{return!0}}function Xye(e){var t=$u(e,1);t!==null&&_l(t,e,1,-1)}function mH(e){var t=rc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vb,lastRenderedState:e},t.queue=e,e=e.dispatch=OHe.bind(null,Ir,e),[t.memoizedState,e]}function Hb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ir.updateQueue,t===null?(t={lastEffect:null,stores:null},Ir.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qye(){return Na().memoizedState}function D2(e,t,n,r){var o=rc();Ir.flags|=e,o.memoizedState=Hb(1|t,n,void 0,r===void 0?null:r)}function aj(e,t,n,r){var o=Na();r=r===void 0?null:r;var i=void 0;if(xo!==null){var s=xo.memoizedState;if(i=s.destroy,r!==null&&F6(r,s.deps)){o.memoizedState=Hb(t,n,i,r);return}}Ir.flags|=e,o.memoizedState=Hb(1|t,n,i,r)}function gH(e,t){return D2(8390656,8,e,t)}function N6(e,t){return aj(2048,8,e,t)}function Jye(e,t){return aj(4,2,e,t)}function ebe(e,t){return aj(4,4,e,t)}function tbe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nbe(e,t,n){return n=n!=null?n.concat([e]):null,aj(4,4,tbe.bind(null,t,e),n)}function z6(){}function rbe(e,t){var n=Na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function obe(e,t){var n=Na();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&F6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ibe(e,t,n){return $p&21?(jl(n,t)||(n=lye(),Ir.lanes|=n,Mp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function IHe(e,t){var n=Cn;Cn=n!==0&&4>n?n:4,e(!0);var r=HD.transition;HD.transition={};try{e(!1),t()}finally{Cn=n,HD.transition=r}}function sbe(){return Na().memoizedState}function PHe(e,t,n){var r=hf(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},abe(e))lbe(t,n);else if(n=Lye(e,t,n,r),n!==null){var o=Gi();_l(n,e,r,o),cbe(n,t,r)}}function OHe(e,t,n){var r=hf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(abe(e))lbe(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,jl(a,s)){var c=t.interleaved;c===null?(o.next=o,P6(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Lye(e,t,o,r),n!==null&&(o=Gi(),_l(n,e,r,o),cbe(n,t,r))}}function abe(e){var t=e.alternate;return e===Ir||t!==null&&t===Ir}function lbe(e,t){Hy=dk=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cbe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,y6(e,n)}}var fk={readContext:Ba,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},RHe={readContext:Ba,useCallback:function(e,t){return rc().memoizedState=[e,t===void 0?null:t],e},useContext:Ba,useEffect:gH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,D2(4194308,4,tbe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return D2(4194308,4,e,t)},useInsertionEffect:function(e,t){return D2(4,2,e,t)},useMemo:function(e,t){var n=rc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PHe.bind(null,Ir,e),[r.memoizedState,e]},useRef:function(e){var t=rc();return e={current:e},t.memoizedState=e},useState:mH,useDebugValue:z6,useDeferredValue:function(e){return rc().memoizedState=e},useTransition:function(){var e=mH(!1),t=e[0];return e=IHe.bind(null,e[1]),rc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ir,o=rc();if(br){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Fo===null)throw Error(Te(349));$p&30||qye(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,gH(Kye.bind(null,r,i,e),[e]),r.flags|=2048,Hb(9,Gye.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=rc(),t=Fo.identifierPrefix;if(br){var n=hu,r=fu;n=(r&~(1<<32-Cl(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=DHe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$He={readContext:Ba,useCallback:rbe,useContext:Ba,useEffect:N6,useImperativeHandle:nbe,useInsertionEffect:Jye,useLayoutEffect:ebe,useMemo:obe,useReducer:UD,useRef:Qye,useState:function(){return UD(Vb)},useDebugValue:z6,useDeferredValue:function(e){var t=Na();return ibe(t,xo.memoizedState,e)},useTransition:function(){var e=UD(Vb)[0],t=Na().memoizedState;return[e,t]},useMutableSource:Wye,useSyncExternalStore:Yye,useId:sbe,unstable_isNewReconciler:!1},MHe={readContext:Ba,useCallback:rbe,useContext:Ba,useEffect:N6,useImperativeHandle:nbe,useInsertionEffect:Jye,useLayoutEffect:ebe,useMemo:obe,useReducer:WD,useRef:Qye,useState:function(){return WD(Vb)},useDebugValue:z6,useDeferredValue:function(e){var t=Na();return xo===null?t.memoizedState=e:ibe(t,xo.memoizedState,e)},useTransition:function(){var e=WD(Vb)[0],t=Na().memoizedState;return[e,t]},useMutableSource:Wye,useSyncExternalStore:Yye,useId:sbe,unstable_isNewReconciler:!1};function Mv(e,t){try{var n="",r=t;do n+=uVe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function YD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function pR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var FHe=typeof WeakMap=="function"?WeakMap:Map;function ube(e,t,n){n=xu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pk||(pk=!0,SR=r),pR(e,t)},n}function dbe(e,t,n){n=xu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){pR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pR(e,t),typeof r!="function"&&(ff===null?ff=new Set([this]):ff.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function vH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new FHe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=XHe.bind(null,e,t,n),t.then(e,e))}function yH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xu(-1,1),t.tag=2,df(n,t,1))),n.lanes|=1),e)}var LHe=nd.ReactCurrentOwner,ys=!1;function Vi(e,t,n,r){t.child=e===null?Hye(t,null,n,r):Rv(t,e.child,n,r)}function xH(e,t,n,r,o){n=n.render;var i=t.ref;return Xg(t,o),r=L6(e,t,n,r,i,o),n=B6(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(br&&n&&E6(t),t.flags|=1,Vi(e,t,r,o),t.child)}function wH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!K6(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fbe(e,t,i,r,o)):(e=R2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:$b,n(s,r)&&e.ref===t.ref)return Mu(e,t,o)}return t.flags|=1,e=pf(i,r),e.ref=t.ref,e.return=t,t.child=e}function fbe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if($b(i,r)&&e.ref===t.ref)if(ys=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ys=!0);else return t.lanes=e.lanes,Mu(e,t,o)}return mR(e,t,n,r,o)}function hbe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Pg,Fs),Fs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(Pg,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qn(Pg,Fs),Fs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qn(Pg,Fs),Fs|=r;return Vi(e,t,o,n),t.child}function pbe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mR(e,t,n,r,o){var i=Cs(n)?Op:ji.current;return i=Pv(t,i),Xg(t,o),n=L6(e,t,n,r,i,o),r=B6(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(br&&r&&E6(t),t.flags|=1,Vi(e,t,n,o),t.child)}function CH(e,t,n,r,o){if(Cs(n)){var i=!0;ok(t)}else i=!1;if(Xg(t,o),t.stateNode===null)I2(e,t),zye(t,n,r),hR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ba(u):(u=Cs(n)?Op:ji.current,u=Pv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&hH(t,s,r,u),Td=!1;var p=t.memoizedState;s.state=p,ck(t,r,s,o),c=t.memoizedState,a!==r||p!==c||ws.current||Td?(typeof d=="function"&&(fR(t,n,d,r),c=t.memoizedState),(a=Td||fH(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Bye(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ll(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ba(c):(c=Cs(n)?Op:ji.current,c=Pv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&hH(t,s,r,c),Td=!1,p=t.memoizedState,s.state=p,ck(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||ws.current||Td?(typeof m=="function"&&(fR(t,n,m,r),v=t.memoizedState),(u=Td||fH(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return gR(e,t,n,r,i,o)}function gR(e,t,n,r,o,i){pbe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&aH(t,n,!1),Mu(e,t,i);r=t.stateNode,LHe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Rv(t,e.child,null,i),t.child=Rv(t,null,a,i)):Vi(e,t,a,i),t.memoizedState=r.state,o&&aH(t,n,!0),t.child}function mbe(e){var t=e.stateNode;t.pendingContext?sH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sH(e,t.context,!1),R6(e,t.containerInfo)}function _H(e,t,n,r,o){return Ov(),T6(o),t.flags|=256,Vi(e,t,n,r),t.child}var vR={dehydrated:null,treeContext:null,retryLane:0};function yR(e){return{baseLanes:e,cachePool:null,transitions:null}}function gbe(e,t,n){var r=t.pendingProps,o=jr.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),qn(jr,o&1),e===null)return uR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=uj(s,r,0,null),e=pp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yR(n),t.memoizedState=vR,e):V6(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return BHe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=pf(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=pf(a,i):(i=pp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?yR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=vR,r}return i=e.child,e=i.sibling,r=pf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function V6(e,t){return t=uj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function WC(e,t,n,r){return r!==null&&T6(r),Rv(t,e.child,null,n),e=V6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BHe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=YD(Error(Te(422))),WC(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=uj({mode:"visible",children:r.children},o,0,null),i=pp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Rv(t,e.child,null,s),t.child.memoizedState=yR(s),t.memoizedState=vR,i);if(!(t.mode&1))return WC(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Te(419)),r=YD(i,r,void 0),WC(e,t,s,r)}if(a=(s&e.childLanes)!==0,ys||a){if(r=Fo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,$u(e,o),_l(r,e,o,-1))}return G6(),r=YD(Error(Te(421))),WC(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=QHe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ws=uf(o.nextSibling),Ks=t,br=!0,ul=null,e!==null&&(Ca[_a++]=fu,Ca[_a++]=hu,Ca[_a++]=Rp,fu=e.id,hu=e.overflow,Rp=t),t=V6(t,r.children),t.flags|=4096,t)}function SH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dR(e.return,t,n)}function qD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function vbe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Vi(e,t,r.children,n),r=jr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SH(e,n,t);else if(e.tag===19)SH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(jr,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&uk(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&uk(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qD(t,!0,n,null,i);break;case"together":qD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function I2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=pf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function NHe(e,t,n){switch(t.tag){case 3:mbe(t),Ov();break;case 5:Uye(t);break;case 1:Cs(t.type)&&ok(t);break;case 4:R6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;qn(ak,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(jr,jr.current&1),t.flags|=128,null):n&t.child.childLanes?gbe(e,t,n):(qn(jr,jr.current&1),e=Mu(e,t,n),e!==null?e.sibling:null);qn(jr,jr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vbe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qn(jr,jr.current),r)break;return null;case 22:case 23:return t.lanes=0,hbe(e,t,n)}return Mu(e,t,n)}var ybe,bR,bbe,xbe;ybe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bR=function(){};bbe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qh(wc.current);var i=null;switch(n){case"input":o=z3(e,o),r=z3(e,r),i=[];break;case"select":o=Or({},o,{value:void 0}),r=Or({},r,{value:void 0}),i=[];break;case"textarea":o=U3(e,o),r=U3(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=nk)}Y3(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&tr("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xbe=function(e,t,n,r){n!==r&&(t.flags|=4)};function k1(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function di(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zHe(e,t,n){var r=t.pendingProps;switch(j6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(t),null;case 1:return Cs(t.type)&&rk(),di(t),null;case 3:return r=t.stateNode,$v(),ir(ws),ir(ji),M6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(HC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ul!==null&&(jR(ul),ul=null))),bR(e,t),di(t),null;case 5:$6(t);var o=Qh(Nb.current);if(n=t.type,e!==null&&t.stateNode!=null)bbe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return di(t),null}if(e=Qh(wc.current),HC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[dc]=t,r[Lb]=i,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(o=0;o<py.length;o++)tr(py[o],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":OV(r,i),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tr("invalid",r);break;case"textarea":$V(r,i),tr("invalid",r)}Y3(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&VC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&VC(r.textContent,a,e),o=["children",""+a]):Tb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tr("scroll",r)}switch(n){case"input":RC(r),RV(r,i,!0);break;case"textarea":RC(r),MV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nk)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q1e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[dc]=t,e[Lb]=r,ybe(e,t,!1,!1),t.stateNode=e;e:{switch(s=q3(n,r),n){case"dialog":tr("cancel",e),tr("close",e),o=r;break;case"iframe":case"object":case"embed":tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<py.length;o++)tr(py[o],e);o=r;break;case"source":tr("error",e),o=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),o=r;break;case"details":tr("toggle",e),o=r;break;case"input":OV(e,r),o=z3(e,r),tr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Or({},r,{value:void 0}),tr("invalid",e);break;case"textarea":$V(e,r),o=U3(e,r),tr("invalid",e);break;default:o=r}Y3(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Z1e(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G1e(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ab(e,c):typeof c=="number"&&Ab(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&tr("scroll",e):c!=null&&f6(e,i,c,s))}switch(n){case"input":RC(e),RV(e,r,!1);break;case"textarea":RC(e),MV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Df(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?qg(e,!!r.multiple,i,!1):r.defaultValue!=null&&qg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=nk)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return di(t),null;case 6:if(e&&t.stateNode!=null)xbe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=Qh(Nb.current),Qh(wc.current),HC(t)){if(r=t.stateNode,n=t.memoizedProps,r[dc]=t,(i=r.nodeValue!==n)&&(e=Ks,e!==null))switch(e.tag){case 3:VC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&VC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dc]=t,t.stateNode=r}return di(t),null;case 13:if(ir(jr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&Ws!==null&&t.mode&1&&!(t.flags&128))Fye(),Ov(),t.flags|=98560,i=!1;else if(i=HC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[dc]=t}else Ov(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;di(t),i=!1}else ul!==null&&(jR(ul),ul=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jr.current&1?Co===0&&(Co=3):G6())),t.updateQueue!==null&&(t.flags|=4),di(t),null);case 4:return $v(),bR(e,t),e===null&&Mb(t.stateNode.containerInfo),di(t),null;case 10:return I6(t.type._context),di(t),null;case 17:return Cs(t.type)&&rk(),di(t),null;case 19:if(ir(jr),i=t.memoizedState,i===null)return di(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)k1(i,!1);else{if(Co!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=uk(e),s!==null){for(t.flags|=128,k1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(jr,jr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Gr()>Fv&&(t.flags|=128,r=!0,k1(i,!1),t.lanes=4194304)}else{if(!r)if(e=uk(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),k1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!br)return di(t),null}else 2*Gr()-i.renderingStartTime>Fv&&n!==1073741824&&(t.flags|=128,r=!0,k1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Gr(),t.sibling=null,n=jr.current,qn(jr,r?n&1|2:n&1),t):(di(t),null);case 22:case 23:return q6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fs&1073741824&&(di(t),t.subtreeFlags&6&&(t.flags|=8192)):di(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function VHe(e,t){switch(j6(t),t.tag){case 1:return Cs(t.type)&&rk(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $v(),ir(ws),ir(ji),M6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $6(t),null;case 13:if(ir(jr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Ov()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(jr),null;case 4:return $v(),null;case 10:return I6(t.type._context),null;case 22:case 23:return q6(),null;case 24:return null;default:return null}}var YC=!1,bi=!1,HHe=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Ig(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fr(e,t,r)}else n.current=null}function xR(e,t,n){try{n()}catch(r){Fr(e,t,r)}}var kH=!1;function UHe(e,t){if(rR=JS,e=Sye(),k6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oR={focusedElem:e,selectionRange:n},JS=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ll(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(C){Fr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return v=kH,kH=!1,v}function Uy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&xR(t,n,i)}o=o.next}while(o!==r)}}function lj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wbe(e){var t=e.alternate;t!==null&&(e.alternate=null,wbe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dc],delete t[Lb],delete t[aR],delete t[EHe],delete t[jHe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cbe(e){return e.tag===5||e.tag===3||e.tag===4}function EH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cbe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function CR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nk));else if(r!==4&&(e=e.child,e!==null))for(CR(e,t,n),e=e.sibling;e!==null;)CR(e,t,n),e=e.sibling}function _R(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_R(e,t,n),e=e.sibling;e!==null;)_R(e,t,n),e=e.sibling}var Yo=null,cl=!1;function vd(e,t,n){for(n=n.child;n!==null;)_be(e,t,n),n=n.sibling}function _be(e,t,n){if(xc&&typeof xc.onCommitFiberUnmount=="function")try{xc.onCommitFiberUnmount(ej,n)}catch{}switch(n.tag){case 5:bi||Ig(n,t);case 6:var r=Yo,o=cl;Yo=null,vd(e,t,n),Yo=r,cl=o,Yo!==null&&(cl?(e=Yo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yo.removeChild(n.stateNode));break;case 18:Yo!==null&&(cl?(e=Yo,n=n.stateNode,e.nodeType===8?ND(e.parentNode,n):e.nodeType===1&&ND(e,n),Ob(e)):ND(Yo,n.stateNode));break;case 4:r=Yo,o=cl,Yo=n.stateNode.containerInfo,cl=!0,vd(e,t,n),Yo=r,cl=o;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&xR(n,t,s),o=o.next}while(o!==r)}vd(e,t,n);break;case 1:if(!bi&&(Ig(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fr(n,t,a)}vd(e,t,n);break;case 21:vd(e,t,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,vd(e,t,n),bi=r):vd(e,t,n);break;default:vd(e,t,n)}}function jH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HHe),t.forEach(function(r){var o=JHe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function rl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yo=a.stateNode,cl=!1;break e;case 3:Yo=a.stateNode.containerInfo,cl=!0;break e;case 4:Yo=a.stateNode.containerInfo,cl=!0;break e}a=a.return}if(Yo===null)throw Error(Te(160));_be(i,s,o),Yo=null,cl=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Fr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sbe(t,e),t=t.sibling}function Sbe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rl(t,e),Gl(e),r&4){try{Uy(3,e,e.return),lj(3,e)}catch(g){Fr(e,e.return,g)}try{Uy(5,e,e.return)}catch(g){Fr(e,e.return,g)}}break;case 1:rl(t,e),Gl(e),r&512&&n!==null&&Ig(n,n.return);break;case 5:if(rl(t,e),Gl(e),r&512&&n!==null&&Ig(n,n.return),e.flags&32){var o=e.stateNode;try{Ab(o,"")}catch(g){Fr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&W1e(o,i),q3(a,s);var u=q3(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?Z1e(o,f):d==="dangerouslySetInnerHTML"?G1e(o,f):d==="children"?Ab(o,f):f6(o,d,f,u)}switch(a){case"input":V3(o,i);break;case"textarea":Y1e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?qg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?qg(o,!!i.multiple,i.defaultValue,!0):qg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Lb]=i}catch(g){Fr(e,e.return,g)}}break;case 6:if(rl(t,e),Gl(e),r&4){if(e.stateNode===null)throw Error(Te(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Fr(e,e.return,g)}}break;case 3:if(rl(t,e),Gl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ob(t.containerInfo)}catch(g){Fr(e,e.return,g)}break;case 4:rl(t,e),Gl(e);break;case 13:rl(t,e),Gl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(W6=Gr())),r&4&&jH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(bi=(u=bi)||d,rl(t,e),bi=u):rl(t,e),Gl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(qe=e,d=e.child;d!==null;){for(f=qe=d;qe!==null;){switch(p=qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Uy(4,p,p.return);break;case 1:Ig(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Fr(r,n,g)}}break;case 5:Ig(p,p.return);break;case 22:if(p.memoizedState!==null){AH(f);continue}}m!==null?(m.return=p,qe=m):AH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=K1e("display",s))}catch(g){Fr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Fr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rl(t,e),Gl(e),r&4&&jH(e);break;case 21:break;default:rl(t,e),Gl(e)}}function Gl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cbe(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ab(o,""),r.flags&=-33);var i=EH(e);_R(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=EH(e);CR(e,a,s);break;default:throw Error(Te(161))}}catch(c){Fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WHe(e,t,n){qe=e,kbe(e)}function kbe(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var o=qe,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||YC;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||bi;a=YC;var u=bi;if(YC=s,(bi=c)&&!u)for(qe=o;qe!==null;)s=qe,c=s.child,s.tag===22&&s.memoizedState!==null?DH(o):c!==null?(c.return=s,qe=c):DH(o);for(;i!==null;)qe=i,kbe(i),i=i.sibling;qe=o,YC=a,bi=u}TH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,qe=i):TH(e)}}function TH(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bi||lj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ll(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&dH(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ob(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}bi||t.flags&512&&wR(t)}catch(p){Fr(t,t.return,p)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function AH(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function DH(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lj(4,t)}catch(c){Fr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Fr(t,o,c)}}var i=t.return;try{wR(t)}catch(c){Fr(t,i,c)}break;case 5:var s=t.return;try{wR(t)}catch(c){Fr(t,s,c)}}}catch(c){Fr(t,t.return,c)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var YHe=Math.ceil,hk=nd.ReactCurrentDispatcher,H6=nd.ReactCurrentOwner,Oa=nd.ReactCurrentBatchConfig,on=0,Fo=null,lo=null,ti=0,Fs=0,Pg=qf(0),Co=0,Ub=null,Mp=0,cj=0,U6=0,Wy=null,hs=null,W6=0,Fv=1/0,iu=null,pk=!1,SR=null,ff=null,qC=!1,Vd=null,mk=0,Yy=0,kR=null,P2=-1,O2=0;function Gi(){return on&6?Gr():P2!==-1?P2:P2=Gr()}function hf(e){return e.mode&1?on&2&&ti!==0?ti&-ti:AHe.transition!==null?(O2===0&&(O2=lye()),O2):(e=Cn,e!==0||(e=window.event,e=e===void 0?16:mye(e.type)),e):1}function _l(e,t,n,r){if(50<Yy)throw Yy=0,kR=null,Error(Te(185));dw(e,n,r),(!(on&2)||e!==Fo)&&(e===Fo&&(!(on&2)&&(cj|=n),Co===4&&Fd(e,ti)),_s(e,r),n===1&&on===0&&!(t.mode&1)&&(Fv=Gr()+500,ij&&Gf()))}function _s(e,t){var n=e.callbackNode;AVe(e,t);var r=QS(e,e===Fo?ti:0);if(r===0)n!==null&&BV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&BV(n),t===1)e.tag===0?THe(IH.bind(null,e)):Rye(IH.bind(null,e)),SHe(function(){!(on&6)&&Gf()}),n=null;else{switch(cye(r)){case 1:n=v6;break;case 4:n=sye;break;case 16:n=XS;break;case 536870912:n=aye;break;default:n=XS}n=Obe(n,Ebe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ebe(e,t){if(P2=-1,O2=0,on&6)throw Error(Te(327));var n=e.callbackNode;if(Qg()&&e.callbackNode!==n)return null;var r=QS(e,e===Fo?ti:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gk(e,r);else{t=r;var o=on;on|=2;var i=Tbe();(Fo!==e||ti!==t)&&(iu=null,Fv=Gr()+500,hp(e,t));do try{KHe();break}catch(a){jbe(e,a)}while(1);D6(),hk.current=i,on=o,lo!==null?t=0:(Fo=null,ti=0,t=Co)}if(t!==0){if(t===2&&(o=Q3(e),o!==0&&(r=o,t=ER(e,o))),t===1)throw n=Ub,hp(e,0),Fd(e,r),_s(e,Gr()),n;if(t===6)Fd(e,r);else{if(o=e.current.alternate,!(r&30)&&!qHe(o)&&(t=gk(e,r),t===2&&(i=Q3(e),i!==0&&(r=i,t=ER(e,i))),t===1))throw n=Ub,hp(e,0),Fd(e,r),_s(e,Gr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:jh(e,hs,iu);break;case 3:if(Fd(e,r),(r&130023424)===r&&(t=W6+500-Gr(),10<t)){if(QS(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Gi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=sR(jh.bind(null,e,hs,iu),t);break}jh(e,hs,iu);break;case 4:if(Fd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Cl(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YHe(r/1960))-r,10<r){e.timeoutHandle=sR(jh.bind(null,e,hs,iu),r);break}jh(e,hs,iu);break;case 5:jh(e,hs,iu);break;default:throw Error(Te(329))}}}return _s(e,Gr()),e.callbackNode===n?Ebe.bind(null,e):null}function ER(e,t){var n=Wy;return e.current.memoizedState.isDehydrated&&(hp(e,t).flags|=256),e=gk(e,t),e!==2&&(t=hs,hs=n,t!==null&&jR(t)),e}function jR(e){hs===null?hs=e:hs.push.apply(hs,e)}function qHe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!jl(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fd(e,t){for(t&=~U6,t&=~cj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cl(t),r=1<<n;e[n]=-1,t&=~r}}function IH(e){if(on&6)throw Error(Te(327));Qg();var t=QS(e,0);if(!(t&1))return _s(e,Gr()),null;var n=gk(e,t);if(e.tag!==0&&n===2){var r=Q3(e);r!==0&&(t=r,n=ER(e,r))}if(n===1)throw n=Ub,hp(e,0),Fd(e,t),_s(e,Gr()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jh(e,hs,iu),_s(e,Gr()),null}function Y6(e,t){var n=on;on|=1;try{return e(t)}finally{on=n,on===0&&(Fv=Gr()+500,ij&&Gf())}}function Fp(e){Vd!==null&&Vd.tag===0&&!(on&6)&&Qg();var t=on;on|=1;var n=Oa.transition,r=Cn;try{if(Oa.transition=null,Cn=1,e)return e()}finally{Cn=r,Oa.transition=n,on=t,!(on&6)&&Gf()}}function q6(){Fs=Pg.current,ir(Pg)}function hp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_He(n)),lo!==null)for(n=lo.return;n!==null;){var r=n;switch(j6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rk();break;case 3:$v(),ir(ws),ir(ji),M6();break;case 5:$6(r);break;case 4:$v();break;case 13:ir(jr);break;case 19:ir(jr);break;case 10:I6(r.type._context);break;case 22:case 23:q6()}n=n.return}if(Fo=e,lo=e=pf(e.current,null),ti=Fs=t,Co=0,Ub=null,U6=cj=Mp=0,hs=Wy=null,Xh!==null){for(t=0;t<Xh.length;t++)if(n=Xh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Xh=null}return e}function jbe(e,t){do{var n=lo;try{if(D6(),A2.current=fk,dk){for(var r=Ir.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}dk=!1}if($p=0,Oo=xo=Ir=null,Hy=!1,zb=0,H6.current=null,n===null||n.return===null){Co=1,Ub=t,lo=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=ti,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yH(s);if(m!==null){m.flags&=-257,bH(m,s,a,i,t),m.mode&1&&vH(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){vH(i,u,t),G6();break e}c=Error(Te(426))}}else if(br&&a.mode&1){var y=yH(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),bH(y,s,a,i,t),T6(Mv(c,a));break e}}i=c=Mv(c,a),Co!==4&&(Co=2),Wy===null?Wy=[i]:Wy.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=ube(i,c,t);uH(i,x);break e;case 1:a=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ff===null||!ff.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=dbe(i,a,t);uH(i,C);break e}}i=i.return}while(i!==null)}Dbe(n)}catch(_){t=_,lo===n&&n!==null&&(lo=n=n.return);continue}break}while(1)}function Tbe(){var e=hk.current;return hk.current=fk,e===null?fk:e}function G6(){(Co===0||Co===3||Co===2)&&(Co=4),Fo===null||!(Mp&268435455)&&!(cj&268435455)||Fd(Fo,ti)}function gk(e,t){var n=on;on|=2;var r=Tbe();(Fo!==e||ti!==t)&&(iu=null,hp(e,t));do try{GHe();break}catch(o){jbe(e,o)}while(1);if(D6(),on=n,hk.current=r,lo!==null)throw Error(Te(261));return Fo=null,ti=0,Co}function GHe(){for(;lo!==null;)Abe(lo)}function KHe(){for(;lo!==null&&!xVe();)Abe(lo)}function Abe(e){var t=Pbe(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?Dbe(e):lo=t,H6.current=null}function Dbe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=VHe(n,t),n!==null){n.flags&=32767,lo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Co=6,lo=null;return}}else if(n=zHe(n,t,Fs),n!==null){lo=n;return}if(t=t.sibling,t!==null){lo=t;return}lo=t=e}while(t!==null);Co===0&&(Co=5)}function jh(e,t,n){var r=Cn,o=Oa.transition;try{Oa.transition=null,Cn=1,ZHe(e,t,n,r)}finally{Oa.transition=o,Cn=r}return null}function ZHe(e,t,n,r){do Qg();while(Vd!==null);if(on&6)throw Error(Te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(DVe(e,i),e===Fo&&(lo=Fo=null,ti=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qC||(qC=!0,Obe(XS,function(){return Qg(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Oa.transition,Oa.transition=null;var s=Cn;Cn=1;var a=on;on|=4,H6.current=null,UHe(e,n),Sbe(n,e),gHe(oR),JS=!!rR,oR=rR=null,e.current=n,WHe(n),wVe(),on=a,Cn=s,Oa.transition=i}else e.current=n;if(qC&&(qC=!1,Vd=e,mk=o),i=e.pendingLanes,i===0&&(ff=null),SVe(n.stateNode),_s(e,Gr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(pk)throw pk=!1,e=SR,SR=null,e;return mk&1&&e.tag!==0&&Qg(),i=e.pendingLanes,i&1?e===kR?Yy++:(Yy=0,kR=e):Yy=0,Gf(),null}function Qg(){if(Vd!==null){var e=cye(mk),t=Oa.transition,n=Cn;try{if(Oa.transition=null,Cn=16>e?16:e,Vd===null)var r=!1;else{if(e=Vd,Vd=null,mk=0,on&6)throw Error(Te(331));var o=on;for(on|=4,qe=e.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:Uy(8,d,i)}var f=d.child;if(f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;var p=d.sibling,m=d.return;if(wbe(d),d===u){qe=null;break}if(p!==null){p.return=m,qe=p;break}qe=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,qe=x;break e}qe=i.return}}var b=e.current;for(qe=b;qe!==null;){s=qe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,qe=w;else e:for(s=b;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lj(9,a)}}catch(_){Fr(a,a.return,_)}if(a===s){qe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,qe=C;break e}qe=a.return}}if(on=o,Gf(),xc&&typeof xc.onPostCommitFiberRoot=="function")try{xc.onPostCommitFiberRoot(ej,e)}catch{}r=!0}return r}finally{Cn=n,Oa.transition=t}}return!1}function PH(e,t,n){t=Mv(n,t),t=ube(e,t,1),e=df(e,t,1),t=Gi(),e!==null&&(dw(e,1,t),_s(e,t))}function Fr(e,t,n){if(e.tag===3)PH(e,e,n);else for(;t!==null;){if(t.tag===3){PH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ff===null||!ff.has(r))){e=Mv(n,e),e=dbe(t,e,1),t=df(t,e,1),e=Gi(),t!==null&&(dw(t,1,e),_s(t,e));break}}t=t.return}}function XHe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gi(),e.pingedLanes|=e.suspendedLanes&n,Fo===e&&(ti&n)===n&&(Co===4||Co===3&&(ti&130023424)===ti&&500>Gr()-W6?hp(e,0):U6|=n),_s(e,t)}function Ibe(e,t){t===0&&(e.mode&1?(t=FC,FC<<=1,!(FC&130023424)&&(FC=4194304)):t=1);var n=Gi();e=$u(e,t),e!==null&&(dw(e,t,n),_s(e,n))}function QHe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ibe(e,n)}function JHe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),Ibe(e,n)}var Pbe;Pbe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ws.current)ys=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ys=!1,NHe(e,t,n);ys=!!(e.flags&131072)}else ys=!1,br&&t.flags&1048576&&$ye(t,sk,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;I2(e,t),e=t.pendingProps;var o=Pv(t,ji.current);Xg(t,n),o=L6(null,t,r,e,o,n);var i=B6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(r)?(i=!0,ok(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,O6(t),o.updater=sj,t.stateNode=o,o._reactInternals=t,hR(t,r,e,n),t=gR(null,t,r,!0,i,n)):(t.tag=0,br&&i&&E6(t),Vi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(I2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=tUe(r),e=ll(r,e),o){case 0:t=mR(null,t,r,e,n);break e;case 1:t=CH(null,t,r,e,n);break e;case 11:t=xH(null,t,r,e,n);break e;case 14:t=wH(null,t,r,ll(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),mR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),CH(e,t,r,o,n);case 3:e:{if(mbe(t),e===null)throw Error(Te(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Bye(e,t),ck(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Mv(Error(Te(423)),t),t=_H(e,t,r,n,o);break e}else if(r!==o){o=Mv(Error(Te(424)),t),t=_H(e,t,r,n,o);break e}else for(Ws=uf(t.stateNode.containerInfo.firstChild),Ks=t,br=!0,ul=null,n=Hye(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ov(),r===o){t=Mu(e,t,n);break e}Vi(e,t,r,n)}t=t.child}return t;case 5:return Uye(t),e===null&&uR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,iR(r,o)?s=null:i!==null&&iR(r,i)&&(t.flags|=32),pbe(e,t),Vi(e,t,s,n),t.child;case 6:return e===null&&uR(t),null;case 13:return gbe(e,t,n);case 4:return R6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rv(t,null,r,n):Vi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),xH(e,t,r,o,n);case 7:return Vi(e,t,t.pendingProps,n),t.child;case 8:return Vi(e,t,t.pendingProps.children,n),t.child;case 12:return Vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,qn(ak,r._currentValue),r._currentValue=s,i!==null)if(jl(i.value,s)){if(i.children===o.children&&!ws.current){t=Mu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=xu(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),dR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),dR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Vi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Xg(t,n),o=Ba(o),r=r(o),t.flags|=1,Vi(e,t,r,n),t.child;case 14:return r=t.type,o=ll(r,t.pendingProps),o=ll(r.type,o),wH(e,t,r,o,n);case 15:return fbe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ll(r,o),I2(e,t),t.tag=1,Cs(r)?(e=!0,ok(t)):e=!1,Xg(t,n),zye(t,r,o),hR(t,r,o,n),gR(null,t,r,!0,e,n);case 19:return vbe(e,t,n);case 22:return hbe(e,t,n)}throw Error(Te(156,t.tag))};function Obe(e,t){return iye(e,t)}function eUe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(e,t,n,r){return new eUe(e,t,n,r)}function K6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tUe(e){if(typeof e=="function")return K6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p6)return 11;if(e===m6)return 14}return 2}function pf(e,t){var n=e.alternate;return n===null?(n=Aa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function R2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")K6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cg:return pp(n.children,o,i,t);case h6:s=8,o|=8;break;case F3:return e=Aa(12,n,t,o|2),e.elementType=F3,e.lanes=i,e;case L3:return e=Aa(13,n,t,o),e.elementType=L3,e.lanes=i,e;case B3:return e=Aa(19,n,t,o),e.elementType=B3,e.lanes=i,e;case V1e:return uj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N1e:s=10;break e;case z1e:s=9;break e;case p6:s=11;break e;case m6:s=14;break e;case jd:s=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=Aa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function pp(e,t,n,r){return e=Aa(7,e,r,t),e.lanes=n,e}function uj(e,t,n,r){return e=Aa(22,e,r,t),e.elementType=V1e,e.lanes=n,e.stateNode={isHidden:!1},e}function GD(e,t,n){return e=Aa(6,e,null,t),e.lanes=n,e}function KD(e,t,n){return t=Aa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nUe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=AD(0),this.expirationTimes=AD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=AD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Z6(e,t,n,r,o,i,s,a,c){return e=new nUe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Aa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O6(i),e}function rUe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rbe(e){if(!e)return If;e=e._reactInternals;e:{if(dm(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Cs(n))return Oye(e,n,t)}return t}function $be(e,t,n,r,o,i,s,a,c){return e=Z6(n,r,!0,e,o,i,s,a,c),e.context=Rbe(null),n=e.current,r=Gi(),o=hf(n),i=xu(r,o),i.callback=t??null,df(n,i,o),e.current.lanes=o,dw(e,o,r),_s(e,r),e}function dj(e,t,n,r){var o=t.current,i=Gi(),s=hf(o);return n=Rbe(n),t.context===null?t.context=n:t.pendingContext=n,t=xu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=df(o,t,s),e!==null&&(_l(e,o,s,i),T2(e,o,s)),s}function vk(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function OH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function X6(e,t){OH(e,t),(e=e.alternate)&&OH(e,t)}function oUe(){return null}var Mbe=typeof reportError=="function"?reportError:function(e){console.error(e)};function Q6(e){this._internalRoot=e}fj.prototype.render=Q6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));dj(e,t,null,null)};fj.prototype.unmount=Q6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fp(function(){dj(null,e,null,null)}),t[Ru]=null}};function fj(e){this._internalRoot=e}fj.prototype.unstable_scheduleHydration=function(e){if(e){var t=fye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&t!==0&&t<Md[n].priority;n++);Md.splice(n,0,e),n===0&&pye(e)}};function J6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RH(){}function iUe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=vk(s);i.call(u)}}var s=$be(t,r,e,0,null,!1,!1,"",RH);return e._reactRootContainer=s,e[Ru]=s.current,Mb(e.nodeType===8?e.parentNode:e),Fp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=vk(c);a.call(u)}}var c=Z6(e,0,!1,null,null,!1,!1,"",RH);return e._reactRootContainer=c,e[Ru]=c.current,Mb(e.nodeType===8?e.parentNode:e),Fp(function(){dj(t,c,n,r)}),c}function pj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=vk(s);a.call(c)}}dj(t,s,e,o)}else s=iUe(n,t,e,o,r);return vk(s)}uye=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hy(t.pendingLanes);n!==0&&(y6(t,n|1),_s(t,Gr()),!(on&6)&&(Fv=Gr()+500,Gf()))}break;case 13:Fp(function(){var r=$u(e,1);if(r!==null){var o=Gi();_l(r,e,1,o)}}),X6(e,1)}};b6=function(e){if(e.tag===13){var t=$u(e,134217728);if(t!==null){var n=Gi();_l(t,e,134217728,n)}X6(e,134217728)}};dye=function(e){if(e.tag===13){var t=hf(e),n=$u(e,t);if(n!==null){var r=Gi();_l(n,e,t,r)}X6(e,t)}};fye=function(){return Cn};hye=function(e,t){var n=Cn;try{return Cn=e,t()}finally{Cn=n}};K3=function(e,t,n){switch(t){case"input":if(V3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=oj(r);if(!o)throw Error(Te(90));U1e(r),V3(r,o)}}}break;case"textarea":Y1e(e,n);break;case"select":t=n.value,t!=null&&qg(e,!!n.multiple,t,!1)}};J1e=Y6;eye=Fp;var sUe={usingClientEntryPoint:!1,Events:[hw,Eg,oj,X1e,Q1e,Y6]},E1={findFiberByHostInstance:Zh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aUe={bundleType:E1.bundleType,version:E1.version,rendererPackageName:E1.rendererPackageName,rendererConfig:E1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rye(e),e===null?null:e.stateNode},findFiberByHostInstance:E1.findFiberByHostInstance||oUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GC.isDisabled&&GC.supportsFiber)try{ej=GC.inject(aUe),xc=GC}catch{}}sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sUe;sa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J6(t))throw Error(Te(200));return rUe(e,t,null,n)};sa.createRoot=function(e,t){if(!J6(e))throw Error(Te(299));var n=!1,r="",o=Mbe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Z6(e,1,!1,null,null,n,!1,r,o),e[Ru]=t.current,Mb(e.nodeType===8?e.parentNode:e),new Q6(t)};sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=rye(t),e=e===null?null:e.stateNode,e};sa.flushSync=function(e){return Fp(e)};sa.hydrate=function(e,t,n){if(!hj(t))throw Error(Te(200));return pj(null,e,t,!0,n)};sa.hydrateRoot=function(e,t,n){if(!J6(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Mbe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=$be(t,null,e,1,n??null,o,!1,i,s),e[Ru]=t.current,Mb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fj(t)};sa.render=function(e,t,n){if(!hj(t))throw Error(Te(200));return pj(null,e,t,!1,n)};sa.unmountComponentAtNode=function(e){if(!hj(e))throw Error(Te(40));return e._reactRootContainer?(Fp(function(){pj(null,null,e,!1,function(){e._reactRootContainer=null,e[Ru]=null})}),!0):!1};sa.unstable_batchedUpdates=Y6;sa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hj(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return pj(e,t,n,!1,r)};sa.version="18.2.0-next-9e3b772b8-20220608";function Fbe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fbe)}catch(e){console.error(e)}}Fbe(),$1e.exports=sa;var fc=$1e.exports;const lUe=Pe(fc),Lbe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?SV({element:t.current,padding:n}).fn(o):{}:t?SV({element:t,padding:n}).fn(o):{}}}};var $2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function yk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!yk(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!yk(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Bbe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $H(e,t){const n=Bbe(e);return Math.round(t*n)/n}function MH(e){const t=h.useRef(e);return $2(()=>{t.current=e}),t}function Nbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);yk(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[x]),C=i||v,_=s||y,S=h.useRef(null),k=h.useRef(null),j=h.useRef(d),E=MH(c),T=MH(o),A=h.useCallback(()=>{if(!S.current||!k.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),oVe(S.current,k.current,R).then(V=>{const N={...V,isPositioned:!0};D.current&&!yk(j.current,N)&&(j.current=N,fc.flushSync(()=>{f(N)}))})},[p,t,n,T]);$2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);$2(()=>(D.current=!0,()=>{D.current=!1}),[]),$2(()=>{if(C&&(S.current=C),_&&(k.current=_),C&&_){if(E.current)return E.current(C,_,A);A()}},[C,_,A,E]);const I=h.useMemo(()=>({reference:S,floating:k,setReference:b,setFloating:w}),[b,w]),P=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!P.floating)return R;const V=$H(P.floating,d.x),N=$H(P.floating,d.y);return a?{...R,transform:"translate("+V+"px, "+N+"px)",...Bbe(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:N}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:$}),[d,A,I,P,$])}const zbe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mj=h.createContext({}),gj=h.createContext(null),vj=typeof document<"u",eL=vj?h.useLayoutEffect:h.useEffect,Vbe=h.createContext({strict:!1});function cUe(e,t,n,r){const{visualElement:o}=h.useContext(mj),i=h.useContext(Vbe),s=h.useContext(gj),a=h.useContext(zbe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return eL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Og(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uUe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Og(n)&&(n.current=r))},[t])}function Wb(e){return typeof e=="string"||Array.isArray(e)}function yj(e){return typeof e=="object"&&typeof e.start=="function"}const tL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nL=["initial",...tL];function bj(e){return yj(e.animate)||nL.some(t=>Wb(e[t]))}function Hbe(e){return!!(bj(e)||e.variants)}function dUe(e,t){if(bj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Wb(n)?n:void 0,animate:Wb(r)?r:void 0}}return e.inherit!==!1?t:{}}function fUe(e){const{initial:t,animate:n}=dUe(e,h.useContext(mj));return h.useMemo(()=>({initial:t,animate:n}),[FH(t),FH(n)])}function FH(e){return Array.isArray(e)?e.join(" "):e}const LH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yb={};for(const e in LH)Yb[e]={isEnabled:t=>LH[e].some(n=>!!t[n])};function hUe(e){for(const t in e)Yb[t]={...Yb[t],...e[t]}}const rL=h.createContext({}),Ube=h.createContext({}),pUe=Symbol.for("motionComponentSymbol");function mUe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&hUe(e);function i(a,c){let u;const d={...h.useContext(zbe),...a,layoutId:gUe(a)},{isStatic:f}=d,p=fUe(a),m=r(a,f);if(!f&&vj){p.visualElement=cUe(o,m,d,t);const v=h.useContext(Ube),g=h.useContext(Vbe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(mj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,uUe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[pUe]=o,s}function gUe({layoutId:e}){const t=h.useContext(rL).id;return t&&e!==void 0?t+"-"+e:e}function vUe(e){function t(r,o={}){return mUe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const yUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oL(e){return typeof e!="string"||e.includes("-")?!1:!!(yUe.indexOf(e)>-1||/[A-Z]/.test(e))}const bk={};function bUe(e){Object.assign(bk,e)}const mw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fm=new Set(mw);function Wbe(e,{layout:t,layoutId:n}){return fm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!bk[e]||e==="opacity")}const ks=e=>!!(e&&e.getVelocity),xUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wUe=mw.length;function CUe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<wUe;s++){const a=mw[s];if(e[a]!==void 0){const c=xUe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Ybe=e=>t=>typeof t=="string"&&t.startsWith(e),qbe=Ybe("--"),TR=Ybe("var(--"),_Ue=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,SUe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pf=(e,t,n)=>Math.min(Math.max(n,e),t),hm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qy={...hm,transform:e=>Pf(0,1,e)},KC={...hm,default:1},Gy=e=>Math.round(e*1e5)/1e5,xj=/(-)?([\d]*\.?[\d])+/g,Gbe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gw(e){return typeof e=="string"}const vw=e=>({test:t=>gw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_d=vw("deg"),Cc=vw("%"),ct=vw("px"),EUe=vw("vh"),jUe=vw("vw"),BH={...Cc,parse:e=>Cc.parse(e)/100,transform:e=>Cc.transform(e*100)},NH={...hm,transform:Math.round},Kbe={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,size:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,rotate:_d,rotateX:_d,rotateY:_d,rotateZ:_d,scale:KC,scaleX:KC,scaleY:KC,scaleZ:KC,skew:_d,skewX:_d,skewY:_d,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:qy,originX:BH,originY:BH,originZ:ct,zIndex:NH,fillOpacity:qy,strokeOpacity:qy,numOctaves:NH};function iL(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(qbe(f)){i[f]=p;continue}const m=Kbe[f],v=SUe(p,m);if(fm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=CUe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const sL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zbe(e,t,n){for(const r in t)!ks(t[r])&&!Wbe(r,n)&&(e[r]=t[r])}function TUe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=sL();return iL(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function AUe(e,t,n){const r=e.style||{},o={};return Zbe(o,r,e),Object.assign(o,TUe(e,t,n)),e.transformValues?e.transformValues(o):o}function DUe(e,t,n){const r={},o=AUe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const IUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function xk(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||IUe.has(e)}let Xbe=e=>!xk(e);function PUe(e){e&&(Xbe=t=>t.startsWith("on")?!xk(t):e(t))}try{PUe(require("@emotion/is-prop-valid").default)}catch{}function OUe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Xbe(o)||n===!0&&xk(o)||!t&&!xk(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function zH(e,t,n){return typeof e=="string"?e:ct.transform(t+n*e)}function RUe(e,t,n){const r=zH(t,e.x,e.width),o=zH(n,e.y,e.height);return`${r} ${o}`}const $Ue={offset:"stroke-dashoffset",array:"stroke-dasharray"},MUe={offset:"strokeDashoffset",array:"strokeDasharray"};function FUe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?$Ue:MUe;e[i.offset]=ct.transform(-r);const s=ct.transform(t),a=ct.transform(n);e[i.array]=`${s} ${a}`}function aL(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(iL(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=RUe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&FUe(m,s,a,c,!1)}const Qbe=()=>({...sL(),attrs:{}}),lL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LUe(e,t,n,r){const o=h.useMemo(()=>{const i=Qbe();return aL(i,t,{enableHardwareAcceleration:!1},lL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Zbe(i,e.style,e),o.style={...i,...o.style}}return o}function BUe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(oL(n)?LUe:DUe)(r,i,s,n),d={...OUe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>ks(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const cL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Jbe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const exe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function txe(e,t,n,r){Jbe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(exe.has(o)?o:cL(o),t.attrs[o])}function uL(e,t){const{style:n}=e,r={};for(const o in n)(ks(n[o])||t.style&&ks(t.style[o])||Wbe(o,e))&&(r[o]=n[o]);return r}function nxe(e,t){const n=uL(e,t);for(const r in e)if(ks(e[r])||ks(t[r])){const o=mw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function dL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function rxe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const wk=e=>Array.isArray(e),NUe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zUe=e=>wk(e)?e[e.length-1]||0:e;function M2(e){const t=ks(e)?e.get():e;return NUe(t)?t.toValue():t}function VUe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:HUe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const oxe=e=>(t,n)=>{const r=h.useContext(mj),o=h.useContext(gj),i=()=>VUe(e,t,r,o);return n?i():rxe(i)};function HUe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=M2(i[p]);let{initial:s,animate:a}=e;const c=bj(e),u=Hbe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!yj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=dL(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Br=e=>e;class VH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function UUe(e){let t=new VH,n=new VH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const ZC=["prepare","read","update","preRender","render","postRender"],WUe=40;function YUe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=ZC.reduce((f,p)=>(f[p]=UUe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,WUe),1),o.timestamp=f,o.isProcessing=!0,ZC.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:ZC.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||c(),m.schedule(v,g,y)),f},{}),cancel:f=>ZC.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Gn,cancel:Fu,state:Do,steps:ZD}=YUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),qUe={useVisualState:oxe({scrapeMotionValuesFromProps:nxe,createRenderState:Qbe,onMount:(e,t,{renderState:n,latestValues:r})=>{Gn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Gn.render(()=>{aL(n,r,{enableHardwareAcceleration:!1},lL(t.tagName),e.transformTemplate),txe(t,n)})}})},GUe={useVisualState:oxe({scrapeMotionValuesFromProps:uL,createRenderState:sL})};function KUe(e,{forwardMotionProps:t=!1},n,r){return{...oL(e)?qUe:GUe,preloadedFeatures:n,useRender:BUe(t),createVisualElement:r,Component:e}}function pu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ixe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const ZUe=e=>t=>ixe(t)&&e(t,wj(t));function wu(e,t,n,r){return pu(e,t,ZUe(n),r)}const XUe=(e,t)=>n=>t(e(n)),mf=(...e)=>e.reduce(XUe);function sxe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const HH=sxe("dragHorizontal"),UH=sxe("dragVertical");function axe(e){let t=!1;if(e==="y")t=UH();else if(e==="x")t=HH();else{const n=HH(),r=UH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function lxe(){const e=axe(!0);return e?(e(),!1):!0}class Kf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||lxe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Gn.update(()=>a[r](i,s))};return wu(e.current,n,o,{passive:!e.getProps()[r]})}class QUe extends Kf{mount(){this.unmount=mf(WH(this.node,!0),WH(this.node,!1))}unmount(){}}class JUe extends Kf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mf(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const cxe=(e,t)=>t?e===t?!0:cxe(e,t.parentElement):!1;function XD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wj(n))}class eWe extends Kf{constructor(){super(...arguments),this.removeStartListeners=Br,this.removeEndListeners=Br,this.removeAccessibleListeners=Br,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=wu(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Gn.update(()=>{cxe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=wu(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||XD("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Gn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=pu(this.node.current,"keyup",s),XD("down",(a,c)=>{this.startPress(a,c)})},n=pu(this.node.current,"keydown",t),r=()=>{this.isPressing&&XD("cancel",(i,s)=>this.cancelPress(i,s))},o=pu(this.node.current,"blur",r);this.removeAccessibleListeners=mf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Gn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lxe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Gn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=wu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=pu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const AR=new WeakMap,QD=new WeakMap,tWe=e=>{const t=AR.get(e.target);t&&t(e)},nWe=e=>{e.forEach(tWe)};function rWe({root:e,...t}){const n=e||document;QD.has(n)||QD.set(n,{});const r=QD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(nWe,{root:e,...t})),r[o]}function oWe(e,t,n){const r=rWe(t);return AR.set(e,n),r.observe(e),()=>{AR.delete(e),r.unobserve(e)}}const iWe={some:0,all:1};class sWe extends Kf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:iWe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return oWe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aWe(t,n))&&this.startObserver()}unmount(){}}function aWe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const lWe={inView:{Feature:sWe},tap:{Feature:eWe},focus:{Feature:JUe},hover:{Feature:QUe}};function uxe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function cWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function uWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Cj(e,t,n){const r=e.getProps();return dL(r,t,n!==void 0?n:r.custom,cWe(e),uWe(e))}const dWe="framerAppearId",fWe="data-"+cL(dWe);let hWe=Br,fL=Br;const gf=e=>e*1e3,Cu=e=>e/1e3,pWe={current:!1},dxe=e=>Array.isArray(e)&&typeof e[0]=="number";function fxe(e){return!!(!e||typeof e=="string"&&hxe[e]||dxe(e)||Array.isArray(e)&&e.every(fxe))}const my=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,hxe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:my([0,.65,.55,1]),circOut:my([.55,0,1,.45]),backIn:my([.31,.01,.66,-.59]),backOut:my([.33,1.53,.69,.99])};function pxe(e){if(e)return dxe(e)?my(e):Array.isArray(e)?e.map(pxe):hxe[e]}function mWe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=pxe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function gWe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const mxe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vWe=1e-7,yWe=12;function bWe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=mxe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>vWe&&++a<yWe);return s}function yw(e,t,n,r){if(e===t&&n===r)return Br;const o=i=>bWe(i,0,1,e,n);return i=>i===0||i===1?i:mxe(o(i),t,r)}const xWe=yw(.42,0,1,1),wWe=yw(0,0,.58,1),gxe=yw(.42,0,.58,1),CWe=e=>Array.isArray(e)&&typeof e[0]!="number",vxe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yxe=e=>t=>1-e(1-t),bxe=e=>1-Math.sin(Math.acos(e)),hL=yxe(bxe),_We=vxe(hL),xxe=yw(.33,1.53,.69,.99),pL=yxe(xxe),SWe=vxe(pL),kWe=e=>(e*=2)<1?.5*pL(e):.5*(2-Math.pow(2,-10*(e-1))),EWe={linear:Br,easeIn:xWe,easeInOut:gxe,easeOut:wWe,circIn:bxe,circInOut:_We,circOut:hL,backIn:pL,backInOut:SWe,backOut:xxe,anticipate:kWe},YH=e=>{if(Array.isArray(e)){fL(e.length===4);const[t,n,r,o]=e;return yw(t,n,r,o)}else if(typeof e=="string")return EWe[e];return e},mL=(e,t)=>n=>!!(gw(n)&&kUe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),wxe=(e,t,n)=>r=>{if(!gw(r))return r;const[o,i,s,a]=r.match(xj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},jWe=e=>Pf(0,255,e),JD={...hm,transform:e=>Math.round(jWe(e))},Jh={test:mL("rgb","red"),parse:wxe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+JD.transform(e)+", "+JD.transform(t)+", "+JD.transform(n)+", "+Gy(qy.transform(r))+")"};function TWe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const DR={test:mL("#"),parse:TWe,transform:Jh.transform},Rg={test:mL("hsl","hue"),parse:wxe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cc.transform(Gy(t))+", "+Cc.transform(Gy(n))+", "+Gy(qy.transform(r))+")"},zi={test:e=>Jh.test(e)||DR.test(e)||Rg.test(e),parse:e=>Jh.test(e)?Jh.parse(e):Rg.test(e)?Rg.parse(e):DR.parse(e),transform:e=>gw(e)?e:e.hasOwnProperty("red")?Jh.transform(e):Rg.transform(e)},Tr=(e,t,n)=>-n*e+n*t+e;function eI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function AWe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=eI(c,a,e+1/3),i=eI(c,a,e),s=eI(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const tI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},DWe=[DR,Jh,Rg],IWe=e=>DWe.find(t=>t.test(e));function qH(e){const t=IWe(e);let n=t.parse(e);return t===Rg&&(n=AWe(n)),n}const Cxe=(e,t)=>{const n=qH(e),r=qH(t),o={...n};return i=>(o.red=tI(n.red,r.red,i),o.green=tI(n.green,r.green,i),o.blue=tI(n.blue,r.blue,i),o.alpha=Tr(n.alpha,r.alpha,i),Jh.transform(o))};function PWe(e){var t,n;return isNaN(e)&&gw(e)&&(((t=e.match(xj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Gbe))===null||n===void 0?void 0:n.length)||0)>0}const _xe={regex:_Ue,countKey:"Vars",token:"${v}",parse:Br},Sxe={regex:Gbe,countKey:"Colors",token:"${c}",parse:zi.parse},kxe={regex:xj,countKey:"Numbers",token:"${n}",parse:hm.parse};function nI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Ck(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&nI(n,_xe),nI(n,Sxe),nI(n,kxe),n}function Exe(e){return Ck(e).values}function jxe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Ck(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(_xe.token,s[c]):c<r+n?a=a.replace(Sxe.token,zi.transform(s[c])):a=a.replace(kxe.token,Gy(s[c]));return a}}const OWe=e=>typeof e=="number"?0:e;function RWe(e){const t=Exe(e);return jxe(e)(t.map(OWe))}const Of={test:PWe,parse:Exe,createTransformer:jxe,getAnimatableNone:RWe},Txe=(e,t)=>n=>`${n>0?t:e}`;function Axe(e,t){return typeof e=="number"?n=>Tr(e,t,n):zi.test(e)?Cxe(e,t):e.startsWith("var(")?Txe(e,t):Ixe(e,t)}const Dxe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Axe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},$We=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Axe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Ixe=(e,t)=>{const n=Of.createTransformer(t),r=Ck(e),o=Ck(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?mf(Dxe(r.values,o.values),n):Txe(e,t)},qb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},GH=(e,t)=>n=>Tr(e,t,n);function MWe(e){return typeof e=="number"?GH:typeof e=="string"?zi.test(e)?Cxe:Ixe:Array.isArray(e)?Dxe:typeof e=="object"?$We:GH}function FWe(e,t,n){const r=[],o=n||MWe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Br:t;a=mf(c,a)}r.push(a)}return r}function Pxe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(fL(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=FWe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=qb(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Pf(e[0],e[i-1],u)):c}function LWe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=qb(0,t,r);e.push(Tr(n,1,o))}}function BWe(e){const t=[0];return LWe(t,e.length-1),t}function NWe(e,t){return e.map(n=>n*t)}function zWe(e,t){return e.map(()=>t||gxe).splice(0,e.length-1)}function _k({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=CWe(r)?r.map(YH):YH(r),i={done:!1,value:t[0]},s=NWe(n&&n.length===t.length?n:BWe(t),e),a=Pxe(s,t,{ease:Array.isArray(o)?o:zWe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Oxe(e,t){return t?e*(1e3/t):0}const VWe=5;function Rxe(e,t,n){const r=Math.max(t-VWe,0);return Oxe(n-e(r),t-r)}const rI=.001,HWe=.01,KH=10,UWe=.05,WWe=1;function YWe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;hWe(e<=gf(KH));let s=1-t;s=Pf(UWe,WWe,s),e=Pf(HWe,KH,Cu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=IR(u,s),v=Math.exp(-f);return rI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=IR(Math.pow(u,2),s);return(-o(u)+rI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-rI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=GWe(o,i,a);if(e=gf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const qWe=12;function GWe(e,t,n){let r=n;for(let o=1;o<qWe;o++)r=r-e(r)/t(r);return r}function IR(e,t){return e*Math.sqrt(1-t*t)}const KWe=["duration","bounce"],ZWe=["stiffness","damping","mass"];function ZH(e,t){return t.some(n=>e[n]!==void 0)}function XWe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ZH(e,ZWe)&&ZH(e,KWe)){const n=YWe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function $xe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=XWe(r),m=d?-Cu(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,y=Cu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=IR(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=Rxe(b,w,C):_=0);const S=Math.abs(_)<=n,k=Math.abs(i-C)<=t;s.done=S&&k}return s.value=s.done?i:C,s}}}function XH({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const E=b(j),T=w(j);p.done=Math.abs(E)<=u,p.value=p.done?x:T};let _,S;const k=j=>{m(p.value)&&(_=j,S=$xe({keyframes:[p.value,v(p.value)],velocity:Rxe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let E=!1;return!S&&_===void 0&&(E=!0,C(j),k(j)),_!==void 0&&j>_?S.next(j-_):(!E&&C(j),p)}}}const QWe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Gn.update(t,!0),stop:()=>Fu(t),now:()=>Do.isProcessing?Do.timestamp:performance.now()}},QH=2e4;function JH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<QH;)t+=n,r=e.next(t);return t>=QH?1/0:t}const JWe={decay:XH,inertia:XH,tween:_k,keyframes:_k,spring:$xe};function Sk({autoplay:e=!0,delay:t=0,driver:n=QWe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(U=>{g=U})};x();let b;const w=JWe[o]||_k;let C;w!==_k&&typeof r[0]!="number"&&(C=Pxe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let k="idle",j=null,E=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=JH(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const $=U=>{if(E===null)return;m>0&&(E=Math.min(E,U)),m<0&&(E=Math.min(U-I/m,E)),j!==null?P=j:P=Math.round(U-E)*m;const q=P-t*(m>=0?1:-1),Z=m>=0?q<0:q>I;P=Math.max(q,0),k==="finished"&&j===null&&(P=I);let B=P,W=_;if(i){const ne=P/D;let K=Math.floor(ne),J=ne%1;!J&&ne>=1&&(J=1),J===1&&K--,K=Math.min(K,i+1);const oe=!!(K%2);oe&&(a==="reverse"?(J=1-J,s&&(J-=s/D)):a==="mirror"&&(W=S));let fe=Pf(0,1,J);P>I&&(fe=a==="reverse"&&oe?1:0),B=fe*D}const z=Z?{done:!1,value:r[0]}:W.next(B);C&&(z.value=C(z.value));let{done:X}=z;!Z&&A!==null&&(X=m>=0?P>=I:P<=0);const Q=j===null&&(k==="finished"||k==="running"&&X);return f&&f(z.value),Q&&N(),z},R=()=>{b&&b.stop(),b=void 0},V=()=>{k="idle",R(),g(),x(),E=T=null},N=()=>{k="finished",d&&d(),R(),g()},H=()=>{if(v)return;b||(b=n($));const U=b.now();c&&c(),j!==null?E=U-j:(!E||k==="finished")&&(E=U),k==="finished"&&x(),T=E,j=null,k="running",b.start()};e&&H();const G={then(U,q){return y.then(U,q)},get time(){return Cu(P)},set time(U){U=gf(U),P=U,j!==null||!b||m===0?j=U:E=b.now()-U/m},get duration(){const U=_.calculatedDuration===null?JH(_):_.calculatedDuration;return Cu(U)},get speed(){return m},set speed(U){U===m||!b||(m=U,G.time=Cu(P))},get state(){return k},play:H,pause:()=>{k="paused",j=P},stop:()=>{v=!0,k!=="idle"&&(k="idle",u&&u(),V())},cancel:()=>{T!==null&&$(T),V()},complete:()=>{k="finished"},sample:U=>(E=0,$(U))};return G}function eYe(e){let t;return()=>(t===void 0&&(t=e()),t)}const tYe=eYe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nYe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),XC=10,rYe=2e4,oYe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!fxe(t.ease);function iYe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(tYe()&&nYe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(oYe(t,o)){const b=Sk({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<rYe;)w=b.sample(_),C.push(w.value),_+=XC;m=void 0,d=C,f=_-XC,p="linear"}const v=mWe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Do.isProcessing?Do.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),y=()=>{Gn.update(g),a(),u()};return v.onfinish=()=>{e.set(gWe(d,o)),r&&r(),y()},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Br},get time(){return Cu(v.currentTime||0)},set time(b){v.currentTime=gf(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Cu(f)},play:()=>{s||(v.play(),Fu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=Sk({...o,autoplay:!1});e.setWithVelocity(w.sample(b-XC).value,w.sample(b).value,XC)}y()},complete:()=>v.finish(),cancel:y}}function sYe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Br,pause:Br,stop:Br,then:i=>(i(),Promise.resolve()),cancel:Br,complete:Br});return t?Sk({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const aYe={type:"spring",stiffness:500,damping:25,restSpeed:10},lYe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cYe={type:"keyframes",duration:.8},uYe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dYe=(e,{keyframes:t})=>t.length>2?cYe:fm.has(e)?e.startsWith("scale")?lYe(t[1]):aYe:uYe,PR=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Of.test(t)||t==="0")&&!t.startsWith("url(")),fYe=new Set(["brightness","contrast","saturate","opacity"]);function hYe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xj)||[];if(!r)return e;const o=n.replace(r,"");let i=fYe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const pYe=/([a-z-]*)\(.*?\)/g,OR={...Of,getAnimatableNone:e=>{const t=e.match(pYe);return t?t.map(hYe).join(" "):e}},mYe={...Kbe,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:OR,WebkitFilter:OR},gL=e=>mYe[e];function Mxe(e,t){let n=gL(e);return n!==OR&&(n=Of),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Fxe=e=>/^0[^.\s]+$/.test(e);function gYe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Fxe(e)}function vYe(e,t,n,r){const o=PR(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),gYe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Mxe(t,a)}return i}function yYe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Lxe(e,t){return e[t]||e.default||e}const vL=(e,t,n,r={})=>o=>{const i=Lxe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gf(s);const c=vYe(t,e,n,i),u=c[0],d=c[c.length-1],f=PR(e,u),p=PR(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(yYe(i)||(m={...m,...dYe(e,m)}),m.duration&&(m.duration=gf(m.duration)),m.repeatDelay&&(m.repeatDelay=gf(m.repeatDelay)),!f||!p||pWe.current||i.type===!1)return sYe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=iYe(t,e,m);if(v)return v}return Sk(m)};function kk(e){return!!(ks(e)&&e.add)}const Bxe=e=>/^\-?\d*\.?\d+$/.test(e);function yL(e,t){e.indexOf(t)===-1&&e.push(t)}function bL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xL{constructor(){this.subscriptions=[]}add(t){return yL(this.subscriptions,t),()=>bL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bYe=e=>!isNaN(parseFloat(e));class xYe{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Do;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Gn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=bYe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xL);const r=this.events[t].add(n);return t==="change"?()=>{r(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Oxe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lv(e,t){return new xYe(e,t)}const Nxe=e=>t=>t.test(e),wYe={test:e=>e==="auto",parse:e=>e},zxe=[hm,ct,Cc,_d,jUe,EUe,wYe],j1=e=>zxe.find(Nxe(e)),CYe=[...zxe,zi,Of],_Ye=e=>CYe.find(Nxe(e));function SYe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lv(n))}function kYe(e,t){const n=Cj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=zUe(i[s]);SYe(e,s,a)}}function EYe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Bxe(d)||Fxe(d))?d=parseFloat(d):!_Ye(d)&&Of.test(u)&&(d=Mxe(c,u)),e.addValue(c,Lv(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function jYe(e,t){return t?(t[e]||t.default||t).from:void 0}function TYe(e,t,n){const r={};for(const o in e){const i=jYe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function AYe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Vxe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&AYe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=e.getProps()[fWe];y&&(v.elapsed=window.HandoffAppearAnimations(y,f,p,Gn),v.syncStart=!0)}p.start(vL(f,p,m,e.shouldReduceMotion&&fm.has(f)?{type:!1}:v));const g=p.animation;kk(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&kYe(e,s)}),u}function RR(e,t,n={}){const r=Cj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Vxe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return DYe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function DYe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(IYe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(RR(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function IYe(e,t){return e.sortNodePosition(t)}function PYe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>RR(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=RR(e,t,n);else{const o=typeof t=="function"?Cj(e,t,n.custom):t;r=Promise.all(Vxe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const OYe=[...tL].reverse(),RYe=tL.length;function $Ye(e){return t=>Promise.all(t.map(({animation:n,options:r})=>PYe(e,n,r)))}function MYe(e){let t=$Ye(e);const n=LYe();let r=!0;const o=(c,u)=>{const d=Cj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<RYe;x++){const b=OYe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=Wb(C),S=b===u?w.isActive:null;S===!1&&(g=x);let k=C===f[b]&&C!==d[b]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||yj(C)||typeof C=="boolean")continue;const j=FYe(w.prevProp,C);let E=j||b===u&&w.isActive&&!k&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=$=>{E=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],V=D[$];v.hasOwnProperty($)||(R!==V?wk(R)&&wk(V)?!uxe(R,V)||j?P($):w.protectedKeys[$]=!0:R!==void 0?P($):m.add($):R!==void 0&&m.has($)?P($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(E=!1),E&&!k&&p.push(...T.map($=>({animation:$,options:{type:b,...c}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function FYe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uxe(t,e):!1}function mh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LYe(){return{animate:mh(!0),whileInView:mh(),whileHover:mh(),whileTap:mh(),whileDrag:mh(),whileFocus:mh(),exit:mh()}}class BYe extends Kf{constructor(t){super(t),t.animationState||(t.animationState=MYe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let NYe=0;class zYe extends Kf{constructor(){super(...arguments),this.id=NYe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const VYe={animation:{Feature:BYe},exit:{Feature:zYe}},eU=(e,t)=>Math.abs(e-t);function HYe(e,t){const n=eU(e.x,t.x),r=eU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Hxe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=iI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=HYe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Do;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=oI(d,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=iI(u.type==="pointercancel"?this.lastMoveEventInfo:oI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!ixe(t))return;this.handlers=n,this.transformPagePoint=r;const o=wj(t),i=oI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Do;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,iI(i,this.history)),this.removeListeners=mf(wu(window,"pointermove",this.handlePointerMove),wu(window,"pointerup",this.handlePointerUp),wu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function oI(e,t){return t?{point:t(e.point)}:e}function tU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iI({point:e},t){return{point:e,delta:tU(e,Uxe(t)),offset:tU(e,UYe(t)),velocity:WYe(t,.1)}}function UYe(e){return e[0]}function Uxe(e){return e[e.length-1]}function WYe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Uxe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>gf(t)));)n--;if(!r)return{x:0,y:0};const i=Cu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Js(e){return e.max-e.min}function $R(e,t=0,n=.01){return Math.abs(e-t)<=n}function nU(e,t,n,r=.5){e.origin=r,e.originPoint=Tr(t.min,t.max,e.origin),e.scale=Js(n)/Js(t),($R(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Tr(n.min,n.max,e.origin)-e.originPoint,($R(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ky(e,t,n,r){nU(e.x,t.x,n.x,r?r.originX:void 0),nU(e.y,t.y,n.y,r?r.originY:void 0)}function rU(e,t,n){e.min=n.min+t.min,e.max=e.min+Js(t)}function YYe(e,t,n){rU(e.x,t.x,n.x),rU(e.y,t.y,n.y)}function oU(e,t,n){e.min=t.min-n.min,e.max=e.min+Js(t)}function Zy(e,t,n){oU(e.x,t.x,n.x),oU(e.y,t.y,n.y)}function qYe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tr(n,e,r.max):Math.min(e,n)),e}function iU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GYe(e,{top:t,left:n,bottom:r,right:o}){return{x:iU(e.x,n,o),y:iU(e.y,t,r)}}function sU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KYe(e,t){return{x:sU(e.x,t.x),y:sU(e.y,t.y)}}function ZYe(e,t){let n=.5;const r=Js(e),o=Js(t);return o>r?n=qb(t.min,t.max-r,e.min):r>o&&(n=qb(e.min,e.max-o,t.min)),Pf(0,1,n)}function XYe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const MR=.35;function QYe(e=MR){return e===!1?e=0:e===!0&&(e=MR),{x:aU(e,"left","right"),y:aU(e,"top","bottom")}}function aU(e,t,n){return{min:lU(e,t),max:lU(e,n)}}function lU(e,t){return typeof e=="number"?e:e[t]||0}const cU=()=>({translate:0,scale:1,origin:0,originPoint:0}),$g=()=>({x:cU(),y:cU()}),uU=()=>({min:0,max:0}),no=()=>({x:uU(),y:uU()});function oc(e){return[e("x"),e("y")]}function Wxe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function JYe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eqe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sI(e){return e===void 0||e===1}function FR({scale:e,scaleX:t,scaleY:n}){return!sI(e)||!sI(t)||!sI(n)}function Th(e){return FR(e)||Yxe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Yxe(e){return dU(e.x)||dU(e.y)}function dU(e){return e&&e!=="0%"}function Ek(e,t,n){const r=e-n,o=t*r;return n+o}function fU(e,t,n,r,o){return o!==void 0&&(e=Ek(e,o,r)),Ek(e,n,r)+t}function LR(e,t=0,n=1,r,o){e.min=fU(e.min,t,n,r,o),e.max=fU(e.max,t,n,r,o)}function qxe(e,{x:t,y:n}){LR(e.x,t.translate,t.scale,t.originPoint),LR(e.y,n.translate,n.scale,n.originPoint)}function tqe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,qxe(e,s)),r&&Th(i.latestValues)&&Mg(e,i.latestValues))}t.x=hU(t.x),t.y=hU(t.y)}function hU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ad(e,t){e.min=e.min+t,e.max=e.max+t}function pU(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Tr(e.min,e.max,i);LR(e,t[n],t[r],s,t.scale)}const nqe=["x","scaleX","originX"],rqe=["y","scaleY","originY"];function Mg(e,t){pU(e.x,t,nqe),pU(e.y,t,rqe)}function Gxe(e,t){return Wxe(eqe(e.getBoundingClientRect(),t))}function oqe(e,t,n){const r=Gxe(e,n),{scroll:o}=t;return o&&(Ad(r.x,o.offset.x),Ad(r.y,o.offset.y)),r}const iqe=new WeakMap;class sqe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=no(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(wj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=axe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oc(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Cc.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=Js(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Gn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=aqe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Hxe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Gn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!QC(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=qYe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Og(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=GYe(r.layoutBox,t):this.constraints=!1,this.elastic=QYe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oc(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=XYe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Og(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=oqe(r,o.root,this.visualElement.getTransformPagePoint());let s=KYe(o.layout.layoutBox,i);if(n){const a=n(JYe(s));this.hasMutatedConstraints=!!a,a&&(s=Wxe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=oc(d=>{if(!QC(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vL(t,r,0,n))}stopAnimation(){oc(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){oc(n=>{const{drag:r}=this.getProps();if(!QC(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Tr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Og(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};oc(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=ZYe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oc(s=>{if(!QC(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Tr(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;iqe.set(this.visualElement,this);const t=this.visualElement.current,n=wu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Og(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=pu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(oc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=MR,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function QC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function aqe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lqe extends Kf{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new sqe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const mU=e=>(t,n)=>{e&&Gn.update(()=>e(t,n))};class cqe extends Kf{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new Hxe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:mU(t),onStart:mU(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Gn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uqe(){const e=h.useContext(gj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const F2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const T1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const n=gU(e,t.target.x),r=gU(e,t.target.y);return`${n}% ${r}%`}},dqe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Of.parse(e);if(o.length>5)return r;const i=Of.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Tr(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class fqe extends ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;bUe(hqe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),F2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Gn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Kxe(e){const[t,n]=uqe(),r=h.useContext(rL);return ie.createElement(fqe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Ube),isPresent:t,safeToRemove:n})}const hqe={borderRadius:{...T1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:T1,borderTopRightRadius:T1,borderBottomLeftRadius:T1,borderBottomRightRadius:T1,boxShadow:dqe},Zxe=["TopLeft","TopRight","BottomLeft","BottomRight"],pqe=Zxe.length,vU=e=>typeof e=="string"?parseFloat(e):e,yU=e=>typeof e=="number"||ct.test(e);function mqe(e,t,n,r,o,i){o?(e.opacity=Tr(0,n.opacity!==void 0?n.opacity:1,gqe(r)),e.opacityExit=Tr(t.opacity!==void 0?t.opacity:1,0,vqe(r))):i&&(e.opacity=Tr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<pqe;s++){const a=`border${Zxe[s]}Radius`;let c=bU(t,a),u=bU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yU(c)===yU(u)?(e[a]=Math.max(Tr(vU(c),vU(u),r),0),(Cc.test(u)||Cc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Tr(t.rotate||0,n.rotate||0,r))}function bU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gqe=Xxe(0,.5,hL),vqe=Xxe(.5,.95,Br);function Xxe(e,t,n){return r=>r<e?0:r>t?1:n(qb(e,t,r))}function xU(e,t){e.min=t.min,e.max=t.max}function pa(e,t){xU(e.x,t.x),xU(e.y,t.y)}function wU(e,t,n,r,o){return e-=t,e=Ek(e,1/n,r),o!==void 0&&(e=Ek(e,1/o,r)),e}function yqe(e,t=0,n=1,r=.5,o,i=e,s=e){if(Cc.test(t)&&(t=parseFloat(t),t=Tr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Tr(i.min,i.max,r);e===i&&(a-=t),e.min=wU(e.min,t,n,a,o),e.max=wU(e.max,t,n,a,o)}function CU(e,t,[n,r,o],i,s){yqe(e,t[n],t[r],t[o],t.scale,i,s)}const bqe=["x","scaleX","originX"],xqe=["y","scaleY","originY"];function _U(e,t,n,r){CU(e.x,t,bqe,n?n.x:void 0,r?r.x:void 0),CU(e.y,t,xqe,n?n.y:void 0,r?r.y:void 0)}function SU(e){return e.translate===0&&e.scale===1}function Qxe(e){return SU(e.x)&&SU(e.y)}function wqe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Jxe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function kU(e){return Js(e.x)/Js(e.y)}class Cqe{constructor(){this.members=[]}add(t){yL(this.members,t),t.scheduleRender()}remove(t){if(bL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EU(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const _qe=(e,t)=>e.depth-t.depth;class Sqe{constructor(){this.children=[],this.isDirty=!1}add(t){yL(this.children,t),this.isDirty=!0}remove(t){bL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_qe),this.isDirty=!1,this.children.forEach(t)}}function kqe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Fu(r),e(i-t))};return Gn.read(r,!0),()=>Fu(r)}function Eqe(e){window.MotionDebug&&window.MotionDebug.record(e)}function jqe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Tqe(e,t,n){const r=ks(e)?e:Lv(e);return r.start(vL("",r,t,n)),r.animation}const jU=["","X","Y","Z"],TU=1e3;let Aqe=0;const Ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ewe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=Aqe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ah.totalNodes=Ah.resolvedTargetDeltas=Ah.recalculatedProjection=0,this.nodes.forEach(Pqe),this.nodes.forEach(Fqe),this.nodes.forEach(Lqe),this.nodes.forEach(Oqe),Eqe(Ah)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sqe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new xL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jqe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=kqe(p,250),F2.hasAnimatedSinceResize&&(F2.hasAnimatedSinceResize=!1,this.nodes.forEach(DU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Hqe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!Jxe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Lxe(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||DU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bqe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AU);return}this.isUpdating||this.nodes.forEach($qe),this.isUpdating=!1,this.nodes.forEach(Mqe),this.nodes.forEach(Dqe),this.nodes.forEach(Iqe),this.clearAllSnapshots();const a=performance.now();Do.delta=Pf(0,1e3/60,a-Do.timestamp),Do.timestamp=a,Do.isProcessing=!0,ZD.update.process(Do),ZD.preRender.process(Do),ZD.render.process(Do),Do.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Rqe),this.sharedNodes.forEach(Nqe)}scheduleUpdateProjection(){Gn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=no(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Qxe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Th(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),Uqe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return no();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Ad(a.x,c.offset.x),Ad(a.y,c.offset.y)),a}removeElementScroll(s){const a=no();pa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){pa(a,s);const{scroll:p}=this.root;p&&(Ad(a.x,-p.offset.x),Ad(a.y,-p.offset.y))}Ad(a.x,d.offset.x),Ad(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=no();pa(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Th(d.latestValues)&&Mg(c,d.latestValues)}return Th(this.latestValues)&&Mg(c,this.latestValues),c}removeTransform(s){const a=no();pa(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Th(u.latestValues))continue;FR(u.latestValues)&&u.updateSnapshot();const d=no(),f=u.measurePageBox();pa(d,f),_U(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Th(this.latestValues)&&_U(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Do.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Do.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=no(),this.relativeTargetOrigin=no(),Zy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=no(),this.targetWithTransforms=no()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),YYe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pa(this.target,this.layout.layoutBox),qxe(this.target,this.targetDelta)):pa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=no(),this.relativeTargetOrigin=no(),Zy(this.relativeTargetOrigin,this.target,m.target),pa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FR(this.parent.latestValues)||Yxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Do.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;pa(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;tqe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=$g(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$g(),this.projectionDeltaWithTransform=$g());const g=this.projectionTransform;Ky(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=EU(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=$g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=no(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Vqe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;IU(f.x,s.x,_),IU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zqe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&wqe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=no()),pa(w,this.relativeTarget)),g&&(this.animationValues=d,mqe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{F2.hasAnimatedSinceResize=!0,this.currentAnimation=Tqe(0,TU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&twe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||no();const f=Js(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=Js(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}pa(a,c),Mg(a,d),Ky(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Cqe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<jU.length;d++){const f="rotate"+jU[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=M2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=M2(s.pointerEvents)||""),this.hasProjected&&!Th(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=EU(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in bk){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=bk[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?M2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(AU),this.root.sharedNodes.clear()}}}function Dqe(e){e.updateLayout()}function Iqe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?oc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=Js(p);p.min=r[f].min,p.max=p.min+m}):twe(i,n.layoutBox,r)&&oc(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=Js(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=$g();Ky(a,r,n.layoutBox);const c=$g();s?Ky(c,e.applyTransform(o,!0),n.measuredBox):Ky(c,r,n.layoutBox);const u=!Qxe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=no();Zy(v,n.layoutBox,p.layoutBox);const g=no();Zy(g,r,m.layoutBox),Jxe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Pqe(e){Ah.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Oqe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Rqe(e){e.clearSnapshot()}function AU(e){e.clearMeasurements()}function $qe(e){e.isLayoutDirty=!1}function Mqe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function DU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fqe(e){e.resolveTargetDelta()}function Lqe(e){e.calcProjection()}function Bqe(e){e.resetRotation()}function Nqe(e){e.removeLeadSnapshot()}function IU(e,t,n){e.translate=Tr(t.translate,0,n),e.scale=Tr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PU(e,t,n,r){e.min=Tr(t.min,n.min,r),e.max=Tr(t.max,n.max,r)}function zqe(e,t,n,r){PU(e.x,t.x,n.x,r),PU(e.y,t.y,n.y,r)}function Vqe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Hqe={duration:.45,ease:[.4,0,.1,1]},OU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),RU=OU("applewebkit/")&&!OU("chrome/")?Math.round:Br;function $U(e){e.min=RU(e.min),e.max=RU(e.max)}function Uqe(e){$U(e.x),$U(e.y)}function twe(e,t,n){return e==="position"||e==="preserve-aspect"&&!$R(kU(t),kU(n),.2)}const Wqe=ewe({attachResizeListener:(e,t)=>pu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aI={current:void 0},nwe=ewe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!aI.current){const e=new Wqe({});e.mount(window),e.setOptions({layoutScroll:!0}),aI.current=e}return aI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Yqe={pan:{Feature:cqe},drag:{Feature:lqe,ProjectionNode:nwe,MeasureLayout:Kxe}},qqe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Gqe(e){const t=qqe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function BR(e,t,n=1){const[r,o]=Gqe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Bxe(s)?parseFloat(s):s}else return TR(o)?BR(o,t,n+1):o}function Kqe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!TR(i))return;const s=BR(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!TR(i))continue;const s=BR(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const Zqe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rwe=e=>Zqe.has(e),Xqe=e=>Object.keys(e).some(rwe),MU=e=>e===hm||e===ct,FU=(e,t)=>parseFloat(e.split(", ")[t]),LU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return FU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?FU(i[1],e):0}},Qqe=new Set(["x","y","z"]),Jqe=mw.filter(e=>!Qqe.has(e));function eGe(e){const t=[];return Jqe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Bv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:LU(4,13),y:LU(5,14)};Bv.translateX=Bv.x;Bv.translateY=Bv.y;const tGe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Bv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Bv[u](c,i)}),e},nGe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(rwe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=j1(d);const p=t[c];let m;if(wk(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=j1(d);for(let y=g;y<v&&p[y]!==null;y++)m?fL(j1(p[y])===m):m=j1(p[y])}else m=j1(p);if(f!==m)if(MU(f)&&MU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===ct&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=eGe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=tGe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),vj&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function rGe(e,t,n,r){return Xqe(t)?nGe(e,t,n,r):{target:t,transitionEnd:r}}const oGe=(e,t,n,r)=>{const o=Kqe(e,t,r);return t=o.target,r=o.transitionEnd,rGe(e,t,n,r)},NR={current:null},owe={current:!1};function iGe(){if(owe.current=!0,!!vj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NR.current=e.matches;e.addListener(t),t()}else NR.current=!1}function sGe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(ks(i))e.addValue(o,i),kk(r)&&r.add(o);else if(ks(s))e.addValue(o,Lv(i,{owner:e})),kk(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Lv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const BU=new WeakMap,iwe=Object.keys(Yb),aGe=iwe.length,NU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],lGe=nL.length;class cGe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=bj(n),this.isVariantNode=Hbe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&ks(p)&&(p.set(a[f],!1),kk(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,BU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),owe.current||iGe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){BU.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=fm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Gn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<aGe;c++){const u=iwe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Yb[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Og(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):no()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<NU.length;r++){const o=NU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=sGe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<lGe;r++){const o=nL[r],i=this.props[o];(Wb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=dL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ks(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class swe extends cGe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=TYe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){EYe(this,r,s);const a=oGe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function uGe(e){return window.getComputedStyle(e)}class dGe extends swe{readValueFromInstance(t,n){if(fm.has(n)){const r=gL(n);return r&&r.default||0}else{const r=uGe(t),o=(qbe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Gxe(t,n)}build(t,n,r,o){iL(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ks(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){Jbe(t,n,r,o)}}class fGe extends swe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fm.has(n)){const r=gL(n);return r&&r.default||0}return n=exe.has(n)?n:cL(n),t.getAttribute(n)}measureInstanceViewportBox(){return no()}scrapeMotionValuesFromProps(t,n){return nxe(t,n)}build(t,n,r,o){aL(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){txe(t,n,r,o)}mount(t){this.isSVGTag=lL(t.tagName),super.mount(t)}}const hGe=(e,t)=>oL(e)?new fGe(t,{enableHardwareAcceleration:!1}):new dGe(t,{enableHardwareAcceleration:!0}),pGe={layout:{ProjectionNode:nwe,MeasureLayout:Kxe}},mGe={...VYe,...lWe,...Yqe,...pGe},rd=vUe((e,t)=>KUe(e,t,mGe,hGe));function awe(){const e=h.useRef(!1);return eL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function gGe(){const e=awe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Gn.postRender(r),[r]),t]}class vGe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yGe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(vGe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const lI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=rxe(bGe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(yGe,{isPresent:n},e)),h.createElement(gj.Provider,{value:u},e)};function bGe(){return new Map}function xGe(e){return h.useEffect(()=>()=>e(),[])}const Dh=e=>e.key||"";function wGe(e,t){e.forEach(n=>{const r=Dh(n);t.set(r,n)})}function CGe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const wL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(rL).forceRender||gGe()[0],c=awe(),u=CGe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(eL(()=>{v.current=!1,wGe(u,m),p.current=d}),xGe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(lI,{key:Dh(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(Dh),y=u.map(Dh),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const k=()=>{f.delete(w);const j=Array.from(m.keys()).filter(E=>!y.includes(E));if(j.forEach(E=>m.delete(E)),p.current=u.filter(E=>{const T=Dh(E);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(lI,{key:Dh(C),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(lI,{key:Dh(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))},bw=[],vf={},lwe={top:"bottom",right:"left",bottom:"top",left:"right"};function _Ge(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ye(e){return e===0?0:"".concat(e/16,"rem")}function vt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function SGe(e,t){return e===void 0?t||bw:Array.isArray(e)?e:[e]}function fs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:vt(e.sanity.media,n,r=>_Ge(t,ye(e.sanity.space[r])))}function Nv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Nv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Nv.warned=!0),[p];const m=vt(s,n,v=>kGe(c[v]||f));return[p,...m]}function kGe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ye(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ye(i),transform:"translateY(".concat(ye(n),")"),"&:before":{marginTop:"calc(".concat(ye(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ye(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ye(u)}}}function EGe(e){return Nv("code",e)}function jGe(e){return Nv("heading",e)}function TGe(e){return Nv("label",e)}function CL(e){const{theme:t}=e;return vt(t.sanity.media,e.$align,n=>({textAlign:n}))}function AGe(e){return Nv("text",e)}function Ce(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>SGe(e,t),[n])}function zU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function cr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>zU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=zU(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var mp=[],DGe=function(){return mp.some(function(e){return e.activeTargets.length>0})},IGe=function(){return mp.some(function(e){return e.skippedTargets.length>0})},VU="ResizeObserver loop completed with undelivered notifications.",PGe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:VU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=VU),window.dispatchEvent(e)},Gb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Gb||(Gb={}));var gp=function(e){return Object.freeze(e)},OGe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,gp(this)}return e}(),cwe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,gp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),_L=function(e){return e instanceof SVGElement&&"getBBox"in e},uwe=function(e){if(_L(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},HU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},RGe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Xy=typeof window<"u"?window:{},JC=new WeakMap,UU=/auto|scroll/,$Ge=/^tb|vertical/,MGe=/msie|trident/i.test(Xy.navigator&&Xy.navigator.userAgent),Kl=function(e){return parseFloat(e||"0")},Jg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new OGe((n?t:e)||0,(n?e:t)||0)},WU=gp({devicePixelContentBoxSize:Jg(),borderBoxSize:Jg(),contentBoxSize:Jg(),contentRect:new cwe(0,0,0,0)}),dwe=function(e,t){if(t===void 0&&(t=!1),JC.has(e)&&!t)return JC.get(e);if(uwe(e))return JC.set(e,WU),WU;var n=getComputedStyle(e),r=_L(e)&&e.ownerSVGElement&&e.getBBox(),o=!MGe&&n.boxSizing==="border-box",i=$Ge.test(n.writingMode||""),s=!r&&UU.test(n.overflowY||""),a=!r&&UU.test(n.overflowX||""),c=r?0:Kl(n.paddingTop),u=r?0:Kl(n.paddingRight),d=r?0:Kl(n.paddingBottom),f=r?0:Kl(n.paddingLeft),p=r?0:Kl(n.borderTopWidth),m=r?0:Kl(n.borderRightWidth),v=r?0:Kl(n.borderBottomWidth),g=r?0:Kl(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,k=o?x+w:0,j=r?r.width:Kl(n.width)-S-_,E=r?r.height:Kl(n.height)-k-C,T=j+y+_+b,A=E+x+C+w,D=gp({devicePixelContentBoxSize:Jg(Math.round(j*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:Jg(T,A,i),contentBoxSize:Jg(j,E,i),contentRect:new cwe(f,c,j,E)});return JC.set(e,D),D},fwe=function(e,t,n){var r=dwe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Gb.DEVICE_PIXEL_CONTENT_BOX:return s;case Gb.BORDER_BOX:return o;default:return i}},FGe=function(){function e(t){var n=dwe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=gp([n.borderBoxSize]),this.contentBoxSize=gp([n.contentBoxSize]),this.devicePixelContentBoxSize=gp([n.devicePixelContentBoxSize])}return e}(),hwe=function(e){if(uwe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},LGe=function(){var e=1/0,t=[];mp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new FGe(u.target),f=hwe(u.target);a.push(d),u.lastReportedSize=fwe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},YU=function(e){mp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(hwe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},BGe=function(){var e=0;for(YU(e);DGe();)e=LGe(),YU(e);return IGe()&&PGe(),e>0},cI,pwe=[],NGe=function(){return pwe.splice(0).forEach(function(e){return e()})},zGe=function(e){if(!cI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return NGe()}).observe(n,r),cI=function(){n.textContent="".concat(t?t--:t++)}}pwe.push(e),cI()},VGe=function(e){zGe(function(){requestAnimationFrame(e)})},L2=0,HGe=function(){return!!L2},UGe=250,WGe={attributes:!0,characterData:!0,childList:!0,subtree:!0},qU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],GU=function(e){return e===void 0&&(e=0),Date.now()+e},uI=!1,YGe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=UGe),!uI){uI=!0;var r=GU(t);VGe(function(){var o=!1;try{o=BGe()}finally{if(uI=!1,t=r-GU(),!HGe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,WGe)};document.body?n():Xy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),qU.forEach(function(n){return Xy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),qU.forEach(function(n){return Xy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),zR=new YGe,KU=function(e){!L2&&e>0&&zR.start(),L2+=e,!L2&&zR.stop()},qGe=function(e){return!_L(e)&&!RGe(e)&&getComputedStyle(e).display==="inline"},GGe=function(){function e(t,n){this.target=t,this.observedBox=n||Gb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=fwe(this.target,this.observedBox,!0);return qGe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),KGe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),e_=new WeakMap,ZU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},t_=function(){function e(){}return e.connect=function(t,n){var r=new KGe(t,n);e_.set(t,r)},e.observe=function(t,n,r){var o=e_.get(t),i=o.observationTargets.length===0;ZU(o.observationTargets,n)<0&&(i&&mp.push(o),o.observationTargets.push(new GGe(n,r&&r.box)),KU(1),zR.schedule())},e.unobserve=function(t,n){var r=e_.get(t),o=ZU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&mp.splice(mp.indexOf(r),1),r.observationTargets.splice(o,1),KU(-1))},e.disconnect=function(t){var n=this,r=e_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ZGe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");t_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!HU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");t_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!HU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");t_.unobserve(this,t)},e.prototype.disconnect=function(){t_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const mwe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:ZGe,XGe=JGe();function QGe(){return{subscribe(e,t){const n=new mwe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function JGe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=QGe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function _j(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return XGe.subscribe(e,n)},[e]),t}function Zf(e){const t=_j(e);return(t==null?void 0:t._contentRect)||null}function Es(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function dI(e,t){return e*t}function eKe(e,t){return{r:Math.round(fI(dI(e.r/255,t.r/255)*255)),g:Math.round(fI(dI(e.g/255,t.g/255)*255)),b:Math.round(fI(dI(e.b/255,t.b/255)*255))}}function fI(e){return Math.max(Math.min(e,255),0)}function hI(e,t){return e+t-e*t}function tKe(e,t){return{r:Math.round(pI(hI(e.r/255,t.r/255)*255)),g:Math.round(pI(hI(e.g/255,t.g/255)*255)),b:Math.round(pI(hI(e.b/255,t.b/255)*255))}}function pI(e){return Math.max(Math.min(e,255),0)}function nKe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function gwe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function rKe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const oKe="0123456789ABCDEFabcdef",iKe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function sKe(e){for(const t of e)if(oKe.indexOf(t)===-1)return!1;return!0}function aKe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:sKe(e.slice(1))}function lKe(e){const t=iKe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function Kb(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(aKe(e))return nKe(e);if(e.startsWith("hsl("))return rKe(lKe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Dt(e,t){const n=Kb(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function mI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function cKe(e,t,n,r,o){return{default:mI(e,t,n,r,o,"default"),ghost:mI(e,t,n,r,o,"ghost"),bleed:mI(e,t,n,r,o,"bleed")}}function uKe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const je="hsl(0, 0%, 0%)",Hm="hsl(0, 0%, 100%)",yt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},dKe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},n_={transparent:{bg:[yt.transparent.darkest,yt.transparent.lightest],fg:[yt.transparent.lightest,yt.transparent.darkest],border:[yt.transparent.darker,yt.transparent.lighter],focusRing:[yt.transparent.base,yt.transparent.base]},primary:{bg:[yt.primary.darkest,yt.primary.lightest],fg:[yt.primary.lightest,yt.primary.darkest],border:[yt.primary.darker,yt.primary.lighter],focusRing:[yt.primary.base,yt.primary.base]},positive:{bg:[yt.positive.darkest,yt.positive.lightest],fg:[yt.positive.lightest,yt.positive.darkest],border:[yt.positive.darker,yt.positive.lighter],focusRing:[yt.positive.base,yt.positive.base]},caution:{bg:[yt.caution.darkest,yt.caution.lightest],fg:[yt.caution.lightest,yt.caution.darkest],border:[yt.caution.darker,yt.caution.lighter],focusRing:[yt.caution.base,yt.caution.base]},critical:{bg:[yt.critical.darkest,yt.critical.lightest],fg:[yt.critical.lightest,yt.critical.darkest],border:[yt.critical.darker,yt.critical.lighter],focusRing:[yt.critical.base,yt.critical.base]}},fKe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?je:Hm,fg:t?Hm:je,border:t?yt.default.darkest:yt.default.lightest,focusRing:yt.primary.base,shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Hm:je,to:t?Hm:je}}:{bg:n_[n].bg[t?0:1],fg:n_[n].fg[t?0:1],border:n_[n].border[t?0:1],focusRing:n_[n].focusRing[t?0:1],shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Hm:je,to:t?Hm:je}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:je,bg2:je,fg:je,border:je,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},input:()=>({bg:je,fg:je,border:je,placeholder:je}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return dKe[t]},syntax:()=>({atrule:je,attrName:je,attrValue:je,attribute:je,boolean:je,builtin:je,cdata:je,char:je,class:je,className:je,comment:je,constant:je,deleted:je,doctype:je,entity:je,function:je,hexcode:je,id:je,important:je,inserted:je,keyword:je,number:je,operator:je,prolog:je,property:je,pseudoClass:je,pseudoElement:je,punctuation:je,regex:je,selector:je,string:je,symbol:je,tag:je,unit:je,url:je,variable:je})};function hKe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function pKe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function mKe(e,t,n,r,o){return{default:A1(e,t,n,r,o,"default"),primary:A1(e,t,n,r,o,"primary"),positive:A1(e,t,n,r,o,"positive"),caution:A1(e,t,n,r,o,"caution"),critical:A1(e,t,n,r,o,"critical")}}function A1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function gKe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function vKe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function yKe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...fKe,...e};return{light:XU(t,!1),dark:XU(t,!0)}}function XU(e,t){return{default:Um(e,t,"default"),transparent:Um(e,t,"transparent"),primary:Um(e,t,"primary"),positive:Um(e,t,"positive"),caution:Um(e,t,"caution"),critical:Um(e,t,"critical")}}function Um(e,t,n){const r=e.base({dark:t,name:n}),o=gKe(e,r,t,n),i=pKe(e,r,t,n);return{base:r,button:cKe(e,r,t,o,i),card:uKe(e,r,t,n,o,i),dark:t,input:hKe(e,r,t,o,i),selectable:mKe(e,r,t,o,i),spot:vKe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function gh(e,t){const n=Kb(e),r=Kb(t);return gwe(eKe(n,r))}function vh(e,t){const n=Kb(e),r=Kb(t);return gwe(tKe(n,r))}const Li={default:pe.gray,transparent:pe.gray,primary:pe.blue,positive:pe.green,caution:pe.yellow,critical:pe.red},D1=["default","transparent"],bKe=yKe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=pe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?xa.hex:ac.hex,bg:t?ac.hex:xa.hex,border:i[t?800:200].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[950].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[950].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[950].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}if(n==="transparent"){const i=Li.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[900].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[900].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[900].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}const r=Li[n]||Li.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Dt(r[500].hex,.4),umbra:t?Dt(r[900].hex,.4):Dt(r[500].hex,.2),penumbra:t?Dt(r[900].hex,.28):Dt(r[500].hex,.14),ambient:t?Dt(r[900].hex,.24):Dt(r[500].hex,.12)},skeleton:{from:o,to:Dt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=n?gh:vh,c=Li[r]||Li.default,u=D1.includes(r)&&D1.includes(i);let d=Li[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?ac.hex:xa.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?ac.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?ac.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="selected"){u&&(d=Li.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?ac.hex:xa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?ac.hex:xa.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,pe.red[n?900:100].hex)},link:{fg:a(f,pe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Dt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=Li[r]||Li.default,c=D1.includes(r)&&D1.includes(i);let u=Li[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Dt(m,.5),to:Dt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="pressed"){c&&(u=Li.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="selected"){c&&(u=Li.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Dt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=D1.includes(o),c=Li[o]||Li.default,u=n?vh:gh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,pe.red[n?400:500].hex)},link:{fg:u(t.bg,pe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:Dt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?vh:gh;if(r==="invalid"){const s=Li.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,pe.gray[n?700:300].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?700:300].hex),border:i(t.bg,pe.gray[n?900:100].hex),placeholder:i(t.bg,pe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?200:800].hex),border:i(t.bg,pe.gray[n?800:200].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,pe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?vh:gh)(t.bg,pe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?vh:gh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,pe.purple[o].hex),attrName:r(t.bg,pe.green[o].hex),attrValue:r(t.bg,pe.yellow[o].hex),attribute:r(t.bg,pe.yellow[o].hex),boolean:r(t.bg,pe.purple[o].hex),builtin:r(t.bg,pe.purple[o].hex),cdata:r(t.bg,pe.yellow[o].hex),char:r(t.bg,pe.yellow[o].hex),class:r(t.bg,pe.orange[o].hex),className:r(t.bg,pe.cyan[o].hex),comment:r(t.bg,pe.gray[i].hex),constant:r(t.bg,pe.purple[o].hex),deleted:r(t.bg,pe.red[o].hex),doctype:r(t.bg,pe.gray[i].hex),entity:r(t.bg,pe.red[o].hex),function:r(t.bg,pe.green[o].hex),hexcode:r(t.bg,pe.blue[o].hex),id:r(t.bg,pe.purple[o].hex),important:r(t.bg,pe.purple[o].hex),inserted:r(t.bg,pe.yellow[o].hex),keyword:r(t.bg,pe.magenta[o].hex),number:r(t.bg,pe.purple[o].hex),operator:r(t.bg,pe.magenta[o].hex),prolog:r(t.bg,pe.gray[i].hex),property:r(t.bg,pe.blue[o].hex),pseudoClass:r(t.bg,pe.yellow[o].hex),pseudoElement:r(t.bg,pe.yellow[o].hex),punctuation:r(t.bg,pe.gray[o].hex),regex:r(t.bg,pe.blue[o].hex),selector:r(t.bg,pe.red[o].hex),string:r(t.bg,pe.yellow[o].hex),symbol:r(t.bg,pe.purple[o].hex),tag:r(t.bg,pe.red[o].hex),unit:r(t.bg,pe.orange[o].hex),url:r(t.bg,pe.red[o].hex),variable:r(t.bg,pe.red[o].hex)}}}),xKe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Rf={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:bKe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:xKe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},wKe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function CKe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=CKe(),VR=Symbol.for("@sanity/ui/context/theme");Qt[VR]=Qt[VR]||h.createContext(null);const HR=Qt[VR];function jk(e){const t=h.useContext(HR),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||wKe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(HR.Provider,{value:a,children:l.jsx(C6e,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function y0(e){return!!(e&&typeof e=="object")}function b0(){const e=h.useContext(HR);if(!e)throw new Error("useRootTheme(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function vwe(e){const{children:t,scheme:n,tone:r}=e,o=b0();return l.jsx(jk,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function js(){return c0e()}const QU=new WeakMap;function _Ke(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function SKe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=_Ke(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function kKe(){return 0}function pm(){const e=js(),{media:t}=e.sanity;let n=QU.get(t);return n||(n=SKe(t),QU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,kKe)}let gI;function ywe(){return gI||(gI=window.matchMedia("(prefers-color-scheme: dark)")),gI}function EKe(e){const t=ywe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function jKe(){return ywe().matches}function TKe(){return!1}function AKe(){return h.useSyncExternalStore(EKe,jKe,TKe)}const DKe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function ur(e){const t=h.useRef(null);return DKe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function xw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const ww="1px solid var(--card-border-color)";function IKe(){return[PKe,OKe,RKe,$Ke,MKe]}function PKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$border,r=>r?{"&&":{border:ww}}:{"&&":{border:0}})}function OKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderTop,r=>r?{"&&":{borderTop:ww}}:{"&&":{borderTop:0}})}function RKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderRight,r=>r?{"&&":{borderRight:ww}}:{"&&":{borderRight:0}})}function $Ke(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:ww}}:{"&&":{borderBottom:0}})}function MKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:ww}}:{"&&":{borderLeft:0}})}const FKe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},LKe={content:"content-box",border:"border-box"},BKe={stretch:"stretch",fill:"100%"};function NKe(){return FKe}function zKe(){return[HKe,UKe,WKe,VKe]}function VKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function HKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$sizing,r=>({boxSizing:LKe[r]}))}function UKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$height,r=>({height:BKe[r]}))}function WKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$overflow,r=>({overflow:r}))}const YKe={"&&:not([hidden])":{display:"flex"}};function qKe(){return[YKe,GKe,KKe,ZKe,XKe,QKe]}function GKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$align,r=>({alignItems:r}))}function KKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gap,o=>({gap:o?ye(r[o]):void 0}))}function ZKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$wrap,r=>({flexWrap:r}))}function XKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$justify,r=>({justifyContent:r}))}function QKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$direction,r=>({flexDirection:r}))}const JKe={minWidth:0,minHeight:0};function bwe(){return[JKe,eZe]}function eZe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?vt(n,e.$flex,r=>({flex:r})):bw}function _o(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Ac(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&_o(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const tZe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},nZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},rZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function oZe(){return[tZe,iZe,sZe,aZe,lZe,cZe,uZe,dZe,fZe]}function iZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function sZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoRows,r=>({gridAutoRows:r&&rZe[r]}))}function aZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoCols,r=>({gridAutoColumns:r&&nZe[r]}))}function lZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function cZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function uZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gap,o=>({gridGap:o?ye(r[o]):void 0}))}function dZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gapX,o=>({columnGap:o?ye(r[o]):void 0}))}function fZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gapY,o=>({rowGap:o?ye(r[o]):void 0}))}function hZe(){return[gZe,vZe,yZe,bZe,xZe,wZe]}const pZe={auto:"auto",full:"1 / -1"},mZe={auto:"auto",full:"1 / -1"};function gZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:pZe[r]})}function vZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rowStart,r=>({gridRowStart:r}))}function yZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function bZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:mZe[r]})}function xZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columnStart,r=>({gridColumnStart:r}))}function wZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function SL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return vt(c,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ye(b-y.ascenderHeight),paddingRight:ye(b),paddingBottom:ye(b-y.descenderHeight),paddingLeft:ye(b)};return r&&(C.paddingRight=ye(b+x+w)),n&&(C.paddingLeft=ye(b+x+w)),C})}function CZe(e){return SL({...e,$iconRight:!0})}var JU=Object.freeze,_Ze=Object.defineProperty,kL=(e,t)=>JU(_Ze(e,"raw",{value:JU(t||e.slice())})),eW,tW,nW;const SZe=he(eW||(eW=kL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function xwe(){return SZe}function wwe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return he(tW||(tW=kL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function Cwe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return vt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function _we(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return he(nW||(nW=kL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,_o({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,_o({color:c.invalid.enabled.border,width:a.border.width}),Ac({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Ac({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,_o({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,_o({color:c.default.hovered.border,width:a.border.width}))}function kZe(e){const{theme:t}=e;return[fs(t,["margin"],e.$margin),fs(t,["marginLeft","marginRight"],e.$marginX),fs(t,["marginTop","marginBottom"],e.$marginY),fs(t,["marginTop"],e.$marginTop),fs(t,["marginRight"],e.$marginRight),fs(t,["marginBottom"],e.$marginBottom),fs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function Swe(e){const{theme:t}=e;return[fs(t,["padding"],e.$padding),fs(t,["paddingLeft","paddingRight"],e.$paddingX),fs(t,["paddingTop","paddingBottom"],e.$paddingY),fs(t,["paddingTop"],e.$paddingTop),fs(t,["paddingRight"],e.$paddingRight),fs(t,["paddingBottom"],e.$paddingBottom),fs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function od(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return vt(n,e.$radius,o=>({borderRadius:ye(r[o])}))}function vI(e,t){return"".concat(e.map(ye).join(" ")," ").concat(t)}function EZe(e){if(!e)return vf;const t="0 0 0 ".concat(ye(1)," var(--card-shadow-outline-color)"),n=vI(e.umbra,"var(--card-shadow-umbra-color)"),r=vI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=vI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function jZe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return vt(n,e.$shadow,o=>EZe(r[o]))}var rW=Object.freeze,TZe=Object.defineProperty,yI=(e,t)=>rW(TZe(e,"raw",{value:rW(t||e.slice())})),oW,iW,sW;function AZe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return he(sW||(sW=yI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(oW||(oW=yI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(iW||(iW=yI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var aW=Object.freeze,DZe=Object.defineProperty,IZe=(e,t)=>aW(DZe(e,"raw",{value:aW(t||e.slice())})),lW;const PZe=O.div(AGe,CL,AZe),OZe=O.span(lW||(lW=IZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(OZe,{children:f})),l.jsx(PZe,{"data-ui":"Text",...d,$accent:r,$align:Ce(o),$muted:s,ref:n,$size:Ce(a),$weight:u,children:l.jsx("span",{children:f})})}),Cw={root:$Ze,arrow:RZe,bgStroke:LZe,stroke:BZe,initials:FZe};function RZe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function $Ze(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ac({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function MZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2),"&>svg":{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2)}}})}function FZe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function LZe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function BZe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const NZe=O.div(MZe,Cw.root),zZe=O.div(Cw.arrow),VZe=O.ellipse(Cw.bgStroke),HZe=O.ellipse(Cw.stroke),UZe=O.div(Cw.initials),kwe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=O4e.isValidElementType(r)?r:"div",g=Ce(p),y=js(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,k]=h.useState(d||u||"inside"),[j,E]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>k(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&E(!1)},[i]);const A=h.useCallback(()=>{E(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(NZe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(zZe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(VZe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(HZe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(UZe,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var cW=Object.freeze,WZe=Object.defineProperty,YZe=(e,t)=>cW(WZe(e,"raw",{value:cW(t||e.slice())})),uW;function qZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ye(i.size/2),minWidth:ye(i.size),height:ye(i.size)}:vf})}function GZe(e){const{theme:t}=e;return he(uW||(uW=YZe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ye(t.sanity.space[2]))}const KZe=O.div(qZe,GZe),UR=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=Ce(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(KZe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function Ewe(e){return(Array.isArray(e)?e:[e]).filter(n=>ki.isElement(n)||ki.isFragment(n)||typeof n=="string")}var dW=Object.freeze,ZZe=Object.defineProperty,XZe=(e,t)=>dW(ZZe(e,"raw",{value:dW(t||e.slice())})),fW;const QZe=he(fW||(fW=XZe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function JZe(){return QZe}function eXe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ye(i.distance)}}:vf})}const tXe=O.div(eXe,JZe),Sj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=Ewe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=Ce(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(tXe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(UR,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(UR,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),nXe=O.div(NKe,bwe,zKe,hZe,kZe,Swe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:k,paddingLeft:j,row:E,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(nXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:Ce(o),$columnStart:Ce(i),$columnEnd:Ce(s),$display:Ce(a),$flex:Ce(c),$height:Ce(u),$margin:Ce(d),$marginX:Ce(f),$marginY:Ce(p),$marginTop:Ce(m),$marginRight:Ce(v),$marginBottom:Ce(g),$marginLeft:Ce(y),$overflow:Ce(x),$padding:Ce(b),$paddingX:Ce(w),$paddingY:Ce(C),$paddingTop:Ce(_),$paddingRight:Ce(S),$paddingBottom:Ce(k),$paddingLeft:Ce(j),$row:Ce(E),$rowStart:Ce(T),$rowEnd:Ce(A),$sizing:Ce(D),as:r,ref:n,children:t.children})});var hW=Object.freeze,rXe=Object.defineProperty,bI=(e,t)=>hW(rXe(e,"raw",{value:hW(t||e.slice())})),pW,mW,gW;function oXe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return he(gW||(gW=bI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(pW||(pW=bI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(mW||(mW=bI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var vW=Object.freeze,iXe=Object.defineProperty,sXe=(e,t)=>vW(iXe(e,"raw",{value:vW(t||e.slice())})),yW;const aXe=O.div(TGe,CL,oXe),lXe=O.span(yW||(yW=sXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Vt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(lXe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(aXe,{"data-ui":"Label",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:f})});function cXe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const uXe=O(M)(od,cXe),EL=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(uXe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:Ce(a),padding:Ce(s),ref:n,children:l.jsx(Vt,{size:o,children:r})})}),dXe=O(M)(bwe,qKe),Y=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(dXe,{"data-ui":"Flex",...u,$align:Ce(r),$direction:Ce(i),$gap:Ce(s),$justify:Ce(a),$wrap:Ce(c),forwardedAs:o,ref:n})});var bW=Object.freeze,fXe=Object.defineProperty,jwe=(e,t)=>bW(fXe(e,"raw",{value:bW(t||e.slice())})),xW,wW;const hXe=am(xW||(xW=jwe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),pXe=O(L)(wW||(wW=jwe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),hXe),dr=h.forwardRef(function(t,n){return l.jsx(pXe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(rw,{})})});function zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var CW=Object.freeze,mXe=Object.defineProperty,gXe=(e,t)=>CW(mXe(e,"raw",{value:CW(t||e.slice())})),_W;function vXe(){return he(_W||(_W=gXe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const yXe={border:{width:1}};function bXe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:yXe.border.width,color:"var(--card-border-color)"};return[zt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:_o(u),'&:disabled, &[data-disabled="true"]':zt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Ac({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:_o(u)},"@media (hover: hover)":{"&:hover":zt(s,c.hovered),"&:active":zt(s,c.pressed),"&[data-hovered]":zt(s,c.hovered)},"&[data-selected]":zt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var SW=Object.freeze,xXe=Object.defineProperty,wXe=(e,t)=>SW(xXe(e,"raw",{value:SW(t||e.slice())})),kW;const CXe=O.button(od,vXe,bXe),_Xe=O.div(kW||(kW=wXe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),se=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:k="default",type:j="button",...E}=t,T=Ce(c),A=Ce(f),D=Ce(p),I=Ce(m),P=Ce(v),$=Ce(g),R=Ce(y),V=Ce(x),N=Ce(b),H=Ce(C),G=js(),U=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:$,paddingLeft:R,paddingRight:V}),[A,D,I,P,$,R,V]);return l.jsxs(CXe,{"data-ui":"Button",...E,$mode:d,$radius:N,$tone:k,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(_Xe,{children:l.jsx(dr,{})}),(s||_||a)&&l.jsx(M,{as:"span",...U,children:l.jsxs(Y,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,ki.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?H:void 0,marginRight:a?H:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:G.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,ki.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...U,children:r})]})});var EW=Object.freeze,SXe=Object.defineProperty,WR=(e,t)=>EW(SXe(e,"raw",{value:EW(t||e.slice())})),jW,TW,AW;function kXe(e){return[EXe(e),jXe(e)]}function EXe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return he(TW||(TW=WR([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&he(jW||(jW=WR([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function jXe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return he(AW||(AW=WR([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",zt(a,c.enabled,r),zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?_o(d):void 0,zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?_o(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const TXe=O(M)(IKe,od,jZe,kXe),ee=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=ki.isValidElementType(i)?i:"div",w=b0(),C=y==="inherit"?w.tone:y;return l.jsx(vwe,{scheme:m,tone:C,children:l.jsx(TXe,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:Ce(s),$borderTop:Ce(a),$borderRight:Ce(c),$borderBottom:Ce(u),$borderLeft:Ce(d),$checkered:r,$focusRing:o,$radius:Ce(p),$shadow:Ce(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var DW=Object.freeze,AXe=Object.defineProperty,Twe=(e,t)=>DW(AXe(e,"raw",{value:DW(t||e.slice())})),IW,PW;function DXe(){return he(IW||(IW=Twe([`
    position: relative;
    display: inline-block;
  `])))}function IXe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return he(PW||(PW=Twe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ye(o.checkbox.size),ye(o.checkbox.size),_o({color:n.default.enabled.border,width:o.border.width}),ye(i[2]),n.default.enabled.bg,Ac({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),_o({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,_o({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,_o({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const PXe=O.div(DXe),OXe=O.input(IXe),kj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=ur(n);return xw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(PXe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(OXe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(Xs,{}),l.jsx(F0e,{})]})]})});var OW=Object.freeze,RXe=Object.defineProperty,$Xe=(e,t)=>OW(RXe(e,"raw",{value:OW(t||e.slice())})),RW;function MXe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function FXe(){return he(RW||(RW=$Xe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),MXe)}const LXe=O.pre(FXe,EGe),sr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Dp.hasLanguage(c):!1;return l.jsxs(LXe,{"data-ui":"Code",...a,$size:Ce(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Dp,{inline:!0,language:c,value:String(r)})]})}),BXe={width:"100%",margin:"0 auto"};function NXe(){return BXe}function zXe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return vt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ye(n[o])}))}const VXe=O(M)(NXe,zXe),Xr=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(VXe,{"data-ui":"Container",...i,$width:Ce(o),forwardedAs:r,ref:n})}),HXe=O(M)(oZe),Jt=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(HXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:Ce(o),$autoCols:Ce(i),$autoFlow:Ce(s),$columns:Ce(a),$gap:Ce(c),$gapX:Ce(u),$gapY:Ce(d),$rows:Ce(f),forwardedAs:r,ref:n,children:p})});var $W=Object.freeze,UXe=Object.defineProperty,xI=(e,t)=>$W(UXe(e,"raw",{value:$W(t||e.slice())})),MW,FW,LW;function WXe(e){const{$accent:t,$muted:n,theme:r}=e;return he(LW||(LW=xI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(MW||(MW=xI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(FW||(FW=xI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var BW=Object.freeze,YXe=Object.defineProperty,qXe=(e,t)=>BW(YXe(e,"raw",{value:BW(t||e.slice())})),NW;const GXe=O.div(WXe,CL,jGe),KXe=O.span(NW||(NW=qXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),zo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(KXe,{children:f})),l.jsx(GXe,{"data-ui":"Heading",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function ZXe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function XXe(e){const{theme:t}=e;return vt(t.sanity.media,e.$space,n=>{const r=ye(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const QXe=O(M)(ZXe,XXe),Gt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>Ewe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(QXe,{"data-ui":"Inline",...s,$space:Ce(i),forwardedAs:r,ref:n,children:a})});var zW=Object.freeze,JXe=Object.defineProperty,eQe=(e,t)=>zW(JXe(e,"raw",{value:zW(t||e.slice())})),VW;function tQe(){return he(VW||(VW=eQe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const nQe=O.kbd(od,tQe),YR=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(nQe,{"data-ui":"KBD",...a,$radius:Ce(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(sr,{as:"span",muted:!0,size:o,children:r})})})}),qR=Symbol.for("@sanity/ui/context/boundaryElement");Qt[qR]=Qt[qR]||h.createContext(null);const Awe=Qt[qR];function Lu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(Awe.Provider,{value:r,children:t})}const rQe={version:0,element:null};function mm(){const e=h.useContext(Awe);if(e&&(!y0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||rQe}function oQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function iQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const sQe=h.forwardRef(function(t,n){const r=js(),{children:o,media:i=r.sanity.media,...s}=t,a=ur(n),[c,u]=h.useState(null),d=_j(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>oQe(i,f),[i,f]),m=h.useMemo(()=>iQe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var aQe=Object.defineProperty,lQe=(e,t,n)=>t in e?aQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cQe=(e,t,n)=>(lQe(e,typeof t!="symbol"?t+"":t,n),n);class x0 extends h.Component{constructor(){super(...arguments),cQe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(sr,{children:n})}return this.props.children}}function Dwe(e){if(!y0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const GR=Symbol.for("@sanity/ui/context/layer");Qt[GR]=Qt[GR]||h.createContext(null);const KR=Qt[GR];function la(){const e=h.useContext(KR);if(!e)throw new Error("useLayer(): missing context value");try{return Dwe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function ZR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function uQe(e){let t=null;const n=ZR(()=>{t=ZR(e)});return()=>{t&&t(),n()}}function dQe(e){return jL(e)||TL(e)}function $c(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function jL(e){return $c(e)&&e.nodeName==="A"}function fQe(e){return $c(e)&&e.nodeName==="INPUT"}function TL(e){return $c(e)&&e.nodeName==="BUTTON"}function hQe(e){return $c(e)&&e.nodeName==="SELECT"}function pQe(e){return $c(e)&&e.nodeName==="TEXTAREA"}function XR(e,t){return e.contains(t)||e===t}function mQe(e){return!!document.activeElement&&e.contains(document.activeElement)}function gQe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:jL(e)?!!e.href&&e.rel!=="ignore":fQe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:TL(e)||hQe(e)||pQe(e)?!e.disabled:!1}function Iwe(e){if(!gQe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Lp(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if($c(n)&&(Iwe(n)||Lp(n)))return!0}return!1}function AL(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if($c(n)&&(Iwe(n)||AL(n)))return!0}return!1}function vQe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Bu(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(KR),i=o&&Dwe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=Ce(r),d=u.length-1,f=Math.min(pm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const k=(S=_[w])!=null?S:0,j={..._,[w]:k+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:c,registerChild:x,size:v,zIndex:p}),[y,c,x,v,p]);return l.jsx(KR.Provider,{value:b,children:n})}const yQe=O.div({position:"relative"}),bQe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=vf,...a}=t,{zIndex:c,isTopLayer:u}=la(),d=h.useRef(null),f=ur(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||$c(y)&&XR(g,y)&&(d.current=y)},[f,u,i]);return l.jsx(yQe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),es=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Bu,{zOffset:o,children:l.jsx(bQe,{...i,ref:n,children:r})})}),QR=Symbol.for("@sanity/ui/context/portal"),Ih=Symbol.for("@sanity/ui/context/portal/element");Qt[Ih]=null;const xQe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Ih]||(Qt[Ih]=document.createElement("div"),Qt[Ih].setAttribute("data-portal",""),document.body.appendChild(Qt[Ih])),Qt[Ih])}};Qt[QR]=Qt[QR]||h.createContext(xQe);const Pwe=Qt[QR];function gm(){const e=h.useContext(Pwe);if(!e)throw new Error("usePortal(): missing context value");if(!y0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function vm(e){var t;const{children:n,__unstable_name:r}=e,o=gm(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?fc.createPortal(n,i):null}function wQe(e){const t=h.useRef(e);return CQe(t.current,e)||(t.current=e),t.current}function CQe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const _Qe=typeof document<"u";function ym(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=wQe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||_Qe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(Pwe.Provider,{value:s,children:n})}var HW=Object.freeze,SQe=Object.defineProperty,kQe=(e,t)=>HW(SQe(e,"raw",{value:HW(t||e.slice())})),UW;const EQe=O.div(UW||(UW=kQe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(EQe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var WW=Object.freeze,jQe=Object.defineProperty,Owe=(e,t)=>WW(jQe(e,"raw",{value:WW(t||e.slice())})),YW,qW;const TQe=O.div(YW||(YW=Owe([`
  position: relative;
`]))),GW=O.div(qW||(qW=Owe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=js().sanity,f=ur(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const E=p.current.firstChild;E instanceof HTMLElement&&b(E.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let E=f.current.parentNode;for(;E&&!vQe(E);)E=E.parentNode;if(E){const D=E;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new mwe($=>{y($[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const k=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(GW,{children:c(s[0])},0)]:s.slice(_,S).map((E,T)=>{const A=_+T,D=c(E),I=i?i(E,A):A;return l.jsx(GW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(TQe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:k})})});const AQe=4,ag=4,ic=27,DQe=11,Rwe=[0,0,0,0],IQe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function PQe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Eb(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function OQe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function RQe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-ag*2)}var KW=Object.freeze,$Qe=Object.defineProperty,DL=(e,t)=>KW($Qe(e,"raw",{value:KW(t||e.slice())})),ZW,XW,QW;const MQe=O.div(ZW||(ZW=DL([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),ic,ic,ic/2,ic/2,ic,ic,ic,ic),FQe=O.path(XW||(XW=DL([`
  fill: var(--card-shadow-outline-color);
`]))),LQe=O.path(QW||(QW=DL([`
  fill: var(--card-bg-color);
`]))),BQe=h.forwardRef(function(t,n){return l.jsx(MQe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:ic,height:DQe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(FQe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(LQe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),NQe=O(ee)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),$we=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=la(),k=h.useMemo(()=>r||Rwe,[r]),j=(w??0)+k[3],E=(C??0)+k[0],T=h.useMemo(()=>({position:g,top:E,left:j,width:b,zIndex:S,...y}),[g,y,b,j,E,S]),A=d&&lwe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-ic),I},[s,a,A]);return l.jsxs(NQe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(Y,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(Y,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(BQe,{ref:i,style:D})]})}));$we.displayName="PopoverCard";const en=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=js(),m=mm(),{__unstable_margins:v=Rwe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:IQe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:k=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:E="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:V,shadow:N=3,tone:H="inherit",width:G="auto",zOffset:U=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:q,...Z}=t,B=(c=_j(y))==null?void 0:c.border,W=Ce(T),z=Ce(P),X=Ce(N),Q=Ce(G),ne=Ce(U),K=ur(n),J=h.useRef(null),oe="viewport",fe=pm(),ae=b||I?B==null?void 0:B.width:void 0,ge=OQe({mediaIndex:fe,theme:p,width:Q}),xe=h.useRef(ge);h.useEffect(()=>{xe.current=ge},[ge]);const ce=RQe({boundaryWidth:ae,currentWidth:ge}),ve=h.useRef(ce);h.useEffect(()=>{ve.current=ce},[ce]);const $e=h.useRef();h.useEffect(()=>{const Yt=K.current;if(!j||!Yt)return;const Jr=$e.current;S?Jr!==void 0&&(Yt.style.width="".concat(Jr,"px")):ge!==void 0&&(Yt.style.width="".concat(ge,"px")),typeof ce=="number"&&(Yt.style.maxWidth="".concat(ce,"px"))},[ge,K,S,ce,j]);const Ae=h.useMemo(()=>{const Yt=[];return(b||I)&&Yt.push(S1e({boundary:k||void 0,fallbackPlacements:_,padding:ag,rootBoundary:oe})),Yt.push(k1e({mainAxis:g?AQe:0})),(b||S)&&Yt.push(PQe({apply(Jr){let{availableWidth:tl,availableHeight:nl,elements:As,referenceWidth:Ln}=Jr;$e.current=Ln;const Nn=xe.current,Wr=ve.current;S?As.floating.style.width="".concat(Ln,"px"):Nn!==void 0&&(As.floating.style.width="".concat(Nn,"px")),b&&(As.floating.style.maxWidth="".concat(Math.min(tl,Wr??1/0),"px"),As.floating.style.maxHeight="".concat(nl,"px"))},boundaryElement:k||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:ag})),I&&Yt.push(E1e({boundary:k||void 0,rootBoundary:oe,padding:ag})),g&&Yt.push(Lbe({element:J,padding:ag})),Yt.push(Bze({boundary:$||void 0,padding:ag,strategy:"referenceHidden"})),Yt},[g,b,_,k,v,S,I,$]),{x:st,y:et,middlewareData:lt,placement:Oe,refs:we,strategy:We,update:ze}=Nbe({middleware:Ae,placement:A,whileElementsMounted:R1e}),Ze=(u=lt.hide)==null?void 0:u.referenceHidden,Ct=(d=lt.arrow)==null?void 0:d.x,Ee=(f=lt.arrow)==null?void 0:f.y,Be=h.useCallback(Yt=>{J.current=Yt},[]),dt=h.useCallback(Yt=>{K.current=Yt,we.setFloating(Yt)},[K,we]),li=h.useCallback(Yt=>{we.setReference(Yt);const Jr=x==null?void 0:x.ref;typeof Jr=="function"?Jr(Yt):Jr&&(Jr.current=Yt)},[x,we]),rn=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:li}),[x,R,li]);if(h.useEffect(()=>{q&&(typeof q=="function"?q(ze):q&&(q.current=ze))},[ze,q]),h.useEffect(()=>{we.setReference(R||null)},[R,we]),C)return x||l.jsx(l.Fragment,{});const Uo=l.jsx(Bu,{zOffset:ne,children:l.jsx($we,{...Z,__unstable_margins:v,arrow:g,arrowRef:Be,arrowX:Ct,arrowY:Ee,hidden:Ze,overflow:E,padding:W,placement:Oe,radius:z,ref:dt,scheme:V,shadow:X,strategy:We,tone:H,width:S?$e.current:ge,x:st,y:et,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(vm,{__unstable_name:typeof D=="string"?D:void 0,children:Uo}):Uo}),rn]})}));en.displayName="Popover";var JW=Object.freeze,zQe=Object.defineProperty,Mwe=(e,t)=>JW(zQe(e,"raw",{value:JW(t||e.slice())})),eY,tY;function VQe(){return he(eY||(eY=Mwe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function HQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return he(tY||(tY=Mwe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ye(r.radio.size/2),ye(r.radio.size),ye(r.radio.size),ye(r.radio.size/2),o.default.enabled.bg,_o({color:o.default.enabled.border,width:r.border.width}),ye(i),ye(i),ye(r.radio.markSize),ye(r.radio.markSize),ye(r.radio.markSize/2),o.default.enabled.fg,Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),_o({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const UQe=O.div(VQe),WQe=O.input(HQe),YQe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=ur(n);return xw(u,s),l.jsxs(UQe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(WQe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var nY=Object.freeze,qQe=Object.defineProperty,Ej=(e,t)=>nY(qQe(e,"raw",{value:nY(t||e.slice())})),rY,oY,iY,sY;function GQe(){return he(rY||(rY=Ej([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function KQe(e){const{theme:t}=e,n=t.sanity.fonts.text;return he(oY||(oY=Ej([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function ZQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return he(iY||(iY=Ej([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,_o({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,_o({color:o.default.hovered.border,width:r.border.width}),Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,_o({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,_o({color:o.default.disabled.border,width:r.border.width}))}function XQe(e){return{fontSize:ye(e.fontSize),lineHeight:ye(e.lineHeight)}}function QQe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return vt(t.sanity.media,n,o=>XQe(r[o]||r[2]))}function JQe(){return[od,KQe,ZQe,QQe,CZe]}function eJe(e){const{theme:t}=e,n=t.sanity.color.input;return he(sY||(sY=Ej([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const IL={root:GQe,input:JQe,iconBox:eJe},tJe=O.div(IL.root),nJe=O.select(IL.input),rJe=O(M)(IL.iconBox),$f=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=ur(n);return xw(p,o),l.jsxs(tJe,{"data-ui":"Select",children:[l.jsx(nJe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:Ce(s),$padding:Ce(a),$radius:Ce(c),$space:Ce(d),disabled:i||u,ref:p,children:r}),l.jsx(rJe,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(Ll,{})})})]})}),oJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function iJe(){return oJe}function sJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$space,o=>({gridGap:ye(r[o])}))}const aJe=O(M)(iJe,sJe),re=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(aJe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:Ce(o),forwardedAs:r,ref:n})});var aY=Object.freeze,lJe=Object.defineProperty,vp=(e,t)=>aY(lJe(e,"raw",{value:aY(t||e.slice())})),lY,cY,uY,dY,fY,hY,pY;function cJe(){return he(lY||(lY=vp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function uJe(){return he(cY||(cY=vp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function dJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return he(uY||(uY=vp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ye(r.switch.width),ye(r.switch.height),ye(r.switch.height/2),Ac({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function fJe(e){const{theme:t}=e,{input:n}=t.sanity;return he(dY||(dY=vp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ye(n.switch.width),ye(n.switch.height),ye(n.switch.height/2))}function hJe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return he(pY||(pY=vp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ye(s),ye(s),ye(a),ye(a),ye(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&he(fY||(fY=vp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&he(hY||(hY=vp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const pJe=O.span(cJe),mJe=O.input(uJe),gJe=O.span(dJe),vJe=O.span(fJe),yJe=O.span(hJe),Fwe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=ur(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(pJe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(mJe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(gJe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(vJe,{}),l.jsx(yJe,{$checked:r,$indeterminate:s})]})]})});var mY=Object.freeze,bJe=Object.defineProperty,xJe=(e,t)=>mY(bJe(e,"raw",{value:mY(t||e.slice())})),gY;const wJe=O.span(xwe),CJe=O.span(gY||(gY=xJe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),_Je=O.textarea(SL,wwe,Cwe),SJe=O.div(od,_we),Lwe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=ur(n),p=b0();return xw(f,o),l.jsx(wJe,{"data-ui":"TextArea",children:l.jsxs(CJe,{children:[l.jsx(_Je,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:Ce(s),$padding:Ce(a),$scheme:p.scheme,$space:Ce(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(SJe,{$radius:Ce(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var vY=Object.freeze,kJe=Object.defineProperty,w0=(e,t)=>vY(kJe(e,"raw",{value:vY(t||e.slice())})),yY,bY,xY,wY,CY,_Y;const EJe={zIndex:2},jJe=O(ee).attrs({forwardedAs:"span"})(xwe),TJe=O.span(yY||(yY=w0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),AJe=O(ee).attrs({forwardedAs:"span"})(bY||(bY=w0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),DJe=O(ee).attrs({forwardedAs:"span"})(xY||(xY=w0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),IJe=O.input(SL,wwe,Cwe),PJe=O.span(od,_we),OJe=O(M)(wY||(wY=w0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),RJe=O(M)(CY||(CY=w0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),$Je=O(ee)(_Y||(_Y=w0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),MJe=O(se)({"&:not([hidden])":{display:"block"}}),Rr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=ur(n),_=b0(),S=Ce(s),k=Ce(d),j=Ce(p),E=Ce(v),T=!!o,A=!!a,D=!!c,I=!!g,P=!!f;xw(C,y);const $=h.useCallback(B=>{B.preventDefault(),B.stopPropagation()},[]),R=h.useCallback(B=>{var W;B.preventDefault(),B.stopPropagation(),u&&u(),(W=C.current)==null||W.focus()},[u,C]),V=h.useMemo(()=>f&&l.jsx(AJe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),N=h.useMemo(()=>l.jsxs(PJe,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(OJe,{padding:k,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,ki.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(RJe,{padding:k,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,ki.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,k,j,_,T,P,I]),H=h.useMemo(()=>k.map(B=>B===0?0:B===1||B===2?1:B-2),[k]),G=h.useMemo(()=>k.map(B=>B===0||B===1?0:B===2?1:B-1),[k]),U=h.useMemo(()=>typeof o=="object"?o:vf,[o]),q=h.useMemo(()=>!i&&!m&&o&&l.jsx($Je,{forwardedAs:"span",padding:H,style:EJe,tone:y?"critical":"inherit",children:l.jsx(MJe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ei,mode:"bleed",padding:G,radius:j,...U,onClick:R,onMouseDown:$})}),[o,H,G,U,y,i,S,R,$,j,m]),Z=h.useMemo(()=>g&&l.jsx(DJe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(jJe,{"data-ui":"TextInput",tone:_.tone,children:[V,l.jsxs(TJe,{children:[l.jsx(IJe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:k,$scheme:_.scheme,$space:E,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),N,q]}),Z]})});function JR(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const wI=4,FJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var SY=Object.freeze,LJe=Object.defineProperty,PL=(e,t)=>SY(LJe(e,"raw",{value:SY(t||e.slice())})),kY,EY,jY;const BJe=O.div(kY||(kY=PL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),NJe=O.path(EY||(EY=PL([`
  fill: var(--card-shadow-outline-color);
`]))),zJe=O.path(jY||(jY=PL([`
  fill: var(--card-bg-color);
`]))),VJe=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(BJe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(NJe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(zJe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),e$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[e$]=Qt[e$]||h.createContext(null);const Bwe=Qt[e$];function Nwe(){return h.useContext(Bwe)}function zwe(e){const{children:t,delay:n}=e,[r,o]=JR(!1),[i,s]=JR(null);if(Nwe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(Bwe.Provider,{value:d,children:t})}var TY=Object.freeze,HJe=Object.defineProperty,UJe=(e,t)=>TY(HJe(e,"raw",{value:TY(t||e.slice())})),AY;const WJe=O(es)(AY||(AY=UJe([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),at=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=mm(),d=js(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:FJe[(r=t.placement)!=null?r:"bottom"],padding:y,placement:x="bottom",portal:b,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...k}=t,j=Ce(g),E=ur(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",P=gm(),$=typeof b=="string"?((s=P.elements)==null?void 0:s[b])||null:P.element,R=h.useMemo(()=>{const Ee=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...Ee)-wI*2},[f,$==null?void 0:$.offsetWidth]),V=h.useMemo(()=>{const Ee=[];return Ee.push(S1e({boundary:f||void 0,fallbackPlacements:j,padding:wI,rootBoundary:I})),Ee.push(k1e({mainAxis:3})),Ee.push(E1e({boundary:f||void 0,rootBoundary:I,padding:wI})),Ee.push(Lbe({element:D,padding:2})),Ee},[f,j]),{floatingStyles:N,placement:H,middlewareData:G,refs:U,update:q}=Nbe({middleware:V,placement:x,whileElementsMounted:R1e}),Z=H&&lwe[H.split("-")[0]],B=(a=G.arrow)==null?void 0:a.x,W=(c=G.arrow)==null?void 0:c.y,z=h.useMemo(()=>{const Ee={left:B!==null?B:void 0,top:W!==null?W:void 0,right:void 0,bottom:void 0};return Z&&(Ee[Z]=-15),Ee},[B,W,Z]),X=h.useId(),[Q,ne]=JR(!1),K=Nwe(),J=Q||(K==null?void 0:K.openTooltipId)===X,oe=K!==null,fe=typeof S=="number"?S:(S==null?void 0:S.open)||0,ae=typeof S=="number"?S:(S==null?void 0:S.close)||0,ge=oe?K.openDelay:fe,xe=oe?K.closeDelay:ae,ce=h.useCallback((Ee,Be)=>{if(oe)if(Ee){const dt=Be?0:ge;K.setIsGroupActive(Ee,dt),K.setOpenTooltipId(X,dt)}else{const li=xe>200?xe:200;K.setIsGroupActive(Ee,li),K.setOpenTooltipId(null,Be?0:xe)}else ne(Ee,Be?0:Ee?ge:xe)},[oe,K,ge,X,xe,ne]),ve=h.useCallback(Ee=>{var Be,dt;ce(!1),(dt=(Be=p==null?void 0:p.props)==null?void 0:Be.onBlur)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]),$e=h.useCallback(Ee=>{var Be,dt;ce(!1,!0),(dt=p==null?void 0:(Be=p.props).onClick)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]),Ae=h.useCallback(Ee=>{var Be,dt;ce(!1,!0),(dt=p==null?void 0:(Be=p.props).onContextMenu)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]),st=h.useCallback(Ee=>{var Be,dt;ce(!0),(dt=(Be=p==null?void 0:p.props)==null?void 0:Be.onFocus)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]),et=h.useCallback(Ee=>{var Be,dt;ce(!0),(dt=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseEnter)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]),lt=h.useCallback(Ee=>{var Be,dt;ce(!1),(dt=(Be=p==null?void 0:p.props)==null?void 0:Be.onMouseLeave)==null||dt.call(Be,Ee)},[p==null?void 0:p.props,ce]);h.useEffect(()=>{if(!Q)return;function Ee(Be){if(!T)return;T===Be.target||Be.target instanceof Node&&T.contains(Be.target)||(ce(!1),window.removeEventListener("mousemove",Ee))}return window.addEventListener("mousemove",Ee),()=>{window.removeEventListener("mousemove",Ee)}},[Q,T,ce]),h.useEffect(()=>{v&&ce(!1)},[v,ce]),h.useEffect(()=>{m||ce(!1)},[m,ce]),h.useEffect(()=>U.setReference(T),[T,U]),h.useEffect(()=>{if(!J)return;function Ee(Be){Be.key==="Escape"&&ce(!1,!0)}return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[ce,J]);const Oe=h.useCallback(Ee=>{D.current=Ee,q()},[q]),we=h.useCallback(Ee=>{E.current=Ee,U.setFloating(Ee)},[E,U]),We=p==null?void 0:p.ref,ze=h.useCallback(Ee=>{typeof We=="function"?We(Ee):We&&(We.current=Ee),A(Ee)},[We]),Ze=h.useMemo(()=>p?h.cloneElement(p,{onBlur:ve,onFocus:st,onMouseEnter:et,onMouseLeave:lt,onClick:$e,onContextMenu:Ae,ref:ze}):null,[p,ve,$e,Ae,st,et,lt,ze]);if(!Ze)return l.jsx(l.Fragment,{});if(v)return Ze;const Ct=l.jsx(WJe,{"data-ui":"Tooltip",...k,ref:we,style:N,zOffset:_,$maxWidth:R,children:l.jsxs(ee,{"data-ui":"Tooltip__card","data-placement":H,padding:y,radius:2,scheme:w,shadow:C,children:[m,l.jsx(VJe,{ref:Oe,style:z})]})});return l.jsxs(l.Fragment,{children:[Ze,J&&l.jsx(l.Fragment,{children:b?l.jsx(vm,{__unstable_name:typeof b=="string"?b:void 0,children:Ct}):Ct})]})});var DY=Object.freeze,YJe=Object.defineProperty,jj=(e,t)=>DY(YJe(e,"raw",{value:DY(t||e.slice())})),IY,PY,OY,RY;const qJe=O.div(IY||(IY=jj([`
  line-height: 0;
`]))),GJe=O(M)(PY||(PY=jj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),KJe=am(OY||(OY=jj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),ZJe=O(rw)(RY||(RY=jj([`
  animation: `,` 500ms linear infinite;
`])),KJe);function XJe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!dQe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function QJe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const JJe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],eet="bottom-start",tet=["bottom-start","top-start"],net=(e,t)=>t?t.value:e,ret=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,oet=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=vf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=vf,prefix:_,radius:S=3,readOnly:k,relatedElements:j,renderOption:E,renderPopover:T,renderValue:A=net,suffix:D,value:I,...P}=t,[$,R]=h.useReducer(QJe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:N,listFocused:H,query:G,value:U}=$,q=h.useCallback(Ge=>{let{value:_t}=Ge;return l.jsx(ee,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:_t})})},[a,w]),Z=typeof E=="function"?E:q,B=typeof s=="function"?s:ret,W=h.useRef(null),z=h.useRef(null),X=h.useRef(null),Q=h.useRef(null),ne=h.useRef(!1),K=h.useRef(U),J=h.useRef(I),oe=h.useRef(!1),fe=ur(n),ae="".concat(u,"-listbox"),ge=Array.isArray(b)?b:bw,xe=Ce(w),ce=h.useMemo(()=>U!==null?ge.find(Ge=>Ge.value===U):void 0,[ge,U]),ve=h.useMemo(()=>ge.filter(Ge=>G?B(G,Ge):!0),[B,ge,G]),$e=ve.length,Ae=V?"".concat(u,"-option-").concat(V):void 0,st=G!==null&&f||N&&G!==null,et=h.useCallback(Ge=>{setTimeout(()=>{if(oe.current)return;const _t=(j||[]).concat(W.current?[W.current]:[],z.current?[z.current]:[]);let Jn=!1;if(document.activeElement){for(const Bn of _t)if(Bn===document.activeElement||Bn.contains(document.activeElement)){Jn=!0;break}}Jn===!1&&(R({type:"root/blur"}),oe.current=!1,g&&g(null),p&&p(Ge))},0)},[p,g,j]),lt=h.useCallback(Ge=>{const _t=Q.current,Jn=Ge.target instanceof HTMLElement?Ge.target:null,Bn=(_t==null?void 0:_t.contains(Jn))||!1;Bn!==ne.current&&(ne.current=Bn,R({type:"root/setListFocused",listFocused:Bn}))},[]),Oe=h.useCallback(Ge=>{var _t;R({type:"value/change",value:Ge}),oe.current=!1,y&&y(Ge),K.current=Ge,m&&m(Ge),g&&g(null),(_t=X.current)==null||_t.focus()},[m,y,g]),we=h.useCallback(Ge=>{var _t,Jn;if(Ge.key==="ArrowDown"){if(Ge.preventDefault(),!$e)return;const Sr=ve.find(fa=>fa.value===V),To=Sr?ve.indexOf(Sr):-1,Ds=ve[(To+1)%$e];Ds&&R({type:"root/setActiveValue",value:Ds.value,listFocused:!0});return}if(Ge.key==="ArrowUp"){if(Ge.preventDefault(),!$e)return;const Sr=ve.find(fa=>fa.value===V),To=Sr?ve.indexOf(Sr):-1,Ds=ve[To===-1?$e-1:($e+To-1)%$e];Ds&&R({type:"root/setActiveValue",value:Ds.value,listFocused:!0});return}if(Ge.key==="Escape"){R({type:"root/escape"}),oe.current=!1,g&&g(null),(_t=X.current)==null||_t.focus();return}const Bn=Ge.target,da=Q.current;if((da===Bn||da!=null&&da.contains(Bn))&&!JJe.includes(Ge.key)){(Jn=X.current)==null||Jn.focus();return}},[V,ve,$e,g]),We=h.useCallback(Ge=>{const _t=Ge.currentTarget.value;R({type:"input/change",query:_t}),g&&g(_t)},[g]),ze=h.useCallback(Ge=>{N||(R({type:"input/focus"}),v&&v(Ge))},[N,v]),Ze=h.useCallback(()=>{oe.current=!0},[]),Ct=h.useCallback(()=>{oe.current=!1},[]),Ee=h.useCallback(()=>{var Ge;R({type:"root/clear"}),K.current="",m&&m(""),g&&g(null),(Ge=X.current)==null||Ge.focus()},[m,g]),Be=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==J.current){J.current=I,I!==void 0&&(R({type:"value/change",value:I}),K.current=I);return}I!==K.current&&(K.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!N&&K.current&&R({type:"root/setActiveValue",value:K.current})},[N]),h.useEffect(()=>{const Ge=Q.current;if(!Ge)return;const _t=ve.find(Jn=>Jn.value===V);if(_t){const Jn=ve.indexOf(_t),Bn=Ge.childNodes[Jn];if(Bn){if(mQe(Bn))return;Lp(Bn)}}},[V,ve]);const dt=h.useCallback(Ge=>{X.current=Ge,fe.current=Ge},[fe]),li=h.useMemo(()=>{if(!f&&!i&&U)return{"aria-label":"Clear",onFocus:Be}},[i,Be,f,U]),rn=h.useMemo(()=>xe.map(Ge=>Ge===0?0:Ge===1||Ge===2?1:Ge-2),[xe]),Uo=h.useMemo(()=>xe.map(Ge=>Math.max(Ge-1,0)),[xe]),Yt=h.useMemo(()=>typeof x=="object"?x:vf,[x]),Jr=h.useCallback(Ge=>{R({type:"root/open",query:U?A(U,ce):""}),Yt.onClick&&Yt.onClick(Ge),ZR(()=>{var _t;return(_t=X.current)==null?void 0:_t.focus()})},[ce,Yt,A,U]),tl=h.useMemo(()=>!i&&!k&&x?l.jsx(M,{"aria-hidden":st,padding:rn,children:l.jsx(se,{"aria-label":"Open",disabled:st,fontSize:a,icon:qa,mode:"bleed",padding:Uo,...Yt,onClick:Jr})}):void 0,[i,st,a,Jr,x,rn,Uo,Yt,k]),nl=h.useMemo(()=>G===null?U!==null?A(U,ce):"":G,[ce,G,A,U]),As=l.jsx(Rr,{...P,"aria-activedescendant":Ae,"aria-autocomplete":"list","aria-expanded":st,"aria-owns":ae,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:li,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&ZJe,id:u,inputMode:"search",onChange:We,onClear:Ee,onFocus:ze,padding:xe,prefix:_,radius:S,readOnly:k,ref:dt,role:"combobox",spellCheck:!1,suffix:D||tl,value:nl}),Ln=h.useCallback(Ge=>{var _t;Ge.key==="Tab"&&H&&((_t=X.current)==null||_t.focus())},[H]),Nn=h.useMemo(()=>ve.length===0?null:l.jsx(GJe,{"data-ui":"AutoComplete__results",onKeyDown:Ln,padding:1,...d,tabIndex:-1,children:l.jsx(re,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ae,ref:Q,role:"listbox",space:1,children:ve.map(Ge=>{const _t=V!==null?Ge.value===V:ce===Ge;return l.jsx(XJe,{id:"".concat(u,"-option-").concat(Ge.value),onSelect:Oe,selected:_t,value:Ge.value,children:h.cloneElement(Z(Ge),{disabled:f,selected:_t,tabIndex:H&&_t?0:-1})},Ge.value)})})}),[V,ce,ve,Oe,Ln,u,d,ae,H,f,Z]),Wr=h.useMemo(()=>T?T({content:Nn,hidden:!st,inputElement:X.current,onMouseEnter:Ze,onMouseLeave:Ct},z):$e===0?null:l.jsx(en,{arrow:!1,constrainSize:!0,content:Nn,fallbackPlacements:tet,matchReferenceWidth:!0,onMouseEnter:Ze,onMouseLeave:Ct,open:st,overflow:"auto",placement:eet,portal:!0,radius:S,ref:z,referenceElement:X.current,...C}),[Nn,st,$e,Ze,Ct,C,S,T]);return l.jsxs(qJe,{"data-ui":"Autocomplete",onBlur:et,onFocus:lt,onKeyDown:we,ref:W,children:[As,Wr]})}),OL=oet;var $Y=Object.freeze,iet=Object.defineProperty,Vwe=(e,t)=>$Y(iet(e,"raw",{value:$Y(t||e.slice())})),MY,FY;const set=O.ol(MY||(MY=Vwe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),aet=O(se)(FY||(FY=Vwe([`
  appearance: none;
  margin: -4px;
`]))),RL=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=Ce(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);cr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(en,{constrainSize:!0,content:l.jsx(re,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx(aet,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:""})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,c]);return l.jsx(set,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function cet(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function uet(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$position,r=>({"&&":{position:r}}))}const t$=Symbol.for("@sanity/ui/context/dialog");Qt[t$]=Qt[t$]||h.createContext({version:0});const Hwe=Qt[t$];function det(){return h.useContext(Hwe)}var LY=Object.freeze,fet=Object.defineProperty,C0=(e,t)=>LY(fet(e,"raw",{value:LY(t||e.slice())})),BY,NY,zY,VY,HY,UY;function n$(e,t,n){return!e||!t?!0:XR(e,n)||XR(t,n)}const het=O(es)(Swe,cet,uet),pet=O(Xr)(BY||(BY=C0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),met=O(ee)(NY||(NY=C0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),get=O(Y)(zY||(zY=C0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),vet=O(ee)(VY||(VY=C0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),yet=O(M)(HY||(HY=C0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),bet=O(M)(UY||(UY=C0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),xet=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=gm(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=mm().element,_=Ce(v),S=Ce(y),k=Ce(x),j=ur(n),[E,T]=h.useState(null),A=h.useRef(null),D=la(),{isTopLayer:I}=D,P="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&Lp(j.current)},[o,j]),Es(h.useCallback(H=>{if(!I||!p)return;const G=document.activeElement;G&&!n$(C,w,G)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),p())},[C,I,p,w])),cr(h.useCallback(H=>{if(!I||!f)return;const G=H.target;G&&!n$(C,w,G)||f()},[C,I,f,w]),[E]);const V=h.useCallback(H=>{T(H),j.current=H},[j]),N=h.useCallback(H=>{A.current=H,typeof a=="function"?a(H):a&&(a.current=H)},[a]);return l.jsx(pet,{"data-ui":"DialogCard",width:k,children:l.jsx(met,{radius:_,ref:V,scheme:g,shadow:S,children:l.jsxs(get,{direction:"column",children:[R&&l.jsx(vet,{children:l.jsxs(Y,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:P,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(se,{"aria-label":"Close dialog",disabled:!p,icon:Ei,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(yet,{flex:1,ref:N,tabIndex:-1,children:s}),c&&l.jsx(bet,{children:c})]})})})}),Pi=h.forwardRef(function(t,n){var r,o;const i=det(),s=js(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:k,width:j=0,zOffset:E=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=gm(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=mm().element,P=Ce(u),$=Ce(C),R=Ce(S),V=Ce(j),N=Ce(E),H=h.useRef(null),G=h.useRef(null),U=h.useRef(null),q=h.useRef(null),Z=h.useCallback(X=>{w==null||w(X);const Q=X.target,ne=U.current;if(ne&&Q===H.current){AL(ne);return}if(ne&&Q===G.current){Lp(ne);return}$c(X.target)&&(q.current=X.target)},[w]),B="".concat(g,"_label"),W=h.useRef(),z=h.useCallback(()=>{W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{const X=document.activeElement;if(X&&!n$(I,D,X)){const Q=q.current;if(!Q||!document.body.contains(Q)){const ne=U.current;ne&&Lp(ne);return}Q.focus()}},0)},[I,D]);return l.jsx(vm,{__unstable_name:_,children:l.jsxs(het,{...T,$padding:$,$position:R,"aria-labelledby":B,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:z,onFocus:Z,ref:n,role:"dialog",zOffset:N,children:[l.jsx("div",{ref:H,tabIndex:0}),l.jsx(xet,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:P,ref:U,scheme:k,shadow:d,width:V,children:f}),l.jsx("div",{ref:G,tabIndex:0})]})})});function r$(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(Hwe.Provider,{value:o,children:t})}var WY=Object.freeze,wet=Object.defineProperty,Uwe=(e,t)=>WY(wet(e,"raw",{value:WY(t||e.slice())})),YY,qY;const Cet=O.kbd(YY||(YY=Uwe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),_et=O(YR)(qY||(qY=Uwe([`
  &:not([hidden]) {
    display: block;
  }
`]))),$L=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=Ce(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(Cet,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Gt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(_et,{fontSize:r,padding:i,radius:s,children:d},f))})})}),o$=Symbol.for("@sanity/ui/context/menu");Qt[o$]=Qt[o$]||h.createContext(null);const Wwe=Qt[o$];function ket(e){return jL(e)&&e.getAttribute("data-disabled")!=="true"||TL(e)&&!e.disabled}function Wm(e){return e.filter(ket)}function Eet(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const GY=[];function jet(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,Eet(e,o));const r=(o,i)=>{const s=n.get(o)||GY,a=n.get(i)||GY,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function Tet(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),jet(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Wm(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],k=o.current.indexOf(S);p(k);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],k=o.current.indexOf(S);p(k);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=Wm(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Wm(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var KY=Object.freeze,Aet=Object.defineProperty,Det=(e,t)=>KY(Aet(e,"raw",{value:KY(t||e.slice())})),ZY;const Iet=O(M)(ZY||(ZY=Det([`
  outline: none;
  overflow: auto;
`]))),Bt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=ur(n),{isTopLayer:b}=la(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:k,mount:j,rootElement:E,setRootElement:T}=Tet({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),cr(h.useCallback(I=>b&&s&&s(I),[b,s]),[E]),Es(h.useCallback(I=>{b&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!E||!m))return m(E)},[m,E]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(Wwe.Provider,{value:D,children:l.jsx(Iet,{"data-ui":"Menu",...y,onKeyDown:k,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(re,{space:g,children:r})})})}),tn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,k]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{c&&!y&&j.current&&c()},[c,y]),h.useEffect(()=>{j.current=y},[y]);const E=h.useCallback(()=>{x(U=>!U),w(null)},[]),T=h.useCallback(U=>{if(U.key==="ArrowDown"||U.key==="Enter"||U.key===" "){U.preventDefault(),x(!0),w("first");return}if(U.key==="ArrowUp"){U.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(U=>{const q=U.target;if(q instanceof Node&&!(C&&(q===C||C.contains(q)))){for(const Z of S)if(q===Z||Z.contains(q))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(U=>{const q=U.relatedTarget;if(q instanceof Node){for(const Z of S)if(Z===q||Z.contains(q))return;x(!1)}},[S]),P=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(U=>(k(q=>q.concat([U])),()=>{k(q=>q.filter(Z=>Z!==U))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:C,registerElement:$,shouldFocus:b}),[C,A,D,P,s,I,$,b]),V=ki.isElement(a)?h.cloneElement(a,R):null,N=h.useCallback(U=>{typeof n=="function"?n(U):n&&(n.current=U),_(U)},[n]),H=h.useMemo(()=>ki.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:E,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:N,selected:y}):null,[i,E,T,s,y,N]),G=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(en,{"data-ui":"MenuButton__popover",...G,content:V,open:y,children:H||l.jsx(l.Fragment,{})})});var XY=Object.freeze,Pet=Object.defineProperty,Oet=(e,t)=>XY(Pet(e,"raw",{value:XY(t||e.slice())})),QY;const Dr=O.hr(QY||(QY=Oet([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var JY=Object.freeze,Ret=Object.defineProperty,Ywe=(e,t)=>JY(Ret(e,"raw",{value:JY(t||e.slice())})),eq,tq;function $et(){return he(eq||(eq=Ywe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function Met(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return he(tq||(tq=Ywe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),zt(i,c.enabled),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const qwe=O(M)(od,$et,Met);function Gwe(){const e=h.useContext(Wwe);if(!e)throw new Error("useMenu(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function ML(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=Gwe(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[k,j]=h.useState(!1),E=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(G=>{D(!1),w(G),j(!0)},[w]),P=h.useCallback(G=>{G.key==="ArrowLeft"&&(G.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(G=>{i&&i(G),E.current="first",j(!0),requestAnimationFrame(()=>{E.current=null})},[i]),R=h.useCallback(()=>{j(!1),b&&b()},[b]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{k||D(!1)},[k]);const N=l.jsx(Bt,{onClickOutside:y,onEscape:x,onItemClick:R,onKeyDown:P,onMouseEnter:V,registerElement:C,shouldFocus:E.current,children:n}),H=h.useCallback(G=>{const U=G.currentTarget;if(document.activeElement===U&&G.key==="ArrowRight"){E.current="first",j(!0),D(!0),requestAnimationFrame(()=>{E.current=null});return}},[]);return l.jsx(en,{...a,content:N,"data-ui":"MenuGroup__popover",open:k,children:l.jsx(qwe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:Ce(c),$tone:f,onClick:$,onKeyDown:H,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(Y,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,ki.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Oc,{})})})]})})})})}const Ve=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:k="default",...j}=t,E=Gwe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=E.onMouseEnter,onItemMouseLeave:P=E.onMouseLeave}=E,[$,R]=h.useState(null),V=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const N=ur(n),H=h.useCallback(q=>{i||(d&&d(q),D&&D())},[i,d,D]),G=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),U=h.useCallback(q=>{N.current=q,R(q)},[N]);return l.jsxs(qwe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:Ce(w),$padding:Ce(0),$tone:k,disabled:i,onClick:H,onMouseEnter:I,onMouseLeave:P,ref:U,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...G,children:l.jsxs(Y,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,ki.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx($L,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,ki.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...G,children:o})]})});var nq=Object.freeze,Fet=Object.defineProperty,Tk=(e,t)=>nq(Fet(e,"raw",{value:nq(t||e.slice())})),rq,oq,iq,sq;const Let=am(rq||(rq=Tk([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),Bet=he(oq||(oq=Tk([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),Let),Net=he(sq||(sq=Tk([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?Bet:he(iq||(iq=Tk([`
            background-color: var(--card-skeleton-color-from);
          `])))}),zet=O(M)(od,Net),_0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(zet,{...s,$animated:r,$radius:Ce(i),$visible:a,ref:n})}),Tj=O(_0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return vt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Ti=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Tj,{...o,$size:i,ref:n,$style:"text"})}),Ak=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Tj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Tj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Tj,{...o,$size:i,ref:n,$style:"code"})});var aq=Object.freeze,Vet=Object.defineProperty,Het=(e,t)=>aq(Vet(e,"raw",{value:aq(t||e.slice())})),lq;const Uet=O(se)(lq||(lq=Het([`
  max-width: 100%;
`]))),Zb=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=ur(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return l.jsx(Uet,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var cq=Object.freeze,Wet=Object.defineProperty,Yet=(e,t)=>cq(Wet(e,"raw",{value:cq(t||e.slice())})),uq;function qet(e){return!!e}const Get=O(Gt)(uq||(uq=Yet([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),Aj=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(qet),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(Get,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),Kwe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var dq=Object.freeze,Ket=Object.defineProperty,Zwe=(e,t)=>dq(Ket(e,"raw",{value:dq(t||e.slice())})),fq,hq;const Zet={error:"critical",warning:"caution",success:"positive",info:"primary"},Xet={error:"alert",warning:"alert",success:"alert",info:"alert"},Qet=O(ee)(fq||(fq=Zwe([`
  pointer-events: all;
`]))),Jet=O(Y)(hq||(hq=Zwe([`
  overflow-x: auto;
`])));function ett(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Zet[i]:"default",c=i?Xet[i]:"status";return l.jsx(Qet,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(Jet,{flex:1,padding:3,children:l.jsxs(re,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(se,{as:"button",icon:Ei,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function ttt(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const i$=Symbol.for("@sanity/ui/context/toast");Qt[i$]=Qt[i$]||h.createContext(null);const Xwe=Qt[i$];var pq=Object.freeze,ntt=Object.defineProperty,Qwe=(e,t)=>pq(ntt(e,"raw",{value:pq(t||e.slice())})),mq,gq;const rtt=O(es)(mq||(mq=Qwe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),ott=O.div(gq||(gq=Qwe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let itt=0;function FL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(itt++),g=p.duration||5e3,y=()=>{var x;const b=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete c.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=ttt();return l.jsxs(Xwe.Provider,{value:d,children:[t,f&&l.jsx(rtt,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(ott,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(wL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(rd.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(ett,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Vo(){const e=h.useContext(Xwe);if(!e)throw new Error("useToast(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function stt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function att(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function vq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const s$=Symbol.for("@sanity/ui/context/tree");Qt[s$]=Qt[s$]||h.createContext(null);const Dk=Qt[s$],Jwe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=ur(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,k,j,E)=>(g(T=>({...T,[k]:{element:S,expanded:j}})),E&&u(S),()=>{g(T=>{const A={...T};return delete A[k],A})}),[]),b=h.useCallback((S,k)=>{g(j=>{const E=j[S];return E?{...j,[S]:{...E,expanded:k}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[c,p,f,x,b,o,v]),C=h.useCallback(S=>{var k;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=att(y.current,p,d.current);j&&(vq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=stt(y.current,p,d.current);j&&(vq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const E=y.current[j];if(!E)return;if(E.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(k=y.current[j])!=null&&k.expanded||g(E=>{const T=E[j];return T?{...E,[j]:{...T,expanded:!0}}:E});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(Dk.Provider,{value:w,children:l.jsx(re,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));Jwe.displayName="Tree";var yq=Object.freeze,ltt=Object.defineProperty,LL=(e,t)=>yq(ltt(e,"raw",{value:yq(t||e.slice())})),bq,xq,wq;function ctt(){return he(bq||(bq=LL([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function utt(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return he(xq||(xq=LL([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected))}function dtt(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return he(wq||(wq=LL([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ye(r[2]*t))}function eCe(){const e=h.useContext(Dk);if(!e)throw new Error("Tree: missing context value");return e}const Cq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=eCe();return l.jsx(re,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var _q=Object.freeze,ftt=Object.defineProperty,htt=(e,t)=>_q(ftt(e,"raw",{value:_q(t||e.slice())})),Sq;const kq=h.memo(O.li(ctt,utt)),Eq=O(M).attrs({forwardedAs:"a"})(dtt),ptt=O(L)(Sq||(Sq=htt([`
  & > svg {
    transition: transform 100ms;
  }
`]))),Xb=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=eCe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:k}=w,j=h.useId(),E=a||j,T=h.useMemo(()=>C.concat([E||""]),[E,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(G=>{d&&d(G);const U=G.target;U instanceof HTMLElement&&(U.getAttribute("data-ui")==="TreeItem"||U.closest('[data-ui="TreeItem__box"]'))&&(G.stopPropagation(),S(A,!P),k(x.current))},[P,A,d,S,k]),N=h.useCallback(G=>{if(I&&G.key==="Enter"){const U=b.current||x.current;U==null||U.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),P,p)},[P,T,_,p]);const H=l.jsxs(Y,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(ptt,{muted:u,size:o,weight:g,children:l.jsx(Y5,{style:{transform:P?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(kq,{"data-selected":p?"":void 0,"data-tree-id":E,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:V,ref:x,role:"none",children:[l.jsx(Eq,{$level:w.level,"aria-expanded":P,as:c,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:$,children:H}),l.jsx(Dk.Provider,{value:R,children:n&&l.jsx(Cq,{hidden:!P,children:n})})]}):l.jsxs(kq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":E,"data-tree-key":A,...y,"aria-expanded":P,onClick:V,onKeyDown:N,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(Eq,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),l.jsx(Dk.Provider,{value:R,children:n&&l.jsx(Cq,{expanded:P,children:n})})]})});var a$=function(e,t){return a$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},a$(e,t)};function ca(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function mtt(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function tCe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Bp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function za(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Tl(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ev(e){return this instanceof ev?(this.v=e,this):new ev(e)}function gtt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof ev?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function vtt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Bp=="function"?Bp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Lt(e){return typeof e=="function"}function BL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var CI=BL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ik(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Np=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Bp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Lt(d))try{d()}catch(g){i=g instanceof CI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Bp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{jq(v)}catch(g){i=i??[],g instanceof CI?i=Tl(Tl([],za(i)),za(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new CI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)jq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ik(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ik(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),nCe=Np.EMPTY;function rCe(e){return e instanceof Np||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function jq(e){Lt(e)?e():e.unsubscribe()}var oCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=l$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Tl([e,t],za(n))):setTimeout.apply(void 0,Tl([e,t],za(n)))},clearTimeout:function(e){var t=l$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function iCe(e){l$.setTimeout(function(){throw e})}function Mf(){}function B2(e){e()}var NL=function(e){ca(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,rCe(n)&&n.add(r)):r.destination=wtt,r}return t.create=function(n,r,o){return new Qb(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Np),ytt=Function.prototype.bind;function _I(e,t){return ytt.call(e,t)}var btt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){r_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){r_(r)}else r_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){r_(n)}},e}(),Qb=function(e){ca(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Lt(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&oCe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&_I(n.next,a),error:n.error&&_I(n.error,a),complete:n.complete&&_I(n.complete,a)}):s=n}return i.destination=new btt(s),i}return t}(NL);function r_(e){iCe(e)}function xtt(e){throw e}var wtt={closed:!0,next:Mf,error:xtt,complete:Mf},zL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function id(e){return e}function Ctt(e){return e.length===0?id:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var gt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=Stt(t)?t:new Qb(t,n,r);return B2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Tq(n),new n(function(o,i){var s=new Qb({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[zL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ctt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Tq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Tq(e){var t;return(t=e??oCe.Promise)!==null&&t!==void 0?t:Promise}function _tt(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}function Stt(e){return e&&e instanceof NL||_tt(e)&&rCe(e)}function sCe(e){return Lt(e==null?void 0:e.lift)}function gn(e){return function(t){if(sCe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(e,t,n,r,o){return new aCe(e,t,n,r,o)}var aCe=function(e){ca(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(NL);function gl(){return gn(function(e,t){var n=null;e._refCount++;var r=Ut(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var ktt=function(e){ca(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,sCe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Np;var o=this.getSubject();r.add(this.source.subscribe(Ut(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Np.EMPTY)}return r},t.prototype.refCount=function(){return gl()(this)},t}(gt),Ett=BL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),wr=function(e){ca(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Aq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ett},t.prototype.next=function(n){var r=this;B2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Bp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;B2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;B2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?nCe:(this.currentObservers=null,a.push(n),new Np(function(){r.currentObservers=null,Ik(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new gt;return n.source=this,n},t.create=function(n,r){return new Aq(n,r)},t}(gt),Aq=function(e){ca(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:nCe},t}(wr),Dj=function(e){ca(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(wr),VL={now:function(){return(VL.delegate||Date).now()},delegate:void 0},lCe=function(e){ca(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=VL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(wr),jtt=function(e){ca(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Np),Pk={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Pk.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Tl([e,t],za(n))):setInterval.apply(void 0,Tl([e,t],za(n)))},clearInterval:function(e){var t=Pk.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},cCe=function(e){ca(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),Pk.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&Pk.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ik(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(jtt),Ttt=1,SI,c$={};function Dq(e){return e in c$?(delete c$[e],!0):!1}var uCe={setImmediate:function(e){var t=Ttt++;return c$[t]=!0,SI||(SI=Promise.resolve()),SI.then(function(){return Dq(t)&&e()}),t},clearImmediate:function(e){Dq(e)}},Att=uCe.setImmediate,Dtt=uCe.clearImmediate,Ok={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ok.delegate;return((n==null?void 0:n.setImmediate)||Att).apply(void 0,Tl([],za(e)))},clearImmediate:function(e){var t=Ok.delegate;return((t==null?void 0:t.clearImmediate)||Dtt)(e)},delegate:void 0},Itt=function(e){ca(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=Ok.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(Ok.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(cCe),Iq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=VL.now,e}(),dCe=function(e){ca(t,e);function t(n,r){r===void 0&&(r=Iq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(Iq),Ptt=function(e){ca(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(dCe),Ott=new Ptt(Itt),Al=new dCe(cCe),Rtt=Al,Xn=new gt(function(e){return e.complete()});function $tt(e){return e?Mtt(e):Xn}function Mtt(e){return new gt(function(t){return e.schedule(function(){return t.complete()})})}function fCe(e){return e&&Lt(e.schedule)}function HL(e){return e[e.length-1]}function UL(e){return Lt(HL(e))?e.pop():void 0}function _w(e){return fCe(HL(e))?e.pop():void 0}function Ftt(e,t){return typeof HL(e)=="number"?e.pop():t}var WL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function hCe(e){return Lt(e==null?void 0:e.then)}function pCe(e){return Lt(e[zL])}function mCe(e){return Symbol.asyncIterator&&Lt(e==null?void 0:e[Symbol.asyncIterator])}function gCe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ltt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vCe=Ltt();function yCe(e){return Lt(e==null?void 0:e[vCe])}function bCe(e){return gtt(this,arguments,function(){var n,r,o,i;return tCe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ev(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,ev(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ev(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xCe(e){return Lt(e==null?void 0:e.getReader)}function _n(e){if(e instanceof gt)return e;if(e!=null){if(pCe(e))return Btt(e);if(WL(e))return Ntt(e);if(hCe(e))return ztt(e);if(mCe(e))return wCe(e);if(yCe(e))return Vtt(e);if(xCe(e))return Htt(e)}throw gCe(e)}function Btt(e){return new gt(function(t){var n=e[zL]();if(Lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ntt(e){return new gt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function ztt(e){return new gt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,iCe)})}function Vtt(e){return new gt(function(t){var n,r;try{for(var o=Bp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function wCe(e){return new gt(function(t){Utt(e,t).catch(function(n){return t.error(n)})})}function Htt(e){return wCe(bCe(e))}function Utt(e,t){var n,r,o,i;return mtt(this,void 0,void 0,function(){var s,a;return tCe(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=vtt(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function _u(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function CCe(e,t){return t===void 0&&(t=0),gn(function(n,r){n.subscribe(Ut(r,function(o){return _u(r,e,function(){return r.next(o)},t)},function(){return _u(r,e,function(){return r.complete()},t)},function(o){return _u(r,e,function(){return r.error(o)},t)}))})}function _Ce(e,t){return t===void 0&&(t=0),gn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Wtt(e,t){return _n(e).pipe(_Ce(t),CCe(t))}function Ytt(e,t){return _n(e).pipe(_Ce(t),CCe(t))}function qtt(e,t){return new gt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Gtt(e,t){return new gt(function(n){var r;return _u(n,t,function(){r=e[vCe](),_u(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Lt(r==null?void 0:r.return)&&r.return()}})}function SCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new gt(function(n){_u(n,t,function(){var r=e[Symbol.asyncIterator]();_u(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Ktt(e,t){return SCe(bCe(e),t)}function kCe(e,t){if(e!=null){if(pCe(e))return Wtt(e,t);if(WL(e))return qtt(e,t);if(hCe(e))return Ytt(e,t);if(mCe(e))return SCe(e,t);if(yCe(e))return Gtt(e,t);if(xCe(e))return Ktt(e,t)}throw gCe(e)}function Cr(e,t){return t?kCe(e,t):_n(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_w(e);return Cr(e,n)}function Nu(e,t){var n=Lt(e)?e:function(){return e},r=function(o){return o.error(n())};return new gt(t?function(o){return t.schedule(r,0,o)}:r)}function Ztt(e){return!!e&&(e instanceof gt||Lt(e.lift)&&Lt(e.subscribe))}var Ij=BL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function bo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Ij)}})})}function Xtt(e){return e instanceof Date&&!isNaN(e)}function ue(e,t){return gn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){r.next(e.call(t,i,o++))}))})}var Qtt=Array.isArray;function Jtt(e,t){return Qtt(t)?e.apply(void 0,Tl([],za(t))):e(t)}function YL(e){return ue(function(t){return Jtt(e,t)})}var ent=Array.isArray,tnt=Object.getPrototypeOf,nnt=Object.prototype,rnt=Object.keys;function ECe(e){if(e.length===1){var t=e[0];if(ent(t))return{args:t,keys:null};if(ont(t)){var n=rnt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function ont(e){return e&&typeof e=="object"&&tnt(e)===nnt}function jCe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Lo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_w(e),r=UL(e),o=ECe(e),i=o.args,s=o.keys;if(i.length===0)return Cr([],n);var a=new gt(int(i,n,s?function(c){return jCe(s,c)}:id));return r?a.pipe(YL(r)):a}function int(e,t,n){return n===void 0&&(n=id),function(r){Pq(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){Pq(t,function(){var f=Cr(e[d],t),p=!1;f.subscribe(Ut(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function Pq(e,t,n){e?_u(n,e,t):t()}function snt(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;_n(n(g,d++)).subscribe(Ut(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=c.shift();s?_u(t,s,function(){return v(b)}):v(b)};c.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(Ut(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ht(e,t,n){return n===void 0&&(n=1/0),Lt(t)?ht(function(r,o){return ue(function(i,s){return t(r,i,o,s)})(_n(e(r,o)))},n):(typeof t=="number"&&(n=t),gn(function(r,o){return snt(r,o,e,n)}))}function Pj(e){return e===void 0&&(e=1/0),ht(id,e)}function ant(){return Pj(1)}function Vr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ant()(Cr(e,_w(e)))}function uo(e){return new gt(function(t){_n(e()).subscribe(t)})}function lnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=UL(e),r=ECe(e),o=r.args,i=r.keys,s=new gt(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;_n(o[v]).subscribe(Ut(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?jCe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(YL(n)):s}var cnt=["addListener","removeListener"],unt=["addEventListener","removeEventListener"],dnt=["on","off"];function Ai(e,t,n,r){if(Lt(n)&&(r=n,n=void 0),r)return Ai(e,t,n).pipe(YL(r));var o=za(pnt(e)?unt.map(function(a){return function(c){return e[a](t,c,n)}}):fnt(e)?cnt.map(Oq(e,t)):hnt(e)?dnt.map(Oq(e,t)):[],2),i=o[0],s=o[1];if(!i&&WL(e))return ht(function(a){return Ai(a,t,n)})(_n(e));if(!i)throw new TypeError("Invalid event target");return new gt(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function Oq(e,t){return function(n){return function(r){return e[n](t,r)}}}function fnt(e){return Lt(e.addListener)&&Lt(e.removeListener)}function hnt(e){return Lt(e.on)&&Lt(e.off)}function pnt(e){return Lt(e.addEventListener)&&Lt(e.removeEventListener)}function mnt(e,t,n){return uo(function(){return e()?t:n})}function Bo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Rtt);var r=-1;return t!=null&&(fCe(t)?n=t:r=t),new gt(function(o){var i=Xtt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function sn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_w(e),r=Ftt(e,1/0),o=e;return o.length?o.length===1?_n(o[0]):Pj(r)(Cr(o,n)):Xn}var qL=new gt(Mf),gnt=Array.isArray;function vnt(e){return e.length===1&&gnt(e[0])?e[0]:e}function ynt(e,t){return function(n,r){return!e.call(t,n,r)}}function mt(e,t){return gn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function GL(e,t,n){return[mt(t,n)(_n(e)),mt(ynt(t,n))(_n(e))]}function bnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=vnt(e),e.length===1?_n(e[0]):new gt(xnt(e))}function xnt(e){return function(t){for(var n=[],r=function(i){n.push(_n(e[i]).subscribe(Ut(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function wnt(e,t){return new gt(function(n){var r=e(),o=t(r),i=o?_n(o):Xn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function Cnt(e){return gn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Ut(n,function(u){r=!0,o=u,i||_n(e(u)).subscribe(i=Ut(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function _nt(e,t){return t===void 0&&(t=Al),Cnt(function(){return Bo(e,t)})}function On(e){return gn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Ut(n,void 0,void 0,function(s){i=_n(e(s,On(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function TCe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Ut(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function ACe(e,t){return gn(TCe(e,t,arguments.length>=2,!1,!0))}var Snt=function(e,t){return e.push(t),e};function DCe(){return gn(function(e,t){ACe(Snt,[])(e).subscribe(t)})}function u$(e,t){return Lt(t)?ht(e,t,1):ht(e,1)}function knt(e){return new gt(function(t){return e.subscribe(t)})}var Ent={connector:function(){return new wr}};function jnt(e,t){t===void 0&&(t=Ent);var n=t.connector;return gn(function(r,o){var i=n();_n(e(knt(i))).subscribe(o),o.add(r.subscribe(i))})}function KL(e){return gn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Ut(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Ut(n,s,Mf),_n(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function ZL(e,t){return t===void 0&&(t=Al),gn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Ut(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function ICe(e){return gn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Ci(e){return e<=0?function(){return Xn}:gn(function(t,n){var r=0;t.subscribe(Ut(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Tnt(){return gn(function(e,t){e.subscribe(Ut(t,Mf))})}function Oj(e){return ue(function(){return e})}function PCe(e,t){return t?function(n){return Vr(t.pipe(Ci(1),Tnt()),n.pipe(PCe(e)))}:ht(function(n,r){return _n(e(n,r)).pipe(Ci(1),Oj(n))})}function OCe(e,t){t===void 0&&(t=Al);var n=Bo(e,t);return PCe(function(){return n})}function Ant(e,t){return gn(function(n,r){var o=new Set;n.subscribe(Ut(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&_n(t).subscribe(Ut(r,function(){return o.clear()},Mf))})}function Qn(e,t){return t===void 0&&(t=id),e=e??Dnt,gn(function(n,r){var o,i=!0;n.subscribe(Ut(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Dnt(e,t){return e===t}function RCe(e){return e===void 0&&(e=Int),gn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function Int(){return new Ij}function $Ce(e,t){return t?function(n){return n.pipe($Ce(function(r,o){return _n(e(r,o)).pipe(ue(function(i,s){return t(r,i,o,s)}))}))}:gn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Ut(r,function(a){i||(i=Ut(r,void 0,function(){i=null,s&&r.complete()}),_n(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function MCe(e){return gn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function FCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?mt(function(o,i){return e(o,i,r)}):id,Ci(1),n?ICe(t):RCe(function(){return new Ij}))}}function LCe(e,t,n,r){return gn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new aCe(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new wr);var x=m(g,y);if(i.next(x),n){var b=Ut(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(_n(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new gt(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function Pnt(e){return e<=0?function(){return Xn}:gn(function(t,n){var r=[];t.subscribe(Ut(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Bp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function Ont(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?mt(function(o,i){return e(o,i,r)}):id,Pnt(1),n?ICe(t):RCe(function(){return new Ij}))}}var Rnt=ht;function zp(e,t,n){return n===void 0&&(n=1/0),Lt(t)?ht(function(){return e},t,n):(typeof t=="number"&&(n=t),ht(function(){return e},n))}function $nt(e,t){var n=Lt(e)?e:function(){return e};return Lt(t)?jnt(t,{connector:n}):function(r){return new ktt(r,n)}}function vl(e,t,n,r){n&&!Lt(n)&&(r=n);var o=Lt(n)?n:void 0;return function(i){return $nt(new lCe(e,t,r),o)(i)}}function ea(e,t){return gn(TCe(e,t,arguments.length>=2,!0))}function ta(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new wr}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return gn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=kI(b,c))}),_.subscribe(C),!d&&m>0&&(d=new Qb({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=kI(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=kI(x,s),_.complete()}}),_n(w).subscribe(d))})(u)}}function kI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Qb({next:function(){o.unsubscribe(),e()}});return _n(t.apply(void 0,Tl([],za(n)))).subscribe(o)}}function Eo(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,ta({connector:function(){return new lCe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function BCe(e){return mt(function(t,n){return e<=n})}function ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_w(e);return gn(function(r,o){(n?Vr(e,r,n):Vr(e,r)).subscribe(o)})}function it(e,t){return gn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Ut(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;_n(e(c,d)).subscribe(o=Ut(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function Mnt(e,t){return Lt(t)?it(function(){return e},t):it(function(){return e})}function XL(e){return gn(function(t,n){_n(e).subscribe(Ut(n,function(){return n.complete()},Mf)),!n.closed&&t.subscribe(n)})}function xn(e,t,n){var r=Lt(e)||t||n?{next:e,error:t,complete:n}:e;return r?gn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Ut(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):id}function NCe(e,t){return gn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=_n(e(x)).subscribe(Ut(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Ut(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function Jb(e,t,n){t===void 0&&(t=Al);var r=Bo(e,t);return NCe(function(){return r},n)}function Qy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=UL(e);return gn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){_n(e[f]).subscribe(Ut(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(id))&&(a=null))},Mf))},d=0;d<i;d++)u(d);r.subscribe(Ut(o,function(f){if(c){var p=Tl([f],za(s));o.next(n?n.apply(void 0,Tl([],za(p))):p)}}))})}function Fnt(e,t){var n=h.useCallback(function(){var s=new Dj(e),a=s.asObservable().pipe(Qn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var zCe={exports:{}},VCe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=h;function Lnt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bnt=typeof Object.is=="function"?Object.is:Lnt,Nnt=zv.useState,znt=zv.useEffect,Vnt=zv.useLayoutEffect,Hnt=zv.useDebugValue;function Unt(e,t){var n=t(),r=Nnt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Vnt(function(){o.value=n,o.getSnapshot=t,EI(o)&&i({inst:o})},[e,n,t]),znt(function(){return EI(o)&&i({inst:o}),e(function(){EI(o)&&i({inst:o})})},[e]),Hnt(n),n}function EI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bnt(e,n)}catch{return!0}}function Wnt(e,t){return t()}var Ynt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wnt:Unt;VCe.useSyncExternalStore=zv.useSyncExternalStore!==void 0?zv.useSyncExternalStore:Ynt;zCe.exports=VCe;var qnt=zCe.exports;function d$(e){return typeof e=="function"?e():e}var jI=new WeakMap;function Rq(e,t){if(!jI.has(e)){var n={currentValue:t};n.observable=e.pipe(Eo({refCount:!0,bufferSize:1}),xn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),jI.set(e,n)}return jI.get(e)}function Gnt(e,t){var n=h.useMemo(function(){var s=Rq(e,d$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=Rq(e,d$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),qnt.useSyncExternalStore(o,r)}function mo(e,t,n){return Gnt(h.useMemo(function(){return d$(e)},t),n)}var Knt=function(e){return e};function HCe(e){e===void 0&&(e=Knt);var t=new wr;return[t.pipe(e),function(n){return t.next(n)}]}var Znt=[];function Rj(e,t){t===void 0&&(t=Znt);var n=h.useRef();n.current||(n.current=HCe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Xnt(){this.__data__=[],this.size=0}var Qnt=Xnt;function Jnt(e,t){return e===t||e!==e&&t!==t}var $j=Jnt,ert=$j;function trt(e,t){for(var n=e.length;n--;)if(ert(e[n][0],t))return n;return-1}var Mj=trt,nrt=Mj,rrt=Array.prototype,ort=rrt.splice;function irt(e){var t=this.__data__,n=nrt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ort.call(t,n,1),--this.size,!0}var srt=irt,art=Mj;function lrt(e){var t=this.__data__,n=art(t,e);return n<0?void 0:t[n][1]}var crt=lrt,urt=Mj;function drt(e){return urt(this.__data__,e)>-1}var frt=drt,hrt=Mj;function prt(e,t){var n=this.__data__,r=hrt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var mrt=prt,grt=Qnt,vrt=srt,yrt=crt,brt=frt,xrt=mrt;function S0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S0.prototype.clear=grt;S0.prototype.delete=vrt;S0.prototype.get=yrt;S0.prototype.has=brt;S0.prototype.set=xrt;var Fj=S0,wrt=Fj;function Crt(){this.__data__=new wrt,this.size=0}var _rt=Crt;function Srt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var krt=Srt;function Ert(e){return this.__data__.get(e)}var jrt=Ert;function Trt(e){return this.__data__.has(e)}var Art=Trt,Drt=Hf,Irt=Wa,Prt="[object AsyncFunction]",Ort="[object Function]",Rrt="[object GeneratorFunction]",$rt="[object Proxy]";function Mrt(e){if(!Irt(e))return!1;var t=Drt(e);return t==Ort||t==Rrt||t==Prt||t==$rt}var UCe=Mrt,Frt=Fl,Lrt=Frt["__core-js_shared__"],Brt=Lrt,TI=Brt,$q=function(){var e=/[^.]+$/.exec(TI&&TI.keys&&TI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Nrt(e){return!!$q&&$q in e}var zrt=Nrt,Vrt=Function.prototype,Hrt=Vrt.toString;function Urt(e){if(e!=null){try{return Hrt.call(e)}catch{}try{return e+""}catch{}}return""}var WCe=Urt,Wrt=UCe,Yrt=zrt,qrt=Wa,Grt=WCe,Krt=/[\\^$.*+?()[\]{}|]/g,Zrt=/^\[object .+?Constructor\]$/,Xrt=Function.prototype,Qrt=Object.prototype,Jrt=Xrt.toString,eot=Qrt.hasOwnProperty,tot=RegExp("^"+Jrt.call(eot).replace(Krt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function not(e){if(!qrt(e)||Yrt(e))return!1;var t=Wrt(e)?tot:Zrt;return t.test(Grt(e))}var rot=not;function oot(e,t){return e==null?void 0:e[t]}var iot=oot,sot=rot,aot=iot;function lot(e,t){var n=aot(e,t);return sot(n)?n:void 0}var bm=lot,cot=bm,uot=Fl,dot=cot(uot,"Map"),QL=dot,fot=bm,hot=fot(Object,"create"),Lj=hot,Mq=Lj;function pot(){this.__data__=Mq?Mq(null):{},this.size=0}var mot=pot;function got(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var vot=got,yot=Lj,bot="__lodash_hash_undefined__",xot=Object.prototype,wot=xot.hasOwnProperty;function Cot(e){var t=this.__data__;if(yot){var n=t[e];return n===bot?void 0:n}return wot.call(t,e)?t[e]:void 0}var _ot=Cot,Sot=Lj,kot=Object.prototype,Eot=kot.hasOwnProperty;function jot(e){var t=this.__data__;return Sot?t[e]!==void 0:Eot.call(t,e)}var Tot=jot,Aot=Lj,Dot="__lodash_hash_undefined__";function Iot(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Aot&&t===void 0?Dot:t,this}var Pot=Iot,Oot=mot,Rot=vot,$ot=_ot,Mot=Tot,Fot=Pot;function k0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}k0.prototype.clear=Oot;k0.prototype.delete=Rot;k0.prototype.get=$ot;k0.prototype.has=Mot;k0.prototype.set=Fot;var Lot=k0,Fq=Lot,Bot=Fj,Not=QL;function zot(){this.size=0,this.__data__={hash:new Fq,map:new(Not||Bot),string:new Fq}}var Vot=zot;function Hot(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Uot=Hot,Wot=Uot;function Yot(e,t){var n=e.__data__;return Wot(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Bj=Yot,qot=Bj;function Got(e){var t=qot(this,e).delete(e);return this.size-=t?1:0,t}var Kot=Got,Zot=Bj;function Xot(e){return Zot(this,e).get(e)}var Qot=Xot,Jot=Bj;function eit(e){return Jot(this,e).has(e)}var tit=eit,nit=Bj;function rit(e,t){var n=nit(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var oit=rit,iit=Vot,sit=Kot,ait=Qot,lit=tit,cit=oit;function E0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E0.prototype.clear=iit;E0.prototype.delete=sit;E0.prototype.get=ait;E0.prototype.has=lit;E0.prototype.set=cit;var JL=E0,uit=Fj,dit=QL,fit=JL,hit=200;function pit(e,t){var n=this.__data__;if(n instanceof uit){var r=n.__data__;if(!dit||r.length<hit-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fit(r)}return n.set(e,t),this.size=n.size,this}var mit=pit,git=Fj,vit=_rt,yit=krt,bit=jrt,xit=Art,wit=mit;function j0(e){var t=this.__data__=new git(e);this.size=t.size}j0.prototype.clear=vit;j0.prototype.delete=yit;j0.prototype.get=bit;j0.prototype.has=xit;j0.prototype.set=wit;var e8=j0,Cit="__lodash_hash_undefined__";function _it(e){return this.__data__.set(e,Cit),this}var Sit=_it;function kit(e){return this.__data__.has(e)}var Eit=kit,jit=JL,Tit=Sit,Ait=Eit;function Rk(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new jit;++t<n;)this.add(e[t])}Rk.prototype.add=Rk.prototype.push=Tit;Rk.prototype.has=Ait;var Nj=Rk;function Dit(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Iit=Dit;function Pit(e,t){return e.has(t)}var zj=Pit,Oit=Nj,Rit=Iit,$it=zj,Mit=1,Fit=2;function Lit(e,t,n,r,o,i){var s=n&Mit,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&Fit?new Oit:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!Rit(t,function(x,b){if(!$it(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var YCe=Lit,Bit=Fl,Nit=Bit.Uint8Array,qCe=Nit;function zit(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var Vit=zit;function Hit(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var t8=Hit,Lq=u0,Bq=qCe,Uit=$j,Wit=YCe,Yit=Vit,qit=t8,Git=1,Kit=2,Zit="[object Boolean]",Xit="[object Date]",Qit="[object Error]",Jit="[object Map]",est="[object Number]",tst="[object RegExp]",nst="[object Set]",rst="[object String]",ost="[object Symbol]",ist="[object ArrayBuffer]",sst="[object DataView]",Nq=Lq?Lq.prototype:void 0,AI=Nq?Nq.valueOf:void 0;function ast(e,t,n,r,o,i,s){switch(n){case sst:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ist:return!(e.byteLength!=t.byteLength||!i(new Bq(e),new Bq(t)));case Zit:case Xit:case est:return Uit(+e,+t);case Qit:return e.name==t.name&&e.message==t.message;case tst:case rst:return e==t+"";case Jit:var a=Yit;case nst:var c=r&Git;if(a||(a=qit),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=Kit,s.set(e,t);var d=Wit(a(e),a(t),r,o,i,s);return s.delete(e),d;case ost:if(AI)return AI.call(e)==AI.call(t)}return!1}var lst=ast;function cst(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var n8=cst,ust=Array.isArray,Qr=ust,dst=n8,fst=Qr;function hst(e,t,n){var r=t(e);return fst(e)?r:dst(r,n(e))}var GCe=hst;function pst(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var KCe=pst;function mst(){return[]}var ZCe=mst,gst=KCe,vst=ZCe,yst=Object.prototype,bst=yst.propertyIsEnumerable,zq=Object.getOwnPropertySymbols,xst=zq?function(e){return e==null?[]:(e=Object(e),gst(zq(e),function(t){return bst.call(e,t)}))}:vst,r8=xst;function wst(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Cst=wst,_st=Hf,Sst=Ya,kst="[object Arguments]";function Est(e){return Sst(e)&&_st(e)==kst}var jst=Est,Vq=jst,Tst=Ya,XCe=Object.prototype,Ast=XCe.hasOwnProperty,Dst=XCe.propertyIsEnumerable,Ist=Vq(function(){return arguments}())?Vq:function(e){return Tst(e)&&Ast.call(e,"callee")&&!Dst.call(e,"callee")},Vj=Ist,$k={exports:{}};function Pst(){return!1}var Ost=Pst;$k.exports;(function(e,t){var n=Fl,r=Ost,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})($k,$k.exports);var Hj=$k.exports,Rst=9007199254740991,$st=/^(?:0|[1-9]\d*)$/;function Mst(e,t){var n=typeof e;return t=t??Rst,!!t&&(n=="number"||n!="symbol"&&$st.test(e))&&e>-1&&e%1==0&&e<t}var Uj=Mst,Fst=9007199254740991;function Lst(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fst}var o8=Lst,Bst=Hf,Nst=o8,zst=Ya,Vst="[object Arguments]",Hst="[object Array]",Ust="[object Boolean]",Wst="[object Date]",Yst="[object Error]",qst="[object Function]",Gst="[object Map]",Kst="[object Number]",Zst="[object Object]",Xst="[object RegExp]",Qst="[object Set]",Jst="[object String]",eat="[object WeakMap]",tat="[object ArrayBuffer]",nat="[object DataView]",rat="[object Float32Array]",oat="[object Float64Array]",iat="[object Int8Array]",sat="[object Int16Array]",aat="[object Int32Array]",lat="[object Uint8Array]",cat="[object Uint8ClampedArray]",uat="[object Uint16Array]",dat="[object Uint32Array]",nr={};nr[rat]=nr[oat]=nr[iat]=nr[sat]=nr[aat]=nr[lat]=nr[cat]=nr[uat]=nr[dat]=!0;nr[Vst]=nr[Hst]=nr[tat]=nr[Ust]=nr[nat]=nr[Wst]=nr[Yst]=nr[qst]=nr[Gst]=nr[Kst]=nr[Zst]=nr[Xst]=nr[Qst]=nr[Jst]=nr[eat]=!1;function fat(e){return zst(e)&&Nst(e.length)&&!!nr[Bst(e)]}var hat=fat;function pat(e){return function(t){return e(t)}}var T0=pat,Mk={exports:{}};Mk.exports;(function(e,t){var n=Vve,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(Mk,Mk.exports);var i8=Mk.exports,mat=hat,gat=T0,Hq=i8,Uq=Hq&&Hq.isTypedArray,vat=Uq?gat(Uq):mat,s8=vat,yat=Cst,bat=Vj,xat=Qr,wat=Hj,Cat=Uj,_at=s8,Sat=Object.prototype,kat=Sat.hasOwnProperty;function Eat(e,t){var n=xat(e),r=!n&&bat(e),o=!n&&!r&&wat(e),i=!n&&!r&&!o&&_at(e),s=n||r||o||i,a=s?yat(e.length,String):[],c=a.length;for(var u in e)(t||kat.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cat(u,c)))&&a.push(u);return a}var QCe=Eat,jat=Object.prototype;function Tat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||jat;return e===n}var Wj=Tat;function Aat(e,t){return function(n){return e(t(n))}}var JCe=Aat,Dat=JCe,Iat=Dat(Object.keys,Object),Pat=Iat,Oat=Wj,Rat=Pat,$at=Object.prototype,Mat=$at.hasOwnProperty;function Fat(e){if(!Oat(e))return Rat(e);var t=[];for(var n in Object(e))Mat.call(e,n)&&n!="constructor"&&t.push(n);return t}var e_e=Fat,Lat=UCe,Bat=o8;function Nat(e){return e!=null&&Bat(e.length)&&!Lat(e)}var Xf=Nat,zat=QCe,Vat=e_e,Hat=Xf;function Uat(e){return Hat(e)?zat(e):Vat(e)}var Qf=Uat,Wat=GCe,Yat=r8,qat=Qf;function Gat(e){return Wat(e,qat,Yat)}var t_e=Gat,Wq=t_e,Kat=1,Zat=Object.prototype,Xat=Zat.hasOwnProperty;function Qat(e,t,n,r,o,i){var s=n&Kat,a=Wq(e),c=a.length,u=Wq(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:Xat.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<c;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Jat=Qat,elt=bm,tlt=Fl,nlt=elt(tlt,"DataView"),rlt=nlt,olt=bm,ilt=Fl,slt=olt(ilt,"Promise"),alt=slt,llt=bm,clt=Fl,ult=llt(clt,"Set"),n_e=ult,dlt=bm,flt=Fl,hlt=dlt(flt,"WeakMap"),r_e=hlt,f$=rlt,h$=QL,p$=alt,m$=n_e,g$=r_e,o_e=Hf,A0=WCe,Yq="[object Map]",plt="[object Object]",qq="[object Promise]",Gq="[object Set]",Kq="[object WeakMap]",Zq="[object DataView]",mlt=A0(f$),glt=A0(h$),vlt=A0(p$),ylt=A0(m$),blt=A0(g$),Ph=o_e;(f$&&Ph(new f$(new ArrayBuffer(1)))!=Zq||h$&&Ph(new h$)!=Yq||p$&&Ph(p$.resolve())!=qq||m$&&Ph(new m$)!=Gq||g$&&Ph(new g$)!=Kq)&&(Ph=function(e){var t=o_e(e),n=t==plt?e.constructor:void 0,r=n?A0(n):"";if(r)switch(r){case mlt:return Zq;case glt:return Yq;case vlt:return qq;case ylt:return Gq;case blt:return Kq}return t});var Sw=Ph,DI=e8,xlt=YCe,wlt=lst,Clt=Jat,Xq=Sw,Qq=Qr,Jq=Hj,_lt=s8,Slt=1,eG="[object Arguments]",tG="[object Array]",o_="[object Object]",klt=Object.prototype,nG=klt.hasOwnProperty;function Elt(e,t,n,r,o,i){var s=Qq(e),a=Qq(t),c=s?tG:Xq(e),u=a?tG:Xq(t);c=c==eG?o_:c,u=u==eG?o_:u;var d=c==o_,f=u==o_,p=c==u;if(p&&Jq(e)){if(!Jq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new DI),s||_lt(e)?xlt(e,t,n,r,o,i):wlt(e,t,c,n,r,o,i);if(!(n&Slt)){var m=d&&nG.call(e,"__wrapped__"),v=f&&nG.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new DI),o(g,y,n,r,i)}}return p?(i||(i=new DI),Clt(e,t,n,r,o,i)):!1}var jlt=Elt,Tlt=jlt,rG=Ya;function i_e(e,t,n,r,o){return e===t?!0:e==null||t==null||!rG(e)&&!rG(t)?e!==e&&t!==t:Tlt(e,t,n,r,i_e,o)}var a8=i_e,Alt=a8;function Dlt(e,t){return Alt(e,t)}var Ilt=Dlt;const Ht=Pe(Ilt);var yp=[],Plt=function(){return yp.some(function(e){return e.activeTargets.length>0})},Olt=function(){return yp.some(function(e){return e.skippedTargets.length>0})},oG="ResizeObserver loop completed with undelivered notifications.",Rlt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:oG}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=oG),window.dispatchEvent(e)},ex;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ex||(ex={}));var bp=function(e){return Object.freeze(e)},$lt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,bp(this)}return e}(),s_e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,bp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l8=function(e){return e instanceof SVGElement&&"getBBox"in e},a_e=function(e){if(l8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},iG=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Mlt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Jy=typeof window<"u"?window:{},i_=new WeakMap,sG=/auto|scroll/,Flt=/^tb|vertical/,Llt=/msie|trident/i.test(Jy.navigator&&Jy.navigator.userAgent),Zl=function(e){return parseFloat(e||"0")},tv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new $lt((n?t:e)||0,(n?e:t)||0)},aG=bp({devicePixelContentBoxSize:tv(),borderBoxSize:tv(),contentBoxSize:tv(),contentRect:new s_e(0,0,0,0)}),l_e=function(e,t){if(t===void 0&&(t=!1),i_.has(e)&&!t)return i_.get(e);if(a_e(e))return i_.set(e,aG),aG;var n=getComputedStyle(e),r=l8(e)&&e.ownerSVGElement&&e.getBBox(),o=!Llt&&n.boxSizing==="border-box",i=Flt.test(n.writingMode||""),s=!r&&sG.test(n.overflowY||""),a=!r&&sG.test(n.overflowX||""),c=r?0:Zl(n.paddingTop),u=r?0:Zl(n.paddingRight),d=r?0:Zl(n.paddingBottom),f=r?0:Zl(n.paddingLeft),p=r?0:Zl(n.borderTopWidth),m=r?0:Zl(n.borderRightWidth),v=r?0:Zl(n.borderBottomWidth),g=r?0:Zl(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,k=o?x+w:0,j=r?r.width:Zl(n.width)-S-_,E=r?r.height:Zl(n.height)-k-C,T=j+y+_+b,A=E+x+C+w,D=bp({devicePixelContentBoxSize:tv(Math.round(j*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:tv(T,A,i),contentBoxSize:tv(j,E,i),contentRect:new s_e(f,c,j,E)});return i_.set(e,D),D},c_e=function(e,t,n){var r=l_e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ex.DEVICE_PIXEL_CONTENT_BOX:return s;case ex.BORDER_BOX:return o;default:return i}},Blt=function(){function e(t){var n=l_e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=bp([n.borderBoxSize]),this.contentBoxSize=bp([n.contentBoxSize]),this.devicePixelContentBoxSize=bp([n.devicePixelContentBoxSize])}return e}(),u_e=function(e){if(a_e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Nlt=function(){var e=1/0,t=[];yp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new Blt(u.target),f=u_e(u.target);a.push(d),u.lastReportedSize=c_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},lG=function(e){yp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(u_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},zlt=function(){var e=0;for(lG(e);Plt();)e=Nlt(),lG(e);return Olt()&&Rlt(),e>0},II,d_e=[],Vlt=function(){return d_e.splice(0).forEach(function(e){return e()})},Hlt=function(e){if(!II){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Vlt()}).observe(n,r),II=function(){n.textContent="".concat(t?t--:t++)}}d_e.push(e),II()},Ult=function(e){Hlt(function(){requestAnimationFrame(e)})},N2=0,Wlt=function(){return!!N2},Ylt=250,qlt={attributes:!0,characterData:!0,childList:!0,subtree:!0},cG=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],uG=function(e){return e===void 0&&(e=0),Date.now()+e},PI=!1,Glt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Ylt),!PI){PI=!0;var r=uG(t);Ult(function(){var o=!1;try{o=zlt()}finally{if(PI=!1,t=r-uG(),!Wlt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,qlt)};document.body?n():Jy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),cG.forEach(function(n){return Jy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),cG.forEach(function(n){return Jy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),v$=new Glt,dG=function(e){!N2&&e>0&&v$.start(),N2+=e,!N2&&v$.stop()},Klt=function(e){return!l8(e)&&!Mlt(e)&&getComputedStyle(e).display==="inline"},Zlt=function(){function e(t,n){this.target=t,this.observedBox=n||ex.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=c_e(this.target,this.observedBox,!0);return Klt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Xlt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),s_=new WeakMap,fG=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},a_=function(){function e(){}return e.connect=function(t,n){var r=new Xlt(t,n);s_.set(t,r)},e.observe=function(t,n,r){var o=s_.get(t),i=o.observationTargets.length===0;fG(o.observationTargets,n)<0&&(i&&yp.push(o),o.observationTargets.push(new Zlt(n,r&&r.box)),dG(1),v$.schedule())},e.unobserve=function(t,n){var r=s_.get(t),o=fG(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&yp.splice(yp.indexOf(r),1),r.observationTargets.splice(o,1),dG(-1))},e.disconnect=function(t){var n=this,r=s_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),f_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");a_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!iG(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");a_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!iG(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");a_.unobserve(this,t)},e.prototype.disconnect=function(){a_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Qlt=Yve,Jlt=Wa,ect="Expected a function";function tct(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(ect);return Jlt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Qlt(e,t,{leading:r,maxWait:t,trailing:o})}var nct=tct;const Yj=Pe(nct);var hG=u0,rct=Vj,oct=Qr,pG=hG?hG.isConcatSpreadable:void 0;function ict(e){return oct(e)||rct(e)||!!(pG&&e&&e[pG])}var sct=ict,act=n8,lct=sct;function h_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=lct),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?h_e(a,t-1,n,r,o):act(o,a):r||(o[o.length]=a)}return o}var D0=h_e;function cct(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Mc=cct,uct=Qr,dct=sm,fct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hct=/^\w*$/;function pct(e,t){if(uct(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dct(e)?!0:hct.test(e)||!fct.test(e)||t!=null&&e in Object(t)}var c8=pct,p_e=JL,mct="Expected a function";function u8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(mct);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(u8.Cache||p_e),n}u8.Cache=p_e;var m_e=u8;const qj=Pe(m_e);var gct=m_e,vct=500;function yct(e){var t=gct(e,function(r){return n.size===vct&&n.clear(),r}),n=t.cache;return t}var bct=yct,xct=bct,wct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cct=/\\(\\)?/g,_ct=xct(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wct,function(n,r,o,i){t.push(o?i.replace(Cct,"$1"):r||n)}),t}),g_e=_ct,mG=u0,Sct=Mc,kct=Qr,Ect=sm,jct=1/0,gG=mG?mG.prototype:void 0,vG=gG?gG.toString:void 0;function v_e(e){if(typeof e=="string")return e;if(kct(e))return Sct(e,v_e)+"";if(Ect(e))return vG?vG.call(e):"";var t=e+"";return t=="0"&&1/e==-jct?"-0":t}var y_e=v_e,Tct=y_e;function Act(e){return e==null?"":Tct(e)}var Fc=Act,Dct=Qr,Ict=c8,Pct=g_e,Oct=Fc;function Rct(e,t){return Dct(e)?e:Ict(e,t)?[e]:Pct(Oct(e))}var I0=Rct,$ct=sm,Mct=1/0;function Fct(e){if(typeof e=="string"||$ct(e))return e;var t=e+"";return t=="0"&&1/e==-Mct?"-0":t}var xm=Fct,Lct=I0,Bct=xm;function Nct(e,t){t=Lct(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Bct(t[n++])];return n&&n==r?e:void 0}var kw=Nct,zct=e8,Vct=a8,Hct=1,Uct=2;function Wct(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new zct;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?Vct(d,u,Hct|Uct,r,f):p))return!1}}return!0}var Yct=Wct,qct=Wa;function Gct(e){return e===e&&!qct(e)}var b_e=Gct,Kct=b_e,Zct=Qf;function Xct(e){for(var t=Zct(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Kct(o)]}return t}var Qct=Xct;function Jct(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var x_e=Jct,eut=Yct,tut=Qct,nut=x_e;function rut(e){var t=tut(e);return t.length==1&&t[0][2]?nut(t[0][0],t[0][1]):function(n){return n===e||eut(n,e,t)}}var out=rut,iut=kw;function sut(e,t,n){var r=e==null?void 0:iut(e,t);return r===void 0?n:r}var w_e=sut;const Wn=Pe(w_e);function aut(e,t){return e!=null&&t in Object(e)}var lut=aut,cut=I0,uut=Vj,dut=Qr,fut=Uj,hut=o8,put=xm;function mut(e,t,n){t=cut(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=put(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&hut(o)&&fut(s,o)&&(dut(e)||uut(e)))}var gut=mut,vut=lut,yut=gut;function but(e,t){return e!=null&&yut(e,t,vut)}var C_e=but,xut=a8,wut=w_e,Cut=C_e,_ut=c8,Sut=b_e,kut=x_e,Eut=xm,jut=1,Tut=2;function Aut(e,t){return _ut(e)&&Sut(t)?kut(Eut(e),t):function(n){var r=wut(n,e);return r===void 0&&r===t?Cut(n,e):xut(t,r,jut|Tut)}}var Dut=Aut;function Iut(e){return e}var wm=Iut;const __e=Pe(wm);function Put(e){return function(t){return t==null?void 0:t[e]}}var Out=Put,Rut=kw;function $ut(e){return function(t){return Rut(t,e)}}var Mut=$ut,Fut=Out,Lut=Mut,But=c8,Nut=xm;function zut(e){return But(e)?Fut(Nut(e)):Lut(e)}var Vut=zut,Hut=out,Uut=Dut,Wut=wm,Yut=Qr,qut=Vut;function Gut(e){return typeof e=="function"?e:e==null?Wut:typeof e=="object"?Yut(e)?Uut(e[0],e[1]):Hut(e):qut(e)}var Jf=Gut;function Kut(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var Zut=Kut,Xut=Zut,Qut=Xut(),Jut=Qut,edt=Jut,tdt=Qf;function ndt(e,t){return e&&edt(e,t,tdt)}var rdt=ndt,odt=Xf;function idt(e,t){return function(n,r){if(n==null)return n;if(!odt(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var sdt=idt,adt=rdt,ldt=sdt,cdt=ldt(adt),S_e=cdt,udt=S_e,ddt=Xf;function fdt(e,t){var n=-1,r=ddt(e)?Array(e.length):[];return udt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var k_e=fdt;function hdt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var pdt=hdt,yG=sm;function mdt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=yG(e),s=t!==void 0,a=t===null,c=t===t,u=yG(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var gdt=mdt,vdt=gdt;function ydt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=vdt(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bdt=ydt,OI=Mc,xdt=kw,wdt=Jf,Cdt=k_e,_dt=pdt,Sdt=T0,kdt=bdt,Edt=wm,jdt=Qr;function Tdt(e,t,n){t.length?t=OI(t,function(i){return jdt(i)?function(s){return xdt(s,i.length===1?i[0]:i)}:i}):t=[Edt];var r=-1;t=OI(t,Sdt(wdt));var o=Cdt(e,function(i,s,a){var c=OI(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return _dt(o,function(i,s){return kdt(i,s,n)})}var E_e=Tdt;function Adt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Ddt=Adt,Idt=Ddt,bG=Math.max;function Pdt(e,t,n){return t=bG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=bG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),Idt(e,this,a)}}var j_e=Pdt;function Odt(e){return function(){return e}}var Rdt=Odt,$dt=bm,Mdt=function(){try{var e=$dt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),T_e=Mdt,Fdt=Rdt,xG=T_e,Ldt=wm,Bdt=xG?function(e,t){return xG(e,"toString",{configurable:!0,enumerable:!1,value:Fdt(t),writable:!0})}:Ldt,Ndt=Bdt,zdt=800,Vdt=16,Hdt=Date.now;function Udt(e){var t=0,n=0;return function(){var r=Hdt(),o=Vdt-(r-n);if(n=r,o>0){if(++t>=zdt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wdt=Udt,Ydt=Ndt,qdt=Wdt,Gdt=qdt(Ydt),A_e=Gdt,Kdt=wm,Zdt=j_e,Xdt=A_e;function Qdt(e,t){return Xdt(Zdt(e,t,Kdt),e+"")}var P0=Qdt,Jdt=$j,eft=Xf,tft=Uj,nft=Wa;function rft(e,t,n){if(!nft(n))return!1;var r=typeof t;return(r=="number"?eft(n)&&tft(t,n.length):r=="string"&&t in n)?Jdt(n[t],e):!1}var d8=rft,oft=D0,ift=E_e,sft=P0,wG=d8,aft=sft(function(e,t){if(e==null)return[];var n=t.length;return n>1&&wG(e,t[0],t[1])?t=[]:n>2&&wG(t[0],t[1],t[2])&&(t=[t[0]]),ift(e,oft(t,1),[])}),lft=aft;const Cm=Pe(lft);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fk.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lk.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function RI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var cft=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uft=function(t){return t},D_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},dft=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},fft=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},hft=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},I_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},pft=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=Lk({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:uft,rangeExtractor:D_e,onChange:function(){},measureElement:hft,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Ym(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Ym(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Ym(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=mft({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Ym(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Ym(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(Lk({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Ym(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return RI(o[P_e(0,o.length-1,function(i){return RI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=RI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];cft(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},P_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function mft(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=P_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gft=typeof document<"u"?h.useLayoutEffect:h.useEffect;function vft(e){var t=h.useReducer(function(){return{}},{})[1],n=Fk({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new pft(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),gft(function(){return o._willUpdate()}),o}function O_e(e){return vft(Fk({observeElementRect:dft,observeElementOffset:fft,scrollToFn:I_e},e))}var yft=bft;function bft(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:Cft(a)?n?n(e,t):e===t:i?xft(e,t,n):wft(e,t,n)}function xft(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function wft(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function Cft(e){return e!=="function"&&e!=="object"}const zu=Pe(yft);var y$={exports:{}},$I,CG;function _ft(){if(CG)return $I;CG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;$I=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return $I}function Sft(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=_ft(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var k=m[b];C=S.call(g,k),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var kft=Sft;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=kft(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(y$,y$.exports);var Eft=y$.exports;const Hd=Pe(Eft);function jft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var R_e=jft;function Tft(e){return e!==e}var Aft=Tft;function Dft(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var Ift=Dft,Pft=R_e,Oft=Aft,Rft=Ift;function $ft(e,t,n){return t===t?Rft(e,t,n):Pft(e,Oft,n)}var f8=$ft,Mft=f8;function Fft(e,t){var n=e==null?0:e.length;return!!n&&Mft(e,t,0)>-1}var h8=Fft;function Lft(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var p8=Lft,Bft=Nj,Nft=h8,zft=p8,Vft=Mc,Hft=T0,Uft=zj,Wft=200;function Yft(e,t,n,r){var o=-1,i=Nft,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Vft(t,Hft(n))),r?(i=zft,s=!1):t.length>=Wft&&(i=Uft,s=!1,t=new Bft(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var $_e=Yft,qft=Xf,Gft=Ya;function Kft(e){return Gft(e)&&qft(e)}var Gj=Kft,Zft=$_e,Xft=D0,Qft=P0,_G=Gj,Jft=Qft(function(e,t){return _G(e)?Zft(e,Xft(t,1,_G,!0)):[]}),eht=Jft;const Vp=Pe(eht);var tht=Nj,nht=h8,rht=p8,oht=Mc,iht=T0,SG=zj,sht=Math.min;function aht(e,t,n){for(var r=n?rht:nht,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=oht(d,iht(t))),c=sht(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new tht(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?SG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?SG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var lht=aht,cht=Gj;function uht(e){return cht(e)?e:[]}var dht=uht,fht=Mc,hht=lht,pht=P0,mht=dht,ght=pht(function(e){var t=fht(e,mht);return t.length&&t[0]===e[0]?hht(t):[]}),vht=ght;const Bk=Pe(vht);var yht=JCe,bht=yht(Object.getPrototypeOf,Object),m8=bht,xht=Hf,wht=m8,Cht=Ya,_ht="[object Object]",Sht=Function.prototype,kht=Object.prototype,M_e=Sht.toString,Eht=kht.hasOwnProperty,jht=M_e.call(Object);function Tht(e){if(!Cht(e)||xht(e)!=_ht)return!1;var t=wht(e);if(t===null)return!0;var n=Eht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&M_e.call(n)==jht}var F_e=Tht;const _r=Pe(F_e);var kG=T_e;function Aht(e,t,n){t=="__proto__"&&kG?kG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Kj=Aht,Dht=Kj,Iht=$j,Pht=Object.prototype,Oht=Pht.hasOwnProperty;function Rht(e,t,n){var r=e[t];(!(Oht.call(e,t)&&Iht(r,n))||n===void 0&&!(t in e))&&Dht(e,t,n)}var g8=Rht,$ht=g8,Mht=I0,Fht=Uj,EG=Wa,Lht=xm;function Bht(e,t,n,r){if(!EG(e))return e;t=Mht(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=Lht(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=EG(d)?d:Fht(t[o+1])?[]:{})}$ht(a,c,u),a=a[c]}return e}var Nht=Bht,zht=kw,Vht=Nht,Hht=I0;function Uht(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=zht(e,s);n(a,s)&&Vht(i,Hht(s,e),a)}return i}var L_e=Uht,Wht=L_e,Yht=C_e;function qht(e,t){return Wht(e,t,function(n,r){return Yht(e,r)})}var Ght=qht,Kht=D0;function Zht(e){var t=e==null?0:e.length;return t?Kht(e,1):[]}var B_e=Zht;const In=Pe(B_e);var Xht=B_e,Qht=j_e,Jht=A_e;function ept(e){return Jht(Qht(e,void 0,Xht),e+"")}var v8=ept,tpt=Ght,npt=v8,rpt=npt(function(e,t){return e==null?{}:tpt(e,t)}),opt=rpt;const kt=Pe(opt),y8=ie.createContext(null);function Bl(){const e=h.useContext(y8);if(!e)throw new Error("Router: missing context value");return e}function ipt(e){return e.button===0}function spt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Bl();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(spt(a)||!ipt(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Ew(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Bl(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=b8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const _m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Ew({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=b8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});function apt(e,t,n){return n&&{...e,[t]:n}}function lpt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=Bl(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const c=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=apt(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(c(p)),[i,c]),d=h.useCallback(p=>s(c(p)),[s,c]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return l.jsx(y8.Provider,{value:f,children:t})}function cpt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(y8.Provider,{value:c,children:e.children})}const jG={};function N_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Bl(),a=h.useMemo(()=>s(i?jG:r||jG),[s,r,i]),{onClick:c}=b8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const Zj=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=N_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),upt=/^[a-zA-Z0-9_-]+$/;function dpt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!upt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function fpt(e){const[t]=e.split("?"),n=t.split("/").map(dpt).filter(Boolean);return{raw:e,segments:n}}const b$=Hd("state-router");function z_e(e){return Array.isArray(e)?e:e?[e]:[]}function hpt(e){return e.map(t=>{let[n,r]=t;return[ppt(n),r]})}const MI=1,TG=0;function ppt(e){const t=[];let n=0,r=TG;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===MI)throw new Error("Nested brackets not supported");r=MI,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===MI)throw new Error("Unclosed bracket");break}r=TG,t.push(e.slice(n+1,i)),n=i+1}return t}function V_e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?z_e(e.children(i)):e.children,d=gpt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[y]=g;return m.scope===y[0]}):d;return c=V_e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function mpt(e,t){b$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=V_e(e,n,hpt(o));return b$("resolved: %o",i||null),i||null}function gpt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function AG(e){return _r(e)}function FI(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function LI(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function H_e(e,t){if(!t)return LI(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),s=AG(o)?Object.keys(o):[],a=Bk(s,i),c=Vp(i,a),u=Vp(s,a);if(c.length>0)return FI(e,c,[]);const d=r.map(y=>{let[x,b]=y;return[[x],b]}),f=kt(o,a);if(u.length===0)return LI(e,f,d);const p=z_e((typeof e.children=="function"?e.children(AG(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return FI(e,[],u);const m=kt(o,u),g=p.map(y=>H_e(y,m)).find(y=>y.type==="ok");return g?LI(e,f,d,g):FI(e,[],u)}function U_e(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function vpt(e,t){b$("Resolving path from state %o",t);const n=H_e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(DG).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(DG).join(", ")))}const{path:r,searchParams:o}=W_e(n),i=o.length>0?bpt(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function ypt(e){return"[".concat(e,"]")}function bpt(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[Cpt(xpt(n)),wpt(r)].join("=")}).join("&")}function xpt(e){const[t,...n]=e;return n.length>0?[t,...n.map(ypt)].join(""):t}function wpt(e){return U_e(e,"/")}function Cpt(e){return U_e(e,"[]")}function W_e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?W_e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:_pt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function _pt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function DG(e){return'"'.concat(e,'"')}function Spt(e){return jpt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function kpt(e){return Apt(e.replace(/-/g,"+").replace(/_/g,"/"))}function Ept(e){return String.fromCharCode(parseInt(e.slice(1),16))}function jpt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,Ept))}function Tpt(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}function Apt(e){return decodeURIComponent(Array.from(atob(e),Tpt).join(""))}function Y_e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(kpt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function q_e(e){return e?Spt(JSON.stringify(e)):""}function Dpt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function Ipt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Hi={create:(e,t,n)=>RG(PG(e,t,n)),intents:e=>{const t=Opt(e).join("/");return Hi.create("".concat(t,"/:intent"),[Hi.create(":params",{transform:{params:{toState:Dpt,toPath:Ipt}}},[Hi.create(":payload",{transform:{payload:{toState:Y_e,toPath:q_e}}})])])},scope(e,t,n,r){const o=PG(t,n,r);return RG({...o,scope:e})}};function IG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Ppt(e){return e&&"_isRoute"in e}function PG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Ppt(t)?{path:e,children:IG(t)}:n?{path:e,...t,children:IG(n)}:{path:e,...t}}function Opt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const Rpt={};function OG(e){return e.split("/").every(t=>!t)}function RG(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=fpt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return vpt(this,a)},decode(a){return mpt(this,a)},isRoot:OG,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(Rpt)},getRedirectBase(a){if(OG(a)){const c=this.getBasePath();if(a!==c)return c}return null}}}function Xj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:__e;const{state:t}=Bl();return h.useMemo(()=>e(t),[e,t])}function $pt(e){function t(n){const r=Bl();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}$pt(e=>e.children(e.router));function Mpt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tx.apply(this,arguments)}var x$="data-focus-lock",G_e="data-focus-lock-disabled",Fpt="data-no-focus-lock",Lpt="data-autofocus-inside",Bpt="data-no-autofocus";function Npt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zpt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function Vpt(e,t){return zpt(t||null,function(n){return e.forEach(function(r){return Npt(r,n)})})}var BI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},w$=function(){return w$=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w$.apply(this,arguments)};function K_e(e){return e}function Z_e(e,t){t===void 0&&(t=K_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function x8(e,t){return t===void 0&&(t=K_e),Z_e(e,t)}function Hpt(e){e===void 0&&(e={});var t=Z_e(null);return t.options=w$({async:!0,ssr:!1},e),t}var X_e=x8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),Q_e=x8(),Upt=x8(),Wpt=Hpt({async:!0}),Ypt=[],w8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?Ypt:C,S=t.as,k=S===void 0?"div":S,j=t.lockProps,E=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,$=h.useState({}),R=$[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),N=h.useCallback(function(){c.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var H=h.useCallback(function(X){var Q=u.current;if(Q&&Q.focus){var ne=typeof A=="function"?A(Q):A;if(ne){var K=typeof ne=="object"?ne:void 0;u.current=null,X?Promise.resolve().then(function(){return Q.focus(K)}):Q.focus(K)}}},[A]),G=h.useCallback(function(X){c.current&&X_e.useMedium(X)},[]),U=Q_e.useMedium,q=h.useCallback(function(X){a.current!==X&&(a.current=X,s(X))},[]),Z=tx((r={},r[G_e]=f&&"disabled",r[x$]=y,r),E),B=p!==!0,W=B&&p!=="tail",z=Vpt([n,q]);return h.createElement(h.Fragment,null,B&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:BI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:BI}):null],!f&&h.createElement(T,{id:R,sideCar:Wpt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:V,onDeactivation:N,returnFocus:H,focusOptions:D}),h.createElement(k,tx({ref:z},Z,{className:x,onBlur:U,onFocus:G}),d),W&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:BI}))});w8.propTypes={};w8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const J_e=w8;function C$(e,t){return C$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},C$(e,t)}function qpt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C$(e,t)}function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function Gpt(e,t){if(nx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kpt(e){var t=Gpt(e,"string");return nx(t)==="symbol"?t:String(t)}function Zpt(e,t,n){return t=Kpt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xpt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){qpt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ie.createElement(o,this.props)},d}(h.PureComponent);return Zpt(c,"displayName","SideEffect("+n(o)+")"),c}}var Lc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Nk=function(e){return Array.isArray(e)?e:[e]},e2e=function(e){return Array.isArray(e)?e[0]:e},Qpt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},t2e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},n2e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Jpt=function(e,t){return!e||n2e(e)||!Qpt(e)&&t(t2e(e))},r2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Jpt(t,r2e.bind(void 0,e));return e.set(t,r),r},emt=function(e,t){return e&&!n2e(e)?rmt(e)?t(t2e(e)):!1:!0},o2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=emt(t,o2e.bind(void 0,e));return e.set(t,r),r},i2e=function(e){return e.dataset},tmt=function(e){return e.tagName==="BUTTON"},s2e=function(e){return e.tagName==="INPUT"},a2e=function(e){return s2e(e)&&e.type==="radio"},nmt=function(e){return!((s2e(e)||tmt(e))&&(e.type==="hidden"||e.disabled))},rmt=function(e){var t=e.getAttribute(Bpt);return![!0,"true",""].includes(t)},C8=function(e){var t;return!!(e&&(!((t=i2e(e))===null||t===void 0)&&t.focusGuard))},zk=function(e){return!C8(e)},omt=function(e){return!!e},imt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},l2e=function(e,t,n){return Lc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(imt)},smt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],_8=smt.join(","),amt="".concat(_8,", [data-focus-guard]"),c2e=function(e,t){return Lc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?amt:_8)?[r]:[],c2e(r))},[])},lmt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?Qj([e.contentDocument.body],t):[e]},Qj=function(e,t){return e.reduce(function(n,r){var o,i=c2e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return lmt(a,t)}));return n.concat(s,r.parentNode?Lc(r.parentNode.querySelectorAll(_8)).filter(function(a){return a===r}):[])},[])},cmt=function(e){var t=e.querySelectorAll("[".concat(Lpt,"]"));return Lc(t).map(function(n){return Qj([n])}).reduce(function(n,r){return n.concat(r)},[])},S8=function(e,t){return Lc(e).filter(function(n){return r2e(t,n)}).filter(function(n){return nmt(n)})},$G=function(e,t){return t===void 0&&(t=new Map),Lc(e).filter(function(n){return o2e(t,n)})},_$=function(e,t,n){return l2e(S8(Qj(e,n),t),!0,n)},MG=function(e,t){return l2e(S8(Qj(e),t),!1)},umt=function(e,t){return S8(cmt(e),t)},nv=function(e,t){return e.shadowRoot?nv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Lc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?nv(o,t):!1}return nv(n,t)})},dmt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},u2e=function(e){return e.parentNode?u2e(e.parentNode):e},k8=function(e){var t=Nk(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(x$);return n.push.apply(n,o?dmt(Lc(u2e(r).querySelectorAll("[".concat(x$,'="').concat(o,'"]:not([').concat(G_e,'="disabled"])')))):[r]),n},[])},fmt=function(e){try{return e()}catch{return}},rx=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?rx(t.shadowRoot):t instanceof HTMLIFrameElement&&fmt(function(){return t.contentWindow.document})?rx(t.contentWindow.document):t}},hmt=function(e,t){return e===t},pmt=function(e,t){return!!Lc(e.querySelectorAll("iframe")).some(function(n){return hmt(n,t)})},d2e=function(e,t){return t===void 0&&(t=rx(e2e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:k8(e).some(function(n){return nv(n,t)||pmt(n,t)})},mmt=function(e){e===void 0&&(e=document);var t=rx(e);return t?Lc(e.querySelectorAll("[".concat(Fpt,"]"))).some(function(n){return nv(n,t)}):!1},gmt=function(e,t){return t.filter(a2e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},E8=function(e,t){return a2e(e)&&e.name?gmt(e,t):e},vmt=function(e){var t=new Set;return e.forEach(function(n){return t.add(E8(n,e))}),e.filter(function(n){return t.has(n)})},FG=function(e){return e[0]&&e.length>1?E8(e[0],e):e[0]},LG=function(e,t){return e.length>1?e.indexOf(E8(e[t],e)):t},f2e="NEW_FOCUS",ymt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=C8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=vmt(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):c),x=LG(e,0),b=LG(e,o-1);if(c===-1||d===-1)return f2e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return b;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(c<=p)return b;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},bmt=function(e){return function(t){var n,r=(n=i2e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},xmt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=$G(r.filter(bmt(n)));return o&&o.length?FG(o):FG($G(t))},S$=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&S$(e.parentNode.host||e.parentNode,t),t},NI=function(e,t){for(var n=S$(e),r=S$(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},h2e=function(e,t,n){var r=Nk(e),o=Nk(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=NI(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=NI(i,c);u&&(!s||nv(u,s)?s=u:s=NI(u,s))})}),s},wmt=function(e,t){return e.reduce(function(n,r){return n.concat(umt(r,t))},[])},Cmt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(omt)},_mt=function(e,t){var n=rx(Nk(e).length>0?document:e2e(e).ownerDocument),r=k8(e).filter(zk),o=h2e(n||e,e,r),i=new Map,s=MG(r,i),a=_$(r,i).filter(function(m){var v=m.node;return zk(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=MG([o],i).map(function(m){var v=m.node;return v}),u=Cmt(c,a),d=u.map(function(m){var v=m.node;return v}),f=ymt(d,c,n,t);if(f===f2e){var p=xmt(s,d,wmt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},Smt=function(e){var t=k8(e).filter(zk),n=h2e(e,e,t),r=new Map,o=_$([n],r,!0),i=_$(t,r).filter(function(s){var a=s.node;return zk(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:C8(a)}})},kmt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},zI=0,VI=!1,p2e=function(e,t,n){n===void 0&&(n={});var r=_mt(e,t);if(!VI&&r){if(zI>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),VI=!0,setTimeout(function(){VI=!1},1);return}zI++,kmt(r.node,n.focusOptions),zI--}};function j8(e){setTimeout(e,1)}var Emt=function(){return document&&document.activeElement===document.body},jmt=function(){return Emt()||mmt()},rv=null,Fg=null,ov=null,ox=!1,Tmt=function(){return!0},Amt=function(t){return(rv.whiteList||Tmt)(t)},Dmt=function(t,n){ov={observerNode:t,portaledElement:n}},Imt=function(t){return ov&&ov.portaledElement===t};function BG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Pmt=function(t){return t&&"current"in t?t.current:t},Omt=function(t){return t?!!ox:ox==="meanwhile"},Rmt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},$mt=function(t,n){return n.some(function(r){return Rmt(t,r,r)})},Vk=function(){var t=!1;if(rv){var n=rv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||ov&&ov.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(Pmt).filter(Boolean));if((!d||Amt(d))&&(o||Omt(a)||!jmt()||!Fg&&i)&&(u&&!(d2e(f)||d&&$mt(d,f)||Imt(d))&&(document&&!Fg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=p2e(f,Fg,{focusOptions:c}),ov={})),ox=!1,Fg=document&&document.activeElement),document){var p=document&&document.activeElement,m=Smt(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),BG(v,m.length,1,m),BG(v,-1,-1,m))}}}return t},m2e=function(t){Vk()&&t&&(t.stopPropagation(),t.preventDefault())},T8=function(){return j8(Vk)},Mmt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Dmt(r,n)},Fmt=function(){return null},g2e=function(){ox="just",j8(function(){ox="meanwhile"})},Lmt=function(){document.addEventListener("focusin",m2e),document.addEventListener("focusout",T8),window.addEventListener("blur",g2e)},Bmt=function(){document.removeEventListener("focusin",m2e),document.removeEventListener("focusout",T8),window.removeEventListener("blur",g2e)};function Nmt(e){return e.filter(function(t){var n=t.disabled;return!n})}function zmt(e){var t=e.slice(-1)[0];t&&!rv&&Lmt();var n=rv,r=n&&t&&t.id===n.id;rv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Fg=null,(!r||n.observed!==t.observed)&&t.onActivation(),Vk(),j8(Vk)):(Bmt(),Fg=null)}X_e.assignSyncMedium(Mmt);Q_e.assignMedium(T8);Upt.assignMedium(function(e){return e({moveFocusInside:p2e,focusInside:d2e})});const Vmt=Xpt(Nmt,zmt)(Fmt);var v2e=h.forwardRef(function(t,n){return h.createElement(J_e,tx({sideCar:Vmt,ref:n},t))}),y2e=J_e.propTypes||{};y2e.sideCar;Mpt(y2e,["sideCar"]);v2e.propTypes={};const eh=v2e;var b2e={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object")if(i.toString===Object.prototype.toString)for(var c in i)t.call(i,c)&&i[c]&&r.push(c);else r.push(i.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(b2e);var Hmt=b2e.exports;const Umt=Pe(Hmt);function Sm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}var x2e={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=Symbol.for("react.element"),D8=Symbol.for("react.portal"),Jj=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),tT=Symbol.for("react.profiler"),nT=Symbol.for("react.provider"),rT=Symbol.for("react.context"),Wmt=Symbol.for("react.server_context"),oT=Symbol.for("react.forward_ref"),iT=Symbol.for("react.suspense"),sT=Symbol.for("react.suspense_list"),aT=Symbol.for("react.memo"),lT=Symbol.for("react.lazy"),Ymt=Symbol.for("react.offscreen"),w2e;w2e=Symbol.for("react.module.reference");function Ka(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case A8:switch(e=e.type,e){case Jj:case tT:case eT:case iT:case sT:return e;default:switch(e=e&&e.$$typeof,e){case Wmt:case rT:case oT:case lT:case aT:case nT:return e;default:return t}}case D8:return t}}}kn.ContextConsumer=rT;kn.ContextProvider=nT;kn.Element=A8;kn.ForwardRef=oT;kn.Fragment=Jj;kn.Lazy=lT;kn.Memo=aT;kn.Portal=D8;kn.Profiler=tT;kn.StrictMode=eT;kn.Suspense=iT;kn.SuspenseList=sT;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return Ka(e)===rT};kn.isContextProvider=function(e){return Ka(e)===nT};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===A8};kn.isForwardRef=function(e){return Ka(e)===oT};kn.isFragment=function(e){return Ka(e)===Jj};kn.isLazy=function(e){return Ka(e)===lT};kn.isMemo=function(e){return Ka(e)===aT};kn.isPortal=function(e){return Ka(e)===D8};kn.isProfiler=function(e){return Ka(e)===tT};kn.isStrictMode=function(e){return Ka(e)===eT};kn.isSuspense=function(e){return Ka(e)===iT};kn.isSuspenseList=function(e){return Ka(e)===sT};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jj||e===tT||e===eT||e===iT||e===sT||e===Ymt||typeof e=="object"&&e!==null&&(e.$$typeof===lT||e.$$typeof===aT||e.$$typeof===nT||e.$$typeof===rT||e.$$typeof===oT||e.$$typeof===w2e||e.getModuleId!==void 0)};kn.typeOf=Ka;x2e.exports=kn;var Nl=x2e.exports;const qmt="modulepreload",Gmt=function(e){return"/"+e},NG={},C2e=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Gmt(i),i in NG)return;NG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":qmt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Kmt=typeof navigator>"u"?!1:navigator.product==="ReactNative",_2e={timeout:Kmt?6e4:12e4},Zmt=function(t){const n={..._2e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=S2e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function S2e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?S2e(_2e.timeout):{connect:t,socket:t}}const Xmt=/^https?:\/\//i,Qmt=function(t){if(!Xmt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var HI=function(e){return e.replace(/^\s+|\s+$/g,"")},Jmt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},egt=function(e){if(!e)return{};for(var t={},n=HI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=HI(o.slice(0,i)).toLowerCase(),a=HI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:Jmt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const tgt=Pe(egt),ngt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function rgt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const ogt=["request","response","progress","error","abort"],zG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function k2e(e,t){const n=[],r=zG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[Zmt],validateOptions:[Qmt]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=c("onResponse",g,y)}catch(w){b=null,x=w}x=x&&c("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=ogt.reduce((v,g)=>(v[g]=rgt(),v),{}),c=ngt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return zG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>k2e(n,t),e.forEach(o.use),o}var E2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ma=(e,t,n)=>(E2e(e,t,"read from private field"),n?n.call(e):t.get(e)),yh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yd=(e,t,n,r)=>(E2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),z2,V2,lg,H2,Sd,U2,W2;class j2e{constructor(){this.readyState=0,this.responseType="",yh(this,z2,void 0),yh(this,V2,void 0),yh(this,lg,void 0),yh(this,H2,{}),yh(this,Sd,void 0),yh(this,U2,{}),yh(this,W2,void 0)}open(t,n,r){yd(this,z2,t),yd(this,V2,n),yd(this,lg,""),this.readyState=1,this.onreadystatechange(),yd(this,Sd,void 0)}abort(){ma(this,Sd)&&ma(this,Sd).abort()}getAllResponseHeaders(){return ma(this,lg)}setRequestHeader(t,n){ma(this,H2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;yd(this,U2,t),yd(this,W2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ma(this,U2),method:ma(this,z2),headers:ma(this,H2),body:t};typeof AbortController=="function"&&ma(this,W2)&&(yd(this,Sd,new AbortController),typeof EventTarget<"u"&&ma(this,Sd).signal instanceof EventTarget&&(r.signal=ma(this,Sd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ma(this,V2),r).then(o=>(o.headers.forEach((i,s)=>{yd(this,lg,ma(this,lg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}z2=new WeakMap;V2=new WeakMap;lg=new WeakMap;H2=new WeakMap;Sd=new WeakMap;U2=new WeakMap;W2=new WeakMap;const k$=typeof XMLHttpRequest=="function"?"xhr":"fetch",igt=k$==="xhr"?XMLHttpRequest:j2e,sgt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:k$,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new igt;a instanceof j2e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:k$,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:tgt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},agt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sgt;return k2e(e,t)};var VG={exports:{}},UI,HG;function lgt(){if(HG)return UI;HG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;UI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return UI}function cgt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=lgt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,k)=>{if(S==="%%")return"%";C++;const j=n.formatters[k];if(typeof j=="function"){const E=y[C];S=j.call(x,E),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var ugt=cgt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=ugt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(VG,VG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function UG(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ko(e){var t,n;return UG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(UG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const dgt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),fgt=["boolean","string","number"];function hgt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!dgt(t)&&(fgt.indexOf(typeof t)!==-1||Array.isArray(t)||Ko(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function pgt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let gy={};typeof globalThis<"u"?gy=globalThis:typeof window<"u"?gy=window:typeof global<"u"?gy=global:typeof self<"u"&&(gy=self);var mgt=gy;function ggt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||mgt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function vgt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class ygt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const WG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new ygt(r),n(this.reason))})}};WG.source=()=>{let e;return{token:new WG(n=>{e=n}),cancel:e}};var T2e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const bgt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var xgt=e=>{const t=e.maxRetries||5,n=e.retryDelay||wgt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(bgt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function wgt(e){return 100*Math.pow(2,e)+Math.random()*100}const I8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return xgt({shouldRetry:T2e,...e})};I8.shouldRetry=T2e;const WI=5;class Cgt extends Error{constructor(t){const n=A2e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class _gt extends Error{constructor(t){const n=A2e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function A2e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:Egt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(Sgt(t)){const r=t.error.items||[],o=r.slice(0,WI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>WI&&(i+=`
...and `.concat(r.length-WI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||kgt(e),n)}function Sgt(e){return YG(e)&&YG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function YG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function kgt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function Egt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const jgt={onResponse:e=>{if(e.statusCode>=500)throw new _gt(e);if(e.statusCode>=400)throw new Cgt(e);return e}},Tgt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function qG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=agt([n>0?I8({retryDelay:r,maxRetries:n,shouldRetry:Agt}):{},...e,Tgt,hgt(),pgt(),vgt(),jgt,ggt({implementation:gt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function Agt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:I8.shouldRetry(e,t,n)}function D2e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const GG=["image","file"],KG=["before","after","replace"],I2e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Dgt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Igt=e=>{if(GG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(GG.join(", ")))},eb=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},P2e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},Hk=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));P2e(e,t._id)},Pgt=(e,t,n)=>{const r="insert(at, selector, items)";if(KG.indexOf(e)===-1){const o=KG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},O2e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},R2e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var $2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},iv=(e,t,n)=>($2e(e,t,"read from private field"),n?n.call(e):t.get(e)),M2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},F2e=(e,t,n,r)=>($2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cg,ug;class L2e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return eb("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return Pgt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...D2e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return eb(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const Ogt=class B2e extends L2e{constructor(t,n,r){super(t,n),M2e(this,cg,void 0),F2e(this,cg,r)}clone(){return new B2e(this.selection,{...this.operations},iv(this,cg))}commit(t){if(!iv(this,cg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return iv(this,cg).mutate({patch:this.serialize()},r)}};cg=new WeakMap;let tb=Ogt;const Rgt=class N2e extends L2e{constructor(t,n,r){super(t,n),M2e(this,ug,void 0),F2e(this,ug,r)}clone(){return new N2e(this.selection,{...this.operations},iv(this,ug))}commit(t){if(!iv(this,ug))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return iv(this,ug).mutate({patch:this.serialize()},r)}};ug=new WeakMap;let nb=Rgt;var z2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ud=(e,t,n)=>(z2e(e,t,"read from private field"),n?n.call(e):t.get(e)),V2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},H2e=(e,t,n,r)=>(z2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Oh,Rh;const U2e={returnDocuments:!1};class W2e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return eb("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return eb(n,t),Hk(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return eb(n,t),Hk(n,t),this._add({[n]:t})}delete(t){return P2e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const $gt=class Y2e extends W2e{constructor(t,n,r){super(t,r),V2e(this,Oh,void 0),H2e(this,Oh,n)}clone(){return new Y2e([...this.operations],Ud(this,Oh),this.trxId)}commit(t){if(!Ud(this,Oh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ud(this,Oh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},U2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof nb)return this._add({patch:t.serialize()});if(r){const i=n(new nb(t,{},Ud(this,Oh)));if(!(i instanceof nb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Oh=new WeakMap;let q2e=$gt;const Mgt=class G2e extends W2e{constructor(t,n,r){super(t,r),V2e(this,Rh,void 0),H2e(this,Rh,n)}clone(){return new G2e([...this.operations],Ud(this,Rh),this.trxId)}commit(t){if(!Ud(this,Rh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ud(this,Rh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},U2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof tb)return this._add({patch:t.serialize()});if(r){const i=n(new tb(t,{},Ud(this,Rh)));if(!(i instanceof tb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Rh=new WeakMap;let K2e=Mgt;const Fgt="https://www.sanity.io/help/";function P8(e){return Fgt+e}function Lgt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const cT=e=>Lgt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),Bgt=cT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Ngt=cT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),zgt=cT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(P8("js-client-browser-token")," for more information and how to hide this warning.")]),Vgt=cT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(P8("js-client-api-version"))]),Hgt="apicdn.sanity.io",Uk={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Ugt=["localhost","127.0.0.1","0.0.0.0"],Wgt=e=>Ugt.indexOf(e)!==-1,Ygt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Z2e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},X2e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||Vgt();const r=Object.assign({},Uk,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=P8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&Z2e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&Wgt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?zgt():typeof r.useCdn>"u"&&Bgt(),o&&Dgt(r.projectId),r.dataset&&I2e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?R2e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===Uk.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,Ygt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?Hgt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},qgt="X-Sanity-Project-ID";function Ggt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[qgt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const Q2e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},Kgt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Zgt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:Kgt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},O8=e=>e.type==="response",Xgt=e=>e.body,Qgt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Jgt=11264;function J2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if("stega"in o&&o.stega!==void 0&&o.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'fetch' to 'false'.");const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return jw(e,t,"query",{query:n,params:r},u).pipe(ue(i))}function eSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:O0(e,"doc",n),json:!0,tag:r.tag};return Tw(e,t,o).pipe(mt(O8),ue(i=>i.body.documents&&i.body.documents[0]))}function tSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:O0(e,"doc",n.join(",")),json:!0,tag:r.tag};return Tw(e,t,o).pipe(mt(O8),ue(i=>{const s=Qgt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function nSe(e,t,n,r){return Hk("createIfNotExists",n),uT(e,t,n,"createIfNotExists",r)}function rSe(e,t,n,r){return Hk("createOrReplace",n),uT(e,t,n,"createOrReplace",r)}function oSe(e,t,n,r){return jw(e,t,"mutate",{mutations:[{delete:D2e(n)}]},r)}function iSe(e,t,n,r){let o;n instanceof nb||n instanceof tb?o={patch:n.serialize()}:n instanceof q2e||n instanceof K2e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return jw(e,t,"mutate",{mutations:i,transactionId:s},r)}function jw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":Q2e(r),c=!i&&a.length<Jgt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=O0(e,n,u),y={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&Zgt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return Tw(e,t,y).pipe(mt(O8),ue(Xgt),ue(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function uT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return jw(e,t,"mutate",{mutations:[i]},s)}function Tw(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:R2e(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(Z2e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,Ngt()))}const u=Ggt(i,Object.assign({},n,{url:R8(e,o,a)})),d=new gt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(evt(n.signal)):d}function Dl(e,t,n){return Tw(e,t,n).pipe(mt(o=>o.type==="response"),ue(o=>o.body))}function O0(e,t,n){const r=e.config(),o=O2e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function R8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function evt(e){return t=>new gt(n=>{const r=()=>n.error(nvt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const tvt=!!globalThis.DOMException;function nvt(e){var t,n;if(tvt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var sSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Wk=(e,t,n)=>(sSe(e,t,"read from private field"),n?n.call(e):t.get(e)),Yk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},qk=(e,t,n,r)=>(sSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Y2,q2,G2,K2;class rvt{constructor(t,n){Yk(this,Y2,void 0),Yk(this,q2,void 0),qk(this,Y2,t),qk(this,q2,n)}upload(t,n,r){return aSe(Wk(this,Y2),Wk(this,q2),t,n,r)}}Y2=new WeakMap;q2=new WeakMap;class ovt{constructor(t,n){Yk(this,G2,void 0),Yk(this,K2,void 0),qk(this,G2,t),qk(this,K2,n)}upload(t,n,r){const o=aSe(Wk(this,G2),Wk(this,K2),t,n,r);return bo(o.pipe(mt(i=>i.type==="response"),ue(i=>i.body.document)))}}G2=new WeakMap;K2=new WeakMap;function aSe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Igt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=O2e(e.config()),a=n==="image"?"images":"files",c=ivt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),Tw(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:y,body:r})}function ivt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var svt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const avt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),lvt=16e3-1200,cvt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],uvt={includeResult:!0};function lSe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...svt(n,uvt),tag:a},u=avt(c,cvt),d=Q2e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(O0(this,"listen",d));if(f.length>lvt)return new gt(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new gt(g=>{let y;E().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(k(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(dvt(D))}function _(D){const I=cSe(D);return I instanceof Error?g.error(I):g.next(I)}function S(){b=!0,k(),g.complete()}function k(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function E(){const{default:D}=await C2e(()=>import("./browser-ef81891d.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,_)),I}function T(){E().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,k()}return A})}function cSe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function dvt(e){if(e instanceof Error)return e;const t=cSe(e);return t instanceof Error?t:new Error(fvt(t))}function fvt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var uSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},vi=(e,t,n)=>(uSe(e,t,"read from private field"),n?n.call(e):t.get(e)),Gk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Kk=(e,t,n,r)=>(uSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$h,Mh,Fh,Lh;class hvt{constructor(t,n){Gk(this,$h,void 0),Gk(this,Mh,void 0),Kk(this,$h,t),Kk(this,Mh,n)}create(t,n){return sv(vi(this,$h),vi(this,Mh),"PUT",t,n)}edit(t,n){return sv(vi(this,$h),vi(this,Mh),"PATCH",t,n)}delete(t){return sv(vi(this,$h),vi(this,Mh),"DELETE",t)}list(){return Dl(vi(this,$h),vi(this,Mh),{uri:"/datasets",tag:null})}}$h=new WeakMap;Mh=new WeakMap;class pvt{constructor(t,n){Gk(this,Fh,void 0),Gk(this,Lh,void 0),Kk(this,Fh,t),Kk(this,Lh,n)}create(t,n){return bo(sv(vi(this,Fh),vi(this,Lh),"PUT",t,n))}edit(t,n){return bo(sv(vi(this,Fh),vi(this,Lh),"PATCH",t,n))}delete(t){return bo(sv(vi(this,Fh),vi(this,Lh),"DELETE",t))}list(){return bo(Dl(vi(this,Fh),vi(this,Lh),{uri:"/datasets",tag:null}))}}Fh=new WeakMap;Lh=new WeakMap;function sv(e,t,n,r,o){return I2e(r),Dl(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var dSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Wd=(e,t,n)=>(dSe(e,t,"read from private field"),n?n.call(e):t.get(e)),Zk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xk=(e,t,n,r)=>(dSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vy,yy,by,xy;class mvt{constructor(t,n){Zk(this,vy,void 0),Zk(this,yy,void 0),Xk(this,vy,t),Xk(this,yy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Dl(Wd(this,vy),Wd(this,yy),{uri:n})}getById(t){return Dl(Wd(this,vy),Wd(this,yy),{uri:"/projects/".concat(t)})}}vy=new WeakMap;yy=new WeakMap;class gvt{constructor(t,n){Zk(this,by,void 0),Zk(this,xy,void 0),Xk(this,by,t),Xk(this,xy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return bo(Dl(Wd(this,by),Wd(this,xy),{uri:n}))}getById(t){return bo(Dl(Wd(this,by),Wd(this,xy),{uri:"/projects/".concat(t)}))}}by=new WeakMap;xy=new WeakMap;var fSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Qk=(e,t,n)=>(fSe(e,t,"read from private field"),n?n.call(e):t.get(e)),Jk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},eE=(e,t,n,r)=>(fSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Z2,X2,Q2,J2;class vvt{constructor(t,n){Jk(this,Z2,void 0),Jk(this,X2,void 0),eE(this,Z2,t),eE(this,X2,n)}getById(t){return Dl(Qk(this,Z2),Qk(this,X2),{uri:"/users/".concat(t)})}}Z2=new WeakMap;X2=new WeakMap;class yvt{constructor(t,n){Jk(this,Q2,void 0),Jk(this,J2,void 0),eE(this,Q2,t),eE(this,J2,n)}getById(t){return bo(Dl(Qk(this,Q2),Qk(this,J2),{uri:"/users/".concat(t)}))}}Q2=new WeakMap;J2=new WeakMap;var hSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},It=(e,t,n)=>(hSe(e,t,"read from private field"),n?n.call(e):t.get(e)),tE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},nE=(e,t,n,r)=>(hSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bh,Ao,Nh,yo;const bvt=class E${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uk;tE(this,Bh,void 0),tE(this,Ao,void 0),this.listen=lSe,this.config(n),nE(this,Ao,t),this.assets=new rvt(this,It(this,Ao)),this.datasets=new hvt(this,It(this,Ao)),this.projects=new mvt(this,It(this,Ao)),this.users=new vvt(this,It(this,Ao))}clone(){return new E$(It(this,Ao),this.config())}config(t){if(t===void 0)return{...It(this,Bh)};if(It(this,Bh)&&It(this,Bh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return nE(this,Bh,X2e(t,It(this,Bh)||{})),this}withConfig(t){return new E$(It(this,Ao),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return J2e(this,It(this,Ao),t,n,r)}getDocument(t,n){return eSe(this,It(this,Ao),t,n)}getDocuments(t,n){return tSe(this,It(this,Ao),t,n)}create(t,n){return uT(this,It(this,Ao),t,"create",n)}createIfNotExists(t,n){return nSe(this,It(this,Ao),t,n)}createOrReplace(t,n){return rSe(this,It(this,Ao),t,n)}delete(t,n){return oSe(this,It(this,Ao),t,n)}mutate(t,n){return iSe(this,It(this,Ao),t,n)}patch(t,n){return new tb(t,n,this)}transaction(t){return new K2e(t,this)}request(t){return Dl(this,It(this,Ao),t)}getUrl(t,n){return R8(this,t,n)}getDataUrl(t,n){return O0(this,t,n)}};Bh=new WeakMap;Ao=new WeakMap;let xvt=bvt;const wvt=class j${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uk;tE(this,Nh,void 0),tE(this,yo,void 0),this.listen=lSe,this.config(n),nE(this,yo,t),this.assets=new ovt(this,It(this,yo)),this.datasets=new pvt(this,It(this,yo)),this.projects=new gvt(this,It(this,yo)),this.users=new yvt(this,It(this,yo)),this.observable=new xvt(t,n)}clone(){return new j$(It(this,yo),this.config())}config(t){if(t===void 0)return{...It(this,Nh)};if(It(this,Nh)&&It(this,Nh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),nE(this,Nh,X2e(t,It(this,Nh)||{})),this}withConfig(t){return new j$(It(this,yo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return bo(J2e(this,It(this,yo),t,n,r))}getDocument(t,n){return bo(eSe(this,It(this,yo),t,n))}getDocuments(t,n){return bo(tSe(this,It(this,yo),t,n))}create(t,n){return bo(uT(this,It(this,yo),t,"create",n))}createIfNotExists(t,n){return bo(nSe(this,It(this,yo),t,n))}createOrReplace(t,n){return bo(rSe(this,It(this,yo),t,n))}delete(t,n){return bo(oSe(this,It(this,yo),t,n))}mutate(t,n){return bo(iSe(this,It(this,yo),t,n))}patch(t,n){return new nb(t,n,this)}transaction(t){return new q2e(t,this)}request(t){return bo(Dl(this,It(this,yo),t))}dataRequest(t,n,r){return bo(jw(this,It(this,yo),t,n,r))}getUrl(t,n){return R8(this,t,n)}getDataUrl(t,n){return O0(this,t,n)}};Nh=new WeakMap;yo=new WeakMap;let Cvt=wvt;function _vt(e,t){return{requester:qG(e,{}).defaultRequester,createClient:i=>new t(qG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Svt=[];const kvt=_vt(Svt,Cvt),pSe=kvt.createClient;var Evt=$8;$8.displayName="bash";$8.aliases=["shell"];function $8(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const jvt=Pe(Evt);var Tvt=M8;M8.displayName="json";M8.aliases=["webmanifest"];function M8(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const Avt=Pe(Tvt);var Dvt=F8;F8.displayName="jsx";F8.aliases=[];function F8(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const Ivt=Pe(Dvt);var Pvt=L8;L8.displayName="typescript";L8.aliases=["ts"];function L8(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const Ovt=Pe(Pvt);function Rvt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var $vt=Rvt;function Mvt(e){return function(t){return e==null?void 0:e[t]}}var Fvt=Mvt,Lvt=Fvt,Bvt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Nvt=Lvt(Bvt),zvt=Nvt,Vvt=zvt,Hvt=Fc,Uvt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wvt="\\u0300-\\u036f",Yvt="\\ufe20-\\ufe2f",qvt="\\u20d0-\\u20ff",Gvt=Wvt+Yvt+qvt,Kvt="["+Gvt+"]",Zvt=RegExp(Kvt,"g");function Xvt(e){return e=Hvt(e),e&&e.replace(Uvt,Vvt).replace(Zvt,"")}var mSe=Xvt;const ZG=Pe(mSe);var Qvt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Jvt(e){return e.match(Qvt)||[]}var e0t=Jvt,t0t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n0t(e){return t0t.test(e)}var r0t=n0t,gSe="\\ud800-\\udfff",o0t="\\u0300-\\u036f",i0t="\\ufe20-\\ufe2f",s0t="\\u20d0-\\u20ff",a0t=o0t+i0t+s0t,vSe="\\u2700-\\u27bf",ySe="a-z\\xdf-\\xf6\\xf8-\\xff",l0t="\\xac\\xb1\\xd7\\xf7",c0t="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",u0t="\\u2000-\\u206f",d0t=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bSe="A-Z\\xc0-\\xd6\\xd8-\\xde",f0t="\\ufe0e\\ufe0f",xSe=l0t+c0t+u0t+d0t,wSe="[']",XG="["+xSe+"]",h0t="["+a0t+"]",CSe="\\d+",p0t="["+vSe+"]",_Se="["+ySe+"]",SSe="[^"+gSe+xSe+CSe+vSe+ySe+bSe+"]",m0t="\\ud83c[\\udffb-\\udfff]",g0t="(?:"+h0t+"|"+m0t+")",v0t="[^"+gSe+"]",kSe="(?:\\ud83c[\\udde6-\\uddff]){2}",ESe="[\\ud800-\\udbff][\\udc00-\\udfff]",dg="["+bSe+"]",y0t="\\u200d",QG="(?:"+_Se+"|"+SSe+")",b0t="(?:"+dg+"|"+SSe+")",JG="(?:"+wSe+"(?:d|ll|m|re|s|t|ve))?",eK="(?:"+wSe+"(?:D|LL|M|RE|S|T|VE))?",jSe=g0t+"?",TSe="["+f0t+"]?",x0t="(?:"+y0t+"(?:"+[v0t,kSe,ESe].join("|")+")"+TSe+jSe+")*",w0t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",C0t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_0t=TSe+jSe+x0t,S0t="(?:"+[p0t,kSe,ESe].join("|")+")"+_0t,k0t=RegExp([dg+"?"+_Se+"+"+JG+"(?="+[XG,dg,"$"].join("|")+")",b0t+"+"+eK+"(?="+[XG,dg+QG,"$"].join("|")+")",dg+"?"+QG+"+"+JG,dg+"+"+eK,C0t,w0t,CSe,S0t].join("|"),"g");function E0t(e){return e.match(k0t)||[]}var j0t=E0t,T0t=e0t,A0t=r0t,D0t=Fc,I0t=j0t;function P0t(e,t,n){return e=D0t(e),t=n?void 0:t,t===void 0?A0t(e)?I0t(e):T0t(e):e.match(t)||[]}var ASe=P0t;const DSe=Pe(ASe);var O0t=$vt,R0t=mSe,$0t=ASe,M0t="[']",F0t=RegExp(M0t,"g");function L0t(e){return function(t){return O0t($0t(R0t(t).replace(F0t,"")),e,"")}}var B8=L0t;function B0t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var ISe=B0t,N0t=ISe;function z0t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:N0t(e,t,n)}var PSe=z0t,V0t="\\ud800-\\udfff",H0t="\\u0300-\\u036f",U0t="\\ufe20-\\ufe2f",W0t="\\u20d0-\\u20ff",Y0t=H0t+U0t+W0t,q0t="\\ufe0e\\ufe0f",G0t="\\u200d",K0t=RegExp("["+G0t+V0t+Y0t+q0t+"]");function Z0t(e){return K0t.test(e)}var OSe=Z0t;function X0t(e){return e.split("")}var Q0t=X0t,RSe="\\ud800-\\udfff",J0t="\\u0300-\\u036f",e1t="\\ufe20-\\ufe2f",t1t="\\u20d0-\\u20ff",n1t=J0t+e1t+t1t,r1t="\\ufe0e\\ufe0f",o1t="["+RSe+"]",T$="["+n1t+"]",A$="\\ud83c[\\udffb-\\udfff]",i1t="(?:"+T$+"|"+A$+")",$Se="[^"+RSe+"]",MSe="(?:\\ud83c[\\udde6-\\uddff]){2}",FSe="[\\ud800-\\udbff][\\udc00-\\udfff]",s1t="\\u200d",LSe=i1t+"?",BSe="["+r1t+"]?",a1t="(?:"+s1t+"(?:"+[$Se,MSe,FSe].join("|")+")"+BSe+LSe+")*",l1t=BSe+LSe+a1t,c1t="(?:"+[$Se+T$+"?",T$,MSe,FSe,o1t].join("|")+")",u1t=RegExp(A$+"(?="+A$+")|"+c1t+l1t,"g");function d1t(e){return e.match(u1t)||[]}var f1t=d1t,h1t=Q0t,p1t=OSe,m1t=f1t;function g1t(e){return p1t(e)?m1t(e):h1t(e)}var NSe=g1t,v1t=PSe,y1t=OSe,b1t=NSe,x1t=Fc;function w1t(e){return function(t){t=x1t(t);var n=y1t(t)?b1t(t):void 0,r=n?n[0]:t.charAt(0),o=n?v1t(n,1).join(""):t.slice(1);return r[e]()+o}}var C1t=w1t,_1t=C1t,S1t=_1t("toUpperCase"),N8=S1t;const zSe=Pe(N8);var k1t=B8,E1t=N8,j1t=k1t(function(e,t,n){return e+(n?" ":"")+E1t(t)}),T1t=j1t;const fn=Pe(T1t);var A1t=Hf,D1t=Qr,I1t=Ya,P1t="[object String]";function O1t(e){return typeof e=="string"||!D1t(e)&&I1t(e)&&A1t(e)==P1t}var R1t=O1t;const dT=Pe(R1t);let $1t=e=>crypto.getRandomValues(new Uint8Array(e)),M1t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},F1t=(e,t=21)=>M1t(e,t,$1t),L1t=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var B1t=["presence","listen"],rE=globalThis&&globalThis.__assign||function(){return rE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},rE.apply(this,arguments)},N1t=F1t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),z1t="";function tK(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:H1t(t,"v1"),id:n})}function V1t(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function H1t(e,t){return rE(rE({},e),{apiVersion:t})}var U1t=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?N1t:r,i=GL(e.pipe(it(function(m){return Ai(m,"message")})),function(m){return m.data===z1t}),s=i[0],a=i[1],c=a.pipe(ht(function(m){var v=V1t(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Xn):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),Xn):be(y)}),ta()),u=n?Lo([n,e]).pipe(Qn(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),it(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(Ci(1),Oj(g)):be(g)}),Eo({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return sn(c.pipe(mt(function(x){return x.id===y}),ue(function(x){return x.result})),uo(function(){return m.send(tK(v,g,y)),Xn}))}function f(m,v){return u.pipe(Ci(1),ht(function(g){return d(g,m,v).pipe(Ci(1))}))}function p(m,v){return u.pipe(Ci(1),ht(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(Ci(1),ht(function(y){return c.pipe(mt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),ue(function(x){return x.params.result}),MCe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(tK("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:sn(u,s,a).pipe(ue(function(){return new Date})),request:function(m,v){return W1t(m)?p(m,v):f(m,v)}}};function W1t(e){return B1t.includes(e)}var Y1t=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nK=function(e){Y1t(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function q1t(e){return function(t){return new gt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new nK("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new nK("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var G1t=function(e,t){return function(n){return bnt(n,Bo(e).pipe(ht(function(){return t})))}},rK;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(rK||(rK={}));var K1t=function(e){return e};function Z1t(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=q1t(function(i,s){return new window.WebSocket(i,s)});return U1t(o(e).pipe(n?G1t(n,Nu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):K1t,Eo({refCount:!0}),XL(Ai(window,"beforeunload"))),{token$:r})}function X1t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Q1t=X1t,J1t=g8,eyt=Kj;function tyt(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?eyt(n,a,c):J1t(n,a,c)}return n}var R0=tyt,nyt=R0,ryt=Qf;function oyt(e,t){return e&&nyt(t,ryt(t),e)}var iyt=oyt;function syt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var ayt=syt,lyt=Wa,cyt=Wj,uyt=ayt,dyt=Object.prototype,fyt=dyt.hasOwnProperty;function hyt(e){if(!lyt(e))return uyt(e);var t=cyt(e),n=[];for(var r in e)r=="constructor"&&(t||!fyt.call(e,r))||n.push(r);return n}var pyt=hyt,myt=QCe,gyt=pyt,vyt=Xf;function yyt(e){return vyt(e)?myt(e,!0):gyt(e)}var z8=yyt,byt=R0,xyt=z8;function wyt(e,t){return e&&byt(t,xyt(t),e)}var Cyt=wyt,oE={exports:{}};oE.exports;(function(e,t){var n=Fl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(oE,oE.exports);var _yt=oE.exports;function Syt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var V8=Syt,kyt=R0,Eyt=r8;function jyt(e,t){return kyt(e,Eyt(e),t)}var Tyt=jyt,Ayt=n8,Dyt=m8,Iyt=r8,Pyt=ZCe,Oyt=Object.getOwnPropertySymbols,Ryt=Oyt?function(e){for(var t=[];e;)Ayt(t,Iyt(e)),e=Dyt(e);return t}:Pyt,VSe=Ryt,$yt=R0,Myt=VSe;function Fyt(e,t){return $yt(e,Myt(e),t)}var Lyt=Fyt,Byt=GCe,Nyt=VSe,zyt=z8;function Vyt(e){return Byt(e,zyt,Nyt)}var H8=Vyt,Hyt=Object.prototype,Uyt=Hyt.hasOwnProperty;function Wyt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Uyt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Yyt=Wyt,oK=qCe;function qyt(e){var t=new e.constructor(e.byteLength);return new oK(t).set(new oK(e)),t}var U8=qyt,Gyt=U8;function Kyt(e,t){var n=t?Gyt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Zyt=Kyt,Xyt=/\w*$/;function Qyt(e){var t=new e.constructor(e.source,Xyt.exec(e));return t.lastIndex=e.lastIndex,t}var Jyt=Qyt,iK=u0,sK=iK?iK.prototype:void 0,aK=sK?sK.valueOf:void 0;function ebt(e){return aK?Object(aK.call(e)):{}}var tbt=ebt,nbt=U8;function rbt(e,t){var n=t?nbt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var obt=rbt,ibt=U8,sbt=Zyt,abt=Jyt,lbt=tbt,cbt=obt,ubt="[object Boolean]",dbt="[object Date]",fbt="[object Map]",hbt="[object Number]",pbt="[object RegExp]",mbt="[object Set]",gbt="[object String]",vbt="[object Symbol]",ybt="[object ArrayBuffer]",bbt="[object DataView]",xbt="[object Float32Array]",wbt="[object Float64Array]",Cbt="[object Int8Array]",_bt="[object Int16Array]",Sbt="[object Int32Array]",kbt="[object Uint8Array]",Ebt="[object Uint8ClampedArray]",jbt="[object Uint16Array]",Tbt="[object Uint32Array]";function Abt(e,t,n){var r=e.constructor;switch(t){case ybt:return ibt(e);case ubt:case dbt:return new r(+e);case bbt:return sbt(e,n);case xbt:case wbt:case Cbt:case _bt:case Sbt:case kbt:case Ebt:case jbt:case Tbt:return cbt(e,n);case fbt:return new r;case hbt:case gbt:return new r(e);case pbt:return abt(e);case mbt:return new r;case vbt:return lbt(e)}}var Dbt=Abt,Ibt=Wa,lK=Object.create,Pbt=function(){function e(){}return function(t){if(!Ibt(t))return{};if(lK)return lK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),W8=Pbt,Obt=W8,Rbt=m8,$bt=Wj;function Mbt(e){return typeof e.constructor=="function"&&!$bt(e)?Obt(Rbt(e)):{}}var Fbt=Mbt,Lbt=Sw,Bbt=Ya,Nbt="[object Map]";function zbt(e){return Bbt(e)&&Lbt(e)==Nbt}var Vbt=zbt,Hbt=Vbt,Ubt=T0,cK=i8,uK=cK&&cK.isMap,Wbt=uK?Ubt(uK):Hbt,Ybt=Wbt,qbt=Sw,Gbt=Ya,Kbt="[object Set]";function Zbt(e){return Gbt(e)&&qbt(e)==Kbt}var Xbt=Zbt,Qbt=Xbt,Jbt=T0,dK=i8,fK=dK&&dK.isSet,ext=fK?Jbt(fK):Qbt,txt=ext,nxt=e8,rxt=Q1t,oxt=g8,ixt=iyt,sxt=Cyt,axt=_yt,lxt=V8,cxt=Tyt,uxt=Lyt,dxt=t_e,fxt=H8,hxt=Sw,pxt=Yyt,mxt=Dbt,gxt=Fbt,vxt=Qr,yxt=Hj,bxt=Ybt,xxt=Wa,wxt=txt,Cxt=Qf,_xt=z8,Sxt=1,kxt=2,Ext=4,HSe="[object Arguments]",jxt="[object Array]",Txt="[object Boolean]",Axt="[object Date]",Dxt="[object Error]",USe="[object Function]",Ixt="[object GeneratorFunction]",Pxt="[object Map]",Oxt="[object Number]",WSe="[object Object]",Rxt="[object RegExp]",$xt="[object Set]",Mxt="[object String]",Fxt="[object Symbol]",Lxt="[object WeakMap]",Bxt="[object ArrayBuffer]",Nxt="[object DataView]",zxt="[object Float32Array]",Vxt="[object Float64Array]",Hxt="[object Int8Array]",Uxt="[object Int16Array]",Wxt="[object Int32Array]",Yxt="[object Uint8Array]",qxt="[object Uint8ClampedArray]",Gxt="[object Uint16Array]",Kxt="[object Uint32Array]",Vn={};Vn[HSe]=Vn[jxt]=Vn[Bxt]=Vn[Nxt]=Vn[Txt]=Vn[Axt]=Vn[zxt]=Vn[Vxt]=Vn[Hxt]=Vn[Uxt]=Vn[Wxt]=Vn[Pxt]=Vn[Oxt]=Vn[WSe]=Vn[Rxt]=Vn[$xt]=Vn[Mxt]=Vn[Fxt]=Vn[Yxt]=Vn[qxt]=Vn[Gxt]=Vn[Kxt]=!0;Vn[Dxt]=Vn[USe]=Vn[Lxt]=!1;function eS(e,t,n,r,o,i){var s,a=t&Sxt,c=t&kxt,u=t&Ext;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!xxt(e))return e;var d=vxt(e);if(d){if(s=pxt(e),!a)return lxt(e,s)}else{var f=hxt(e),p=f==USe||f==Ixt;if(yxt(e))return axt(e,a);if(f==WSe||f==HSe||p&&!o){if(s=c||p?{}:gxt(e),!a)return c?uxt(e,sxt(s,e)):cxt(e,ixt(s,e))}else{if(!Vn[f])return o?e:{};s=mxt(e,f,a)}}i||(i=new nxt);var m=i.get(e);if(m)return m;i.set(e,s),wxt(e)?e.forEach(function(y){s.add(eS(y,t,n,y,e,i))}):bxt(e)&&e.forEach(function(y,x){s.set(x,eS(y,t,n,x,e,i))});var v=u?c?fxt:dxt:c?_xt:Cxt,g=d?void 0:v(e);return rxt(g||e,function(y,x){g&&(x=y,y=e[x]),oxt(s,x,eS(y,t,n,x,e,i))}),s}var Y8=eS;function Zxt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Xxt=Zxt,Qxt=kw,Jxt=ISe;function ewt(e,t){return t.length<2?e:Qxt(e,Jxt(t,0,-1))}var twt=ewt,nwt=I0,rwt=Xxt,owt=twt,iwt=xm;function swt(e,t){return t=nwt(t,e),e=owt(e,t),e==null||delete e[iwt(rwt(t))]}var awt=swt,lwt=F_e;function cwt(e){return lwt(e)?void 0:e}var uwt=cwt,dwt=Mc,fwt=Y8,hwt=awt,pwt=I0,mwt=R0,gwt=uwt,vwt=v8,ywt=H8,bwt=1,xwt=2,wwt=4,Cwt=vwt(function(e,t){var n={};if(e==null)return n;var r=!1;t=dwt(t,function(i){return i=pwt(i,e),r||(r=i.length>1),i}),mwt(e,ywt(e),n),r&&(n=fwt(n,bwt|xwt|wwt,gwt));for(var o=t.length;o--;)hwt(n,t[o]);return n}),_wt=Cwt;const Di=Pe(_wt);var Swt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Aw=Pe(Swt);var kwt=Qr;function Ewt(){if(!arguments.length)return[];var e=arguments[0];return kwt(e)?e:[e]}var jwt=Ewt;const Dw=Pe(jwt);var Twt=Mc,Awt=Jf,Dwt=k_e,Iwt=Qr;function Pwt(e,t){var n=Iwt(e)?Twt:Dwt;return n(e,Awt(t))}var Owt=Pwt,Rwt=D0,$wt=Owt;function Mwt(e,t){return Rwt($wt(e,t),1)}var Fwt=Mwt;const Lwt=Pe(Fwt);var Bwt="Expected a function";function Nwt(e){if(typeof e!="function")throw new TypeError(Bwt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var YSe=Nwt;const zwt=Pe(YSe);var Vwt=Mc,Hwt=Jf,Uwt=L_e,Wwt=H8;function Ywt(e,t){if(e==null)return{};var n=Vwt(Wwt(e),function(r){return[r]});return t=Hwt(t),Uwt(e,n,function(r,o){return t(r,o[0])})}var qwt=Ywt,Gwt=Jf,Kwt=YSe,Zwt=qwt;function Xwt(e,t){return Zwt(e,Kwt(Gwt(t)))}var Qwt=Xwt;const qSe=Pe(Qwt);function Jwt(e){return e===void 0}var eCt=Jwt;const GSe=Pe(eCt);var tCt=Fc,nCt=N8;function rCt(e){return nCt(tCt(e).toLowerCase())}var KSe=rCt;const km=Pe(KSe);var oCt=Mc,iCt=V8,sCt=Qr,aCt=sm,lCt=g_e,cCt=xm,uCt=Fc;function dCt(e){return sCt(e)?oCt(e,cCt):aCt(e)?[e]:iCt(lCt(uCt(e)))}var fCt=dCt;const hCt=Pe(fCt);function pCt(){}var q8=pCt;const ZSe=Pe(q8);var YI=n_e,mCt=q8,gCt=t8,vCt=1/0,yCt=YI&&1/gCt(new YI([,-0]))[1]==vCt?function(e){return new YI(e)}:mCt,bCt=yCt,xCt=Nj,wCt=h8,CCt=p8,_Ct=zj,SCt=bCt,kCt=t8,ECt=200;function jCt(e,t,n){var r=-1,o=wCt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=CCt;else if(i>=ECt){var u=t?null:SCt(e);if(u)return kCt(u);s=!1,o=_Ct,c=new xCt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var fT=jCt,TCt=Jf,ACt=fT;function DCt(e,t){return e&&e.length?ACt(e,TCt(t)):[]}var ICt=DCt;const Ff=Pe(ICt),ts=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],hK=[...ts],qI={name:"any",type:null,jsonType:"any"},PCt={get(){return qI},extend(e,t){const n=Object.assign(kt(qI,hK),e,{type:qI,of:e.of.map(o=>({name:o.name,type:t(Di(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,kt(i,hK),{type:o});return r(s)}}}}};var th={prepare:e=>({title:String(e)})};const pK=[...ts],GI={name:"string",title:"String",type:null,jsonType:"string"},OCt={get(){return GI},extend(e){const t=Object.assign(kt(GI,pK),e,{type:GI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,pK),{type:r});return n(i)}}}}},mK=[...ts,"rows"],KI={name:"text",title:"Text",type:null,jsonType:"string"},RCt={get(){return KI},extend(e){const t=Object.assign(kt(KI,mK),e,{type:KI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,mK),{type:r});return n(i)}}}}},gK=[...ts],ZI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},$Ct={get(){return ZI},extend(e){const t=Object.assign(kt(ZI,gK),e,{type:ZI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,gK),{type:r});return n(i)}}}}},vK=[...ts],XI={name:"date",title:"Datetime",type:null,jsonType:"string"},MCt={get(){return XI},extend(e){const t=Object.assign(kt(XI,vK),e,{type:XI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,vK),{type:r});return n(i)}}}}},yK=[...ts],QI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},FCt={get(){return QI},extend(e){const t=Object.assign(kt(QI,yK),e,{type:QI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,yK),{type:r});return n(i)}}}}},bK=[...ts],JI={name:"url",title:"Url",type:null,jsonType:"string"},LCt={get(){return JI},extend(e){const t=Object.assign(kt(JI,bK),e,{type:JI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,bK),{type:r});return n(i)}}}}},xK=[...ts],eP={name:"email",title:"Email",type:null,jsonType:"string"},BCt={get(){return eP},extend(e){const t=Object.assign(kt(eP,xK),e,{type:eP,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,xK),{type:r});return n(i)}}}}},wK=[...ts],tP={name:"number",title:"Number",type:null,jsonType:"number"},NCt={get(){return tP},extend(e){const t=Object.assign(kt(tP,wK),e,{type:tP,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,kt(o,wK),{type:r});return n(i)}}}}};function Yn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function zCt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function D$(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>D$(s,t,n+1)).concat(o>0?"+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(zCt(kt(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(D$(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function VCt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return D$(e,n,0)}const HCt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function UCt(e){return t=>({title:VCt(kt(t,e),HCt)})}function WCt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const XSe=["title","name","label","heading","header","caption"],YCt=["description",...XSe];function QSe(e,t){return Aw(e.to||[]).some(n=>n.type===t)}function CK(e){return QSe(e,"sanity.imageAsset")}function qCt(e){const t=e.fields||[],n=t.find(CK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(CK));return r?"".concat(r.name,".asset"):void 0}function _K(e){return QSe(e,"sanity.fileAsset")}function GCt(e){const t=e.fields||[],n=t.find(_K);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(_K));return r?"".concat(r.name,".asset"):void 0}function KCt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(WCt).map(u=>u.name);let o=XSe.find(u=>n.includes(u)||r.includes(u)),i=YCt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=qCt(t);if(!o){const u=GCt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:UCt(u)}}return{select:qSe({title:o,description:i,media:s?s.name:a},GSe)}}function ZCt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function XCt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function QCt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function JCt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...kt(e,["prepare","component"]),select:QCt(t)}:{...kt(e,["prepare","component"]),select:t}}function Iw(e){return function(){return ZCt(e),XCt(e),JCt(e.preview||(e.options||{}).preview)||KCt(e)}}const e_t=["title","name","label","heading","header","caption","description"],t_t=["string","boolean","number"],SK=e=>t_t.includes(e.type);function n_t(e){let t=e_t.filter(n=>e.fields.some(r=>SK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(SK).map(n=>n.name)),t.map(n=>({name:n,title:km(fn(n)),by:[{field:n,direction:"asc"}]}))}function kK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!_r(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:hCt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const av=Symbol("__cachedStringFields"),r_t=e=>e.type&&e.type.name==="reference",o_t=["style","list"],G8=e=>e.name==="block"||e.type&&G8(e.type),i_t=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(G8);function hT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?s_t(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!r_t(e)?a_t(e,t,i,r,o):i}function s_t(e,t,n,r,o){return e.of.reduce((i,s)=>hT(s,t,i,r,o-1),n)}function a_t(e,t,n,r,o){const i=G8(e);return e.fields.reduce((s,a)=>{if(i&&o_t.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return hT(a.type,t,s,r.concat(c),o-1)},n)}const JSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],EK={title:10,subtitle:5,description:1.5};function eke(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in EK).map(r=>({weight:EK[r],path:n[r].split(".")})):[]}function l_t(e,t){return e[av]||(e[av]=Ff([...JSe,...eke(e),...u_t(e,t).map(n=>({weight:1,path:n})),...d_t(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[av]}function c_t(e){return e[av]||(e[av]=Ff([...JSe,...eke(e)],t=>t.path.join("."))),e[av]}function u_t(e,t){return hT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function d_t(e,t){return hT(e,(r,o,i)=>i_t(o)?[...r,i]:r,[],[],t)}function f_t(e){return c_t(e)}function h_t(e){return l_t(e,4)}const jK=[...ts,"orderings","__experimental_search","blockEditor","icon"],tke={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(kt(this.get(),jK),n,{type:this.get(),title:n.title||(n.name?fn(n.name):""),options:r,orderings:n.orderings||n_t(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Yn({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||fn(a)}))})});return Yn(o,"fieldsets",()=>pT(n,o.fields)),Yn(o,"groups",()=>p_t(n,o.fields)),Yn(o,"preview",Iw(n)),Yn(o,"__experimental_search",()=>{const s=n.__experimental_search?kK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?kK(n):a):h_t(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,kt(a,jK),{title:a.title||n.title||(n.name?fn(n.name):""),type:s});return Yn(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function pT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:fn(e.name),"'"));n[o.name]={title:fn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function p_t(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:fn(e.name),"'"));if(n[o.name]={title:fn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:fn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Dw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:fn(e.name),"'"));a.fields.push(o)})}),Lwt(n).filter(o=>o.fields.length>0)}const m_t={name:"_ref",title:"Referenced document ID",type:"string"},g_t={name:"_weak",title:"Weak reference",type:"boolean"},v_t=[m_t,g_t],TK=[...ts],nP={name:"reference",title:"Reference",type:null,jsonType:"object"};function y_t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function b_t(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(y_t(Aw(e.to).map(t=>t.title),"or").toLowerCase())}const x_t={get(){return nP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(kt(nP,TK),e,{type:nP});return Yn(n,"fields",()=>v_t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Yn(n,"fieldsets",()=>pT(e,n.fields)),Yn(n,"to",()=>Aw(e.to).map(o=>t(o))),Yn(n,"title",()=>e.title||b_t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,kt(i,TK),{type:o});return r(s)}}}}},w_t={name:"_ref",title:"Referenced document ID",type:"string"},C_t={name:"_weak",title:"Weak reference marker",type:"boolean"},__t={name:"_dataset",title:"Target dataset",type:"string"},S_t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},k_t=[w_t,C_t,__t,S_t],AK=[...ts],rP={name:"crossDatasetReference",type:null,jsonType:"object"};function E_t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function j_t(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(E_t(Aw(e.to).map(t=>t.title||km(t.type)),"or").toLowerCase())}const T_t={get(){return rP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(kt(rP,AK),e,{type:rP});return Yn(n,"fields",()=>k_t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Yn(n,"to",()=>Aw(e.to).map(o=>({...o,__experimental_search:f_t(o)}))),Yn(n,"title",()=>e.title||j_t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,kt(i,AK),{type:o});return r(s)}}}}},A_t={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},D_t={name:"hotspot",type:"sanity.imageHotspot"},I_t={name:"crop",type:"sanity.imageCrop"},DK=[...ts],IK={name:"image",title:"Image",type:null,jsonType:"object"},P_t={},O_t={get(){return IK},extend(e,t){const n={...e.options||P_t};let r=[D_t,I_t];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[A_t,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(kt(this.get(),DK),i,{type:IK,title:i.title||(i.name?fn(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Yn(p,"type",()=>t({...f,title:c.title||fn(u)}))})});return Yn(s,"fieldsets",()=>pT(i,s.fields)),Yn(s,"preview",Iw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,kt(u,DK),{type:c});return a(d)}}}}},R_t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},PK=[...ts],oP={name:"file",title:"File",type:null,jsonType:"object"},$_t={accept:""},M_t={get(){return oP},extend(e,t){const n={...e.options||$_t},r=[R_t,...e.fields||[]],o={...e,fields:r},i=Object.assign(kt(oP,PK),o,{type:oP,title:o.title||(o.name?fn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Yn(f,"type",()=>t({...d,title:a.title||fn(c)}))})});return Yn(i,"fieldsets",()=>pT(o,i.fields)),Yn(i,"preview",Iw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,kt(c,PK),{type:a});return s(u)}}}}},F_t={name:"document",title:"Document",type:null,jsonType:"object"},L_t={get(){return F_t},extend:tke.extend},OK=[...ts],iP={name:"array",type:null,jsonType:"array",of:[]},B_t={get(){return iP},extend(e,t){const n=Object.assign(kt(iP,OK),e,{type:iP});return Yn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,kt(i,OK),{type:o});return r(s)}}}}},N_t={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},z_t={type:"text",name:"text",title:"Text"},V_t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},RK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},H_t=[RK.bullet,RK.numbered],nu={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},U_t=[nu.normal,nu.h1,nu.h2,nu.h3,nu.h4,nu.h5,nu.h6,nu.blockquote],W_t={title:"Strong",value:"strong"},Y_t={title:"Italic",value:"em"},q_t={title:"Code",value:"code"},G_t={title:"Underline",value:"underline"},K_t={title:"Strike",value:"strike-through"},I1={strong:W_t,em:Y_t,code:q_t,underline:G_t,strikeThrough:K_t},Z_t=[I1.strong,I1.em,I1.code,I1.underline,I1.strikeThrough],$K=["type","name","title","jsonType","description","options","fieldsets","icon"],sP={name:"block",title:"Block",type:null,jsonType:"object"},X_t={},Q_t={get(){return sP},extend(e,t){const n={...e.options||X_t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=n2t(r,s),u=e2t(o),d=t2t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||nke},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(kt(sP,$K),a,{type:sP,options:n});return Yn(v,"fields",()=>m.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),Yn(v,"preview",Iw(e)),g(v);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,kt(x,$K),{type:y});return g(b)}}}}};function J_t(e){return e.some(t=>t.value==="normal")?e:[nu.normal,...e]}function e2t(e){return{name:"style",title:"Style",type:"string",options:{list:J_t(e||U_t)}}}function t2t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||H_t}}}const nke=[N_t];function n2t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[z_t,V_t],annotations:e&&e.annotations?e.annotations:nke,decorators:e&&e.decorators?e.decorators:Z_t},...t.filter(n=>n.type!=="span")]}}const MK=["type","name","title","jsonType","description","options","fieldsets","icon"],aP={name:"span",title:"Span",type:null,jsonType:"object"},r2t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},o2t={name:"text",title:"Text",type:"string"},i2t={},s2t={get(){return aP},extend(e,t){const n={...e.options||i2t},{annotations:r=[],marks:o=[]}=e,i=[r2t,o2t],s=Object.assign(kt(aP,MK),e,{type:aP,options:n});return Yn(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Yn(s,"annotations",()=>r.map(t)),Yn(s,"marks",()=>o.map(t)),Yn(s,"preview",Iw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,kt(u,MK),{type:c});return a(d)}}}}};var a2t=Object.freeze({__proto__:null,any:PCt,array:B_t,block:Q_t,boolean:FCt,crossDatasetReference:T_t,date:MCt,datetime:$Ct,document:L_t,email:BCt,file:M_t,image:O_t,number:NCt,object:tke,reference:x_t,span:s2t,string:OCt,text:RCt,url:LCt});function l2t(e){const t=Object.assign(Object.create(null),a2t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let c2t=class rke{static compile(t){return new rke(t)}constructor(t){this._original=t,this._registry=l2t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const K8=c2t;var u2t=fT;function d2t(e){return e&&e.length?u2t(e):[]}var f2t=d2t;const fo=Pe(f2t),h2t={},p2t=Object.freeze(Object.defineProperty({__proto__:null,default:h2t},Symbol.toStringTag,{value:"Module"})),m2t=tFe(p2t);var Z8=typeof Map=="function"&&Map.prototype,lP=Object.getOwnPropertyDescriptor&&Z8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,iE=Z8&&lP&&typeof lP.get=="function"?lP.get:null,FK=Z8&&Map.prototype.forEach,X8=typeof Set=="function"&&Set.prototype,cP=Object.getOwnPropertyDescriptor&&X8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sE=X8&&cP&&typeof cP.get=="function"?cP.get:null,LK=X8&&Set.prototype.forEach,g2t=typeof WeakMap=="function"&&WeakMap.prototype,rb=g2t?WeakMap.prototype.has:null,v2t=typeof WeakSet=="function"&&WeakSet.prototype,ob=v2t?WeakSet.prototype.has:null,y2t=typeof WeakRef=="function"&&WeakRef.prototype,BK=y2t?WeakRef.prototype.deref:null,b2t=Boolean.prototype.valueOf,x2t=Object.prototype.toString,w2t=Function.prototype.toString,C2t=String.prototype.match,Q8=String.prototype.slice,Yd=String.prototype.replace,_2t=String.prototype.toUpperCase,NK=String.prototype.toLowerCase,oke=RegExp.prototype.test,zK=Array.prototype.concat,lc=Array.prototype.join,S2t=Array.prototype.slice,VK=Math.floor,I$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,uP=Object.getOwnPropertySymbols,P$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ii=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Vv||"symbol")?Symbol.toStringTag:null,ike=Object.prototype.propertyIsEnumerable,HK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function UK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||oke.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-VK(-e):VK(e);if(r!==e){var o=String(r),i=Q8.call(t,o.length+1);return Yd.call(o,n,"$&_")+"."+Yd.call(Yd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yd.call(t,n,"$&_")}var O$=m2t,WK=O$.custom,YK=ake(WK)?WK:null,k2t=function e(t,n,r,o){var i=n||{};if(Dd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Dd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return cke(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?UK(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?UK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return R$(t)?"[Array]":"[Object]";var f=H2t(i,r);if(typeof o>"u")o=[];else if(lke(o,t)>=0)return"[Circular]";function p(I,P,$){if(P&&(o=S2t.call(o),o.push(P)),$){var R={depth:i.depth};return Dd(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!qK(t)){var m=R2t(t),v=l_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+lc.call(v,", ")+" }":"")}if(ake(t)){var g=Vv?Yd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P$.call(t);return typeof t=="object"&&!Vv?P1(g):g}if(N2t(t)){for(var y="<"+NK.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+ske(E2t(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+NK.call(String(t.nodeName))+">",y}if(R$(t)){if(t.length===0)return"[]";var w=l_(t,p);return f&&!V2t(w)?"["+$$(w,f)+"]":"[ "+lc.call(w,", ")+" ]"}if(T2t(t)){var C=l_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!ike.call(t,"cause")?"{ ["+String(t)+"] "+lc.call(zK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+lc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(YK&&typeof t[YK]=="function"&&O$)return O$(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($2t(t)){var _=[];return FK&&FK.call(t,function(I,P){_.push(p(P,t,!0)+" => "+p(I,t))}),GK("Map",iE.call(t),_,f)}if(L2t(t)){var S=[];return LK&&LK.call(t,function(I){S.push(p(I,t))}),GK("Set",sE.call(t),S,f)}if(M2t(t))return dP("WeakMap");if(B2t(t))return dP("WeakSet");if(F2t(t))return dP("WeakRef");if(D2t(t))return P1(p(Number(t)));if(P2t(t))return P1(p(I$.call(t)));if(I2t(t))return P1(b2t.call(t));if(A2t(t))return P1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===vs)return"{ [object globalThis] }";if(!j2t(t)&&!qK(t)){var k=l_(t,p),j=HK?HK(t)===Object.prototype:t instanceof Object||t.constructor===Object,E=t instanceof Object?"":"null prototype",T=!j&&Ii&&Object(t)===t&&Ii in t?Q8.call(nh(t),8,-1):E?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||E?"["+lc.call(zK.call([],T||[],E||[]),": ")+"] ":"");return k.length===0?D+"{}":f?D+"{"+$$(k,f)+"}":D+"{ "+lc.call(k,", ")+" }"}return String(t)};function ske(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function E2t(e){return Yd.call(String(e),/"/g,"&quot;")}function R$(e){return nh(e)==="[object Array]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function j2t(e){return nh(e)==="[object Date]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function qK(e){return nh(e)==="[object RegExp]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function T2t(e){return nh(e)==="[object Error]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function A2t(e){return nh(e)==="[object String]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function D2t(e){return nh(e)==="[object Number]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function I2t(e){return nh(e)==="[object Boolean]"&&(!Ii||!(typeof e=="object"&&Ii in e))}function ake(e){if(Vv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!P$)return!1;try{return P$.call(e),!0}catch{}return!1}function P2t(e){if(!e||typeof e!="object"||!I$)return!1;try{return I$.call(e),!0}catch{}return!1}var O2t=Object.prototype.hasOwnProperty||function(e){return e in this};function Dd(e,t){return O2t.call(e,t)}function nh(e){return x2t.call(e)}function R2t(e){if(e.name)return e.name;var t=C2t.call(w2t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function lke(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $2t(e){if(!iE||!e||typeof e!="object")return!1;try{iE.call(e);try{sE.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function M2t(e){if(!rb||!e||typeof e!="object")return!1;try{rb.call(e,rb);try{ob.call(e,ob)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function F2t(e){if(!BK||!e||typeof e!="object")return!1;try{return BK.call(e),!0}catch{}return!1}function L2t(e){if(!sE||!e||typeof e!="object")return!1;try{sE.call(e);try{iE.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function B2t(e){if(!ob||!e||typeof e!="object")return!1;try{ob.call(e,ob);try{rb.call(e,rb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function N2t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function cke(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return cke(Q8.call(e,0,t.maxStringLength),t)+r}var o=Yd.call(Yd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,z2t);return ske(o,"single",t)}function z2t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+_2t.call(t.toString(16))}function P1(e){return"Object("+e+")"}function dP(e){return e+" { ? }"}function GK(e,t,n,r){var o=r?$$(n,r):lc.call(n,", ");return e+" ("+t+") {"+o+"}"}function V2t(e){for(var t=0;t<e.length;t++)if(lke(e[t],`
`)>=0)return!1;return!0}function H2t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=lc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:lc.call(Array(t+1),n)}}function $$(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+lc.call(e,","+n)+`
`+t.prev}function l_(e,t){var n=R$(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Dd(e,o)?t(e[o],e):""}var i=typeof uP=="function"?uP(e):[],s;if(Vv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Dd(e,c)&&(n&&String(Number(c))===c&&c<e.length||Vv&&s["$"+c]instanceof Symbol||(oke.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof uP=="function")for(var u=0;u<i.length;u++)ike.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Lg=Pe(k2t);function U2t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var W2t=U2t,Y2t=S_e;function q2t(e,t,n,r){return Y2t(e,function(o,i,s){t(r,o,n(o),s)}),r}var G2t=q2t,K2t=W2t,Z2t=G2t,X2t=Jf,Q2t=Qr;function J2t(e,t){return function(n,r){var o=Q2t(n)?K2t:Z2t,i=t?t():{};return o(n,e,X2t(r),i)}}var J8=J2t,eSt=J8,tSt=eSt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),nSt=tSt;const e9=Pe(nSt);var rSt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const bs=Pe(rSt);var t9={exports:{}};const fP=[],KK=[],uke=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)KK[d]=e.charCodeAt(i+d),fP[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===KK[d]?c:c+1,c=fP[d],a=fP[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};t9.exports=uke;t9.exports.default=uke;var oSt=t9.exports;const iSt=Pe(oSt),sSt="https://docs.sanity.io/help/";function n9(e){return sSt+e}const ot={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function dke(e,t,n){if(n&&!Object.keys(ot).some(r=>ot[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Ie=(e,t)=>dke("error",e,t),Nr=(e,t)=>dke("warning",e,t);function aSt(e){return In(e.map(t=>fke(t))).filter(t=>t.problems.length>0)}function Em(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Wn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return fke(c,d)}):[[{path:i,problems:[Ie("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...In(a)]}}const lSt=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],ZK=Em("fields"),cSt=Em("fields"),uSt=Em("fields"),dSt=Em("of"),fSt=Em("to",e=>"to"in e?lSt(e.to):[]),hSt=Em("marks.annotations"),pSt=Em("of"),mSt=(e,t)=>[...hSt(e,t),...pSt(e,t)];function gSt(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function fke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return ZK(e,t);case"document":return ZK(e,t);case"array":return dSt(e,t);case"reference":return fSt(e,t);case"block":return mSt(e,t);case"image":return cSt(e,t);case"file":return uSt(e,t);default:return gSt(e,t)}}function mT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const vSt=e=>e,ySt={name:"type",type:null},bSt=["any","time","date"];function xSt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vSt;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=bSt.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?ySt:r[v]||o[v]||null}const u=fo(In(mT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const hke=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],pke=hke.map(e=>e.name);function wSt(e,t){return xSt(e,hke,t)}const CSt=/^Symbol\(react\..+\)$/;function c_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&CSt.test(String(e==null?void 0:e.$$typeof))}function mke(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!c_(t.input)&&n.push(Nr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!c_(t.field)&&n.push(Nr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!c_(t.item)&&n.push(Nr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!c_(t.preview)&&n.push(Nr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const XK=/^[A-Za-z]+[0-9A-Za-z_]*$/,_St=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function SSt(e){return typeof e!="string"?[Ie('Field names must be strings. Saw "'.concat(Lg(e),'"'),ot.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Ie('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),ot.OBJECT_FIELD_NAME_INVALID)]:XK.test(e)?_St.test(e)?[]:[Nr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),ot.OBJECT_FIELD_NAME_INVALID]:[Ie('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(XK),")."),ot.OBJECT_FIELD_NAME_INVALID)]}function r9(e,t){if(!_r(e))return[Ie("Incorrect type for field definition - should be an object, saw ".concat(Lg(e)),ot.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?SSt(e.name):[Ie("Missing field name",ot.OBJECT_FIELD_NAME_INVALID)]),n.push(...mke(e)),n}function kSt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function o9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Ie('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),ot.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");kSt(o).forEach(s=>{n.push(Ie("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),ot.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Ie("Object should have at least one field",ot.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Ie("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),ot.STANDALONE_BLOCK_TYPE))}return n}function ESt(e){return _r(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Ie('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?_r(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Ie('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Ie('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Ie('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var gke=(e,t)=>{let n=o9(e.fields),r=e.preview;if(r){const o=ESt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Ie('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:r9(o).concat(c||[])}}),_problems:n}},jSt=(e,t)=>{const n=gke(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!_r(r)&&typeof r!="function"&&n._problems.push(Ie('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Ie('Found property "initialValues" - did you mean "initialValue"?')),n};function TSt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var ASt=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=TSt(e),o=In([n?mT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ie("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.REFERENCE_TO_INVALID)):Ie('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Ie('The reference type should define at least one accepted type. Please check the "to" property.',ot.REFERENCE_TO_INVALID)),o.push(...DSt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function DSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ie("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ie("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ie("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Ie("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ie('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ie("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}function QK(e){return e==="string"||e==="number"||e==="boolean"}function ISt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function ib(e){return'"'.concat(e,'"')}function JK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function eZ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(bs(Object.keys(e).map(ib))):ib(e)}var PSt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&pke.includes(y.name))return g.concat(Ie('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Nr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(Ie('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',ot.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(Ie("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),ot.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=In([i?mT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Ie("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),ot.ARRAY_OF_NOT_UNIQUE)):Ie('The array type is missing or having an invalid value for the required "of" property',ot.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(Ie("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",ot.ARRAY_OF_INVALID));const[d,f]=e9(a,v=>{var g;return QK(v.type)||QK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(Ie("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(JK(v)," ").concat(bs(v.map(ib))," and object type").concat(JK(g)," ").concat(bs(g.map(ib)),")"),ot.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=bs(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(Ie("An invalid entry found in options.list: ".concat(eZ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),ot.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>ISt(y,b))||s.push(Ie("An invalid entry found in options.list: ".concat(eZ(g),'. Must be an object with "_type" set to ').concat(bs(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":ib(b)),{conjunction:"or"})),ot.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Nr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},OSt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Nr('Heads up! The "slugifyFn" option has been renamed to "slugify".',ot.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},RSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...o9(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Ie("Invalid type for file `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Ie("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:r9(i).concat(u||[])}}),_problems:n}};const tZ=["dimensions","hasAlpha","isOpaque"];var $St=(e,t)=>{const n=[],r=e.fields;r&&n.push(...o9(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>tZ.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Ie("Invalid type for image `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Nr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!tZ.includes(u))}):c.length>0&&n.push(Ie("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:r9(u).concat(m||[])}}),_problems:n}};function vke(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return vke(r,t,n)}const Zs=e=>Array.isArray(e)?"array":typeof e,Pw=e=>'"'.concat(e,'"'),MSt=["components","lists","marks","name","of","options","styles","title","type","validation"],FSt=["decorators","annotations"],LSt=["blockEditor","title","value","component"],BSt=["blockEditor","title","value","icon","component"],NSt=["title","value","icon","component"],nZ=["file","image","object","reference"];function zSt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!MSt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(Ie("Found unknown properties for block declaration: ".concat(bs(a.map(Pw))))),i&&(i=VSt(e.marks,t,n)),r&&(r=USt(r,t,n)),o&&(o=HSt(o,t,n)),s&&(s=qSt(s,t,n)),{...Di(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function VSt(e,t,n){let r=e.decorators,o=e.annotations;if(!_r(e))return n.push(Ie('"marks" declaration should be an object, got '.concat(Zs(e)))),n;const i=Object.keys(e).filter(s=>!FSt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Ie("Found unknown properties for block declaration: ".concat(bs(i.map(Pw))))),r&&!Array.isArray(r)?n.push(Ie('"marks.decorators" declaration should be an array, got '.concat(Zs(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=WSt(r,t,n)),o&&!Array.isArray(o)?n.push(Ie('"marks.annotations" declaration should be an array, got '.concat(Zs(o)))):o&&(o=YSt(o,t,n)),{...e,decorators:r,annotations:o}}function HSt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Ie("List must be an object, got ".concat(Zs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!NSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for list ".concat(i,": ").concat(bs(s.map(Pw))))),r.value?typeof r.value!="string"?n.push(Ie("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Zs(r.value)))):r.title||n.push(Nr("List type ".concat(i,' is missing recommended "title" property'))):n.push(Ie("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Ie('"lists" declaration should be an array, got '.concat(Zs(e)))),n)}function USt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!_r(r)){n.push(Ie("Style must be an object, got ".concat(Zs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!LSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for style ".concat(i,": ").concat(bs(s.map(Pw))))),r.value?typeof r.value!="string"?n.push(Ie("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Zs(r.value)))):r.title||n.push(Nr("Style ".concat(i,' is missing recommended "title" property'))):n.push(Ie("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Nr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Ie('"styles" declaration should be an array, got '.concat(Zs(e)))),n)}function WSt(e,t,n){return e.forEach((r,o)=>{if(!_r(r)){n.push(Ie("Annotation must be an object, got ".concat(Zs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!BSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for decorator ".concat(i,": ").concat(bs(s.map(Pw))))),r.value?typeof r.value!="string"?n.push(Ie("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Zs(r.value)))):r.title||n.push(Nr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Ie("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Nr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function YSt(e,t,n){return e.map(r=>{var o,i;if(!_r(r))return{...r,_problems:[Ie("Annotation must be an object, got ".concat(Zs(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!vke(a,"object",t)&&s.push(Ie('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Nr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function qSt(e,t,n){if(!Array.isArray(e)){n.push(Ie('"of" declaration should be an array, got '.concat(Zs(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Nr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=pke.filter(a=>!nZ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Ie("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(nZ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function GSt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Ie('Type has propery "fields", but is not an object/document type.')]:[]}const KSt=e=>'"'.concat(e,'"');function ZSt(e,t){const n=t.getTypeNames();if(!e)return[Ie("Type is missing a type. Valid types are: ".concat(bs(n)),ot.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Ie('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(bs(n)),ot.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[iSt(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(bs(o.map(KSt),{conjunction:"or"}),"?"):"";return[Ie("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(bs(n)))]}return[]}function XSt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Nr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Nr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Nr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Nr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Nr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var rZ=(e,t)=>({...e,_problems:[...ZSt(e.type,t),...GSt(e,t),...XSt(e)].filter(Boolean)}),QSt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Ie("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",ot.TYPE_INVALID)]};const r=[];return JSt(e)?r.push(Ie("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",ot.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Ie('Invalid type name: "'.concat(e.name,'" is a reserved name.'),ot.TYPE_NAME_RESERVED)):r.push(Ie("Missing type name",ot.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Ie('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...mke(e)),"title"in e&&typeof e.title!="string"&&r.push(Nr("Type title is not a string.",ot.TYPE_TITLE_INVALID)),{...e,_problems:r}};function JSt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function ekt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const tkt=/^[a-z0-9~][-_a-z0-9]+$/;function nkt(e){return e.length>=2&&e.toLowerCase()===e&&tkt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var rkt=(e,t)=>{const n=Array.isArray(e.to)||_r(e.to),r=ekt(e),o=In([n?mT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ie("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.CROSS_DATASET_REFERENCE_INVALID)):Ie('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Ie('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',ot.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Ie("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),ot.CROSS_DATASET_REFERENCE_INVALID)),_r(i.preview)||o.push(Ie('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),ot.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=nkt(e.dataset);i!==!0&&o.push(Ie(i,ot.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Ie("A cross dataset reference must specify a `dataset`",ot.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Ie('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',ot.CROSS_DATASET_REFERENCE_INVALID)),o.push(...okt(e)),{...e,_problems:o}};function okt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ie("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?_r(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ie("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ie("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!_r(t.filterParams)?n.concat(Ie("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ie('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ie("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}const ikt={array:PSt,object:gke,slug:OSt,file:RSt,image:$St,block:zSt,document:jSt,reference:ASt,crossDatasetReference:rkt},skt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function oZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function akt(e){return wSt(e,(t,n)=>{const r=t&&t.type&&ikt[t.type]||skt(n);return n.isRoot?oZ(QSt,rZ,r)(t,n):oZ(rZ,r)(t,n)})}const M$="__experimental_actions",yke=["create","update","delete","publish"],hP=yke,lkt=e=>M$ in e?e[M$]:yke,ckt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(M$," should be an array with any of the actions ").concat(hP.join(", ")));const n=Vp(t,hP);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(hP.join(", ")));return t},ukt=e=>ckt(e.name,lkt(e)),iZ=(e,t)=>ukt(e).includes(t);var dkt=Y8,fkt=1,hkt=4;function pkt(e){return dkt(e,fkt|hkt)}var mkt=pkt;const gkt=Pe(mkt);function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function vkt(e){return Ke(1,arguments),e instanceof Date||Il(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Xe(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Il(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Vu(e){if(Ke(1,arguments),!vkt(e)&&typeof e!="number")return!1;var t=Xe(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ykt(e,t){Ke(2,arguments);var n=Xe(e).getTime(),r=At(t);return new Date(n+r)}function bke(e,t){Ke(2,arguments);var n=At(t);return ykt(e,-n)}var bkt=864e5;function xkt(e){Ke(1,arguments);var t=Xe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/bkt)+1}function Hv(e){Ke(1,arguments);var t=1,n=Xe(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function xke(e){Ke(1,arguments);var t=Xe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Hv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Hv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function wkt(e){Ke(1,arguments);var t=xke(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Hv(n);return r}var Ckt=6048e5;function wke(e){Ke(1,arguments);var t=Xe(e),n=Hv(t).getTime()-wkt(t).getTime();return Math.round(n/Ckt)+1}var _kt={};function sd(){return _kt}function Hp(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=sd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function i9(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getUTCFullYear(),p=sd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Hp(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Hp(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function Skt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=sd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=i9(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Hp(m,t);return v}var kkt=6048e5;function Cke(e,t){Ke(1,arguments);var n=Xe(e),r=Hp(n,t).getTime()-Skt(n,t).getTime();return Math.round(r/kkt)+1}function yn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ekt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return yn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):yn(r+1,2)},d:function(t,n){return yn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return yn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return yn(t.getUTCHours(),n.length)},m:function(t,n){return yn(t.getUTCMinutes(),n.length)},s:function(t,n){return yn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return yn(i,n.length)}};const bd=Ekt;var qm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jkt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return bd.y(t,n)},Y:function(t,n,r,o){var i=i9(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return yn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):yn(s,n.length)},R:function(t,n){var r=xke(t);return yn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return yn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return yn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return yn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return bd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return yn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=Cke(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):yn(i,n.length)},I:function(t,n,r){var o=wke(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):yn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):bd.d(t,n)},D:function(t,n,r){var o=xkt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):yn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return yn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return yn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return yn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=qm.noon:o===0?i=qm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=qm.evening:o>=12?i=qm.afternoon:o>=4?i=qm.morning:i=qm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return bd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):bd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):yn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):yn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):bd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):bd.s(t,n)},S:function(t,n){return bd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return aZ(s);case"XXXX":case"XX":return zh(s);case"XXXXX":case"XXX":default:return zh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return aZ(s);case"xxxx":case"xx":return zh(s);case"xxxxx":case"xxx":default:return zh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+sZ(s,":");case"OOOO":default:return"GMT"+zh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+sZ(s,":");case"zzzz":default:return"GMT"+zh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return yn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return yn(s,n.length)}};function sZ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+yn(i,2)}function aZ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+yn(Math.abs(e)/60,2)}return zh(e,t)}function zh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=yn(Math.floor(o/60),2),s=yn(o%60,2);return r+i+n+s}const Tkt=jkt;var lZ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},_ke=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Akt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return lZ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",lZ(o,n)).replace("{{time}}",_ke(i,n))},Dkt={p:_ke,P:Akt};const F$=Dkt;function aE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Ikt=["D","DD"],Pkt=["YY","YYYY"];function Ske(e){return Ikt.indexOf(e)!==-1}function kke(e){return Pkt.indexOf(e)!==-1}function lE(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Okt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rkt=function(t,n,r){var o,i=Okt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const $kt=Rkt;function pP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Mkt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fkt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lkt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bkt={date:pP({formats:Mkt,defaultWidth:"full"}),time:pP({formats:Fkt,defaultWidth:"full"}),dateTime:pP({formats:Lkt,defaultWidth:"full"})};const Nkt=Bkt;var zkt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vkt=function(t,n,r,o){return zkt[t]};const Hkt=Vkt;function O1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var Ukt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wkt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ykt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qkt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gkt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kkt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zkt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xkt={ordinalNumber:Zkt,era:O1({values:Ukt,defaultWidth:"wide"}),quarter:O1({values:Wkt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:O1({values:Ykt,defaultWidth:"wide"}),day:O1({values:qkt,defaultWidth:"wide"}),dayPeriod:O1({values:Gkt,defaultWidth:"wide",formattingValues:Kkt,defaultFormattingWidth:"wide"})};const Qkt=Xkt;function R1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?eEt(a,function(f){return f.test(s)}):Jkt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function Jkt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function eEt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function tEt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var nEt=/^(\d+)(th|st|nd|rd)?/i,rEt=/\d+/i,oEt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iEt={any:[/^b/i,/^(a|c)/i]},sEt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aEt={any:[/1/i,/2/i,/3/i,/4/i]},lEt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cEt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uEt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dEt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fEt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hEt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pEt={ordinalNumber:tEt({matchPattern:nEt,parsePattern:rEt,valueCallback:function(t){return parseInt(t,10)}}),era:R1({matchPatterns:oEt,defaultMatchWidth:"wide",parsePatterns:iEt,defaultParseWidth:"any"}),quarter:R1({matchPatterns:sEt,defaultMatchWidth:"wide",parsePatterns:aEt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:R1({matchPatterns:lEt,defaultMatchWidth:"wide",parsePatterns:cEt,defaultParseWidth:"any"}),day:R1({matchPatterns:uEt,defaultMatchWidth:"wide",parsePatterns:dEt,defaultParseWidth:"any"}),dayPeriod:R1({matchPatterns:fEt,defaultMatchWidth:"any",parsePatterns:hEt,defaultParseWidth:"any"})};const mEt=pEt;var gEt={code:"en-US",formatDistance:$kt,formatLong:Nkt,formatRelative:Hkt,localize:Qkt,match:mEt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Eke=gEt;var vEt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yEt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bEt=/^'([^]*?)'?$/,xEt=/''/g,wEt=/[a-zA-Z]/;function Jo(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C;Ke(2,arguments);var _=String(t),S=sd(),k=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:Eke,j=At((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=At((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var T=Xe(e);if(!Vu(T))throw new RangeError("Invalid time value");var A=aE(T),D=bke(T,A),I={firstWeekContainsDate:j,weekStartsOn:E,locale:k,_originalDate:T},P=_.match(yEt).map(function($){var R=$[0];if(R==="p"||R==="P"){var V=F$[R];return V($,k.formatLong)}return $}).join("").match(vEt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return CEt($);var V=Tkt[R];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&kke($)&&lE($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ske($)&&lE($,t,String(e)),V(D,$,k.localize,I);if(R.match(wEt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return P}function CEt(e){var t=e.match(bEt);return t?t[1].replace(xEt,"'"):e}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(this,arguments)}var vc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vc||(vc={}));var cE=function(e){return e},cZ="beforeunload",_Et="popstate";function SEt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var k=r.location,j=k.pathname,E=k.search,T=k.hash,A=o.state||{};return[A.idx,cE({pathname:j,search:E,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var k=vc.Pop,j=i(),E=j[0],T=j[1];if(m.length){if(E!=null){var A=d-E;A&&(s={action:k,location:T,retry:function(){_(A*-1)}},_(A))}}else b(k)}}r.addEventListener(_Et,a);var c=vc.Pop,u=i(),d=u[0],f=u[1],p=uE(),m=uE();d==null&&(d=0,o.replaceState(Uv({},o.state,{idx:d}),""));function v(k){return typeof k=="string"?k:jke(k)}function g(k,j){return j===void 0&&(j=null),cE(Uv({pathname:f.pathname,hash:"",search:""},typeof k=="string"?B$(k):k,{state:j,key:L$()}))}function y(k,j){return[{usr:k.state,key:k.key,idx:j},v(k)]}function x(k,j,E){return!m.length||(m.call({action:k,location:j,retry:E}),!1)}function b(k){c=k;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(k,j){var E=vc.Push,T=g(k,j);function A(){w(k,j)}if(x(E,T,A)){var D=y(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}b(E)}}function C(k,j){var E=vc.Replace,T=g(k,j);function A(){C(k,j)}if(x(E,T,A)){var D=y(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),b(E)}}function _(k){o.go(k)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var E=m.push(j);return m.length===1&&r.addEventListener(cZ,dZ),function(){E(),m.length||r.removeEventListener(cZ,dZ)}}};return S}function kEt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=cE(Uv({pathname:"/",search:"",hash:"",state:null,key:L$()},typeof w=="string"?B$(w):w));return C}),s=uZ(o??i.length-1,0,i.length-1),a=vc.Pop,c=i[s],u=uE(),d=uE();function f(w){return typeof w=="string"?w:jke(w)}function p(w,C){return C===void 0&&(C=null),cE(Uv({pathname:c.pathname,search:"",hash:""},typeof w=="string"?B$(w):w,{state:C,key:L$()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=vc.Push,S=p(w,C);function k(){g(w,C)}m(_,S,k)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=vc.Replace,S=p(w,C);function k(){y(w,C)}m(_,S,k)&&(i[s]=S,v(_,S))}function x(w){var C=uZ(s+w,0,i.length-1),_=vc.Pop,S=i[C];function k(){x(w)}m(_,S,k)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function uZ(e,t,n){return Math.min(Math.max(e,t),n)}function dZ(e){e.preventDefault(),e.returnValue=""}function uE(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function L$(){return Math.random().toString(36).substr(2,8)}function jke(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function B$(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Tke={exports:{}},Ake={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=h;function EEt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jEt=typeof Object.is=="function"?Object.is:EEt,TEt=Ow.useSyncExternalStore,AEt=Ow.useRef,DEt=Ow.useEffect,IEt=Ow.useMemo,PEt=Ow.useDebugValue;Ake.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=AEt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=IEt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,jEt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=TEt(e,i[0],i[1]);return DEt(function(){s.hasValue=!0,s.value=a},[a]),PEt(a),a};Tke.exports=Ake;var s9=Tke.exports,OEt=Fc,Dke=/[\\^$.*+?()[\]{}|]/g,REt=RegExp(Dke.source);function $Et(e){return e=OEt(e),e&&REt.test(e)?e.replace(Dke,"\\$&"):e}var MEt=$Et;const a9=Pe(MEt);var ad={};Object.defineProperty(ad,"__esModule",{value:!0});var FEt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),mP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},LEt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:FEt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Ike={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var u_=1;u_<20;u_++)Ike["f"+u_]=111+u_;function gT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return Pke(s,t)}),o=function(a){return r.some(function(c){return Oke(c,a)})},i=n==null?o:o(n);return i}function BEt(e,t){return gT(e,t)}function NEt(e,t){return gT(e,{byKey:!0},t)}function Pke(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in mP)r[mP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=l9(p),g=mP[v];(i===1||!g)&&(n?r.key=v:r.which=Rke(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function Oke(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function Rke(e){e=l9(e);var t=Ike[e]||e.toUpperCase().charCodeAt(0);return t}function l9(e){return e=e.toLowerCase(),e=LEt[e]||e,e}var gi=ad.default=gT;ad.isHotkey=gT;ad.isCodeHotkey=BEt;ad.isKeyHotkey=NEt;ad.parseHotkey=Pke;ad.compareHotkey=Oke;ad.toKeyCode=Rke;ad.toKeyName=l9;var zEt=e_e,VEt=Sw,HEt=Vj,UEt=Qr,WEt=Xf,YEt=Hj,qEt=Wj,GEt=s8,KEt="[object Map]",ZEt="[object Set]",XEt=Object.prototype,QEt=XEt.hasOwnProperty;function JEt(e){if(e==null)return!0;if(WEt(e)&&(UEt(e)||typeof e=="string"||typeof e.splice=="function"||YEt(e)||GEt(e)||HEt(e)))return!e.length;var t=VEt(e);if(t==KEt||t==ZEt)return!e.size;if(qEt(e))return!zEt(e).length;for(var n in e)if(QEt.call(e,n))return!1;return!0}var e5t=JEt;const t5t=Pe(e5t);var n5t=Fc,r5t=0;function o5t(e){var t=++r5t;return n5t(e)+t}var i5t=o5t;const $ke=Pe(i5t);function Ui(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function c9(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Wv(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=sd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Lf(e){Ke(1,arguments);var t=Xe(e);return t.setHours(0,0,0,0),t}var s5t=864e5;function a5t(e,t){Ke(2,arguments);var n=Lf(e),r=Lf(t),o=n.getTime()-aE(n),i=r.getTime()-aE(r);return Math.round((o-i)/s5t)}function l5t(e,t){Ke(2,arguments);var n=At(t),r=n*7;return Ui(e,r)}function sb(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var vT=6e4,yT=36e5,c5t=1e3;function Ld(e,t){Ke(2,arguments);var n=Lf(e),r=Lf(t);return n.getTime()===r.getTime()}function u5t(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function d5t(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()-r.getFullYear()}function fZ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Mke(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=fZ(n,r),i=Math.abs(a5t(n,r));n.setDate(n.getDate()-o*i);var s=+(fZ(n,r)===-o),a=o*(i-s);return a===0?0:a}function u9(e,t){return Ke(2,arguments),Xe(e).getTime()-Xe(t).getTime()}var hZ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},f5t="trunc";function bT(e){return e?hZ[e]:hZ[f5t]}function h5t(e,t,n){Ke(2,arguments);var r=u9(e,t)/yT;return bT(n==null?void 0:n.roundingMethod)(r)}function p5t(e,t,n){Ke(2,arguments);var r=u9(e,t)/vT;return bT(n==null?void 0:n.roundingMethod)(r)}function dE(e){Ke(1,arguments);var t=Xe(e);return t.setHours(23,59,59,999),t}function m5t(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function g5t(e){Ke(1,arguments);var t=Xe(e);return dE(t).getTime()===m5t(t).getTime()}function v5t(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=sb(n,r),i=Math.abs(u5t(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=sb(n,r)===-o;g5t(Xe(e))&&i===1&&sb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function y5t(e,t,n){Ke(2,arguments);var r=u9(e,t)/1e3;return bT(n==null?void 0:n.roundingMethod)(r)}function b5t(e,t,n){Ke(2,arguments);var r=Mke(e,t)/7;return bT(n==null?void 0:n.roundingMethod)(r)}function x5t(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=sb(n,r),i=Math.abs(d5t(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=sb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function pZ(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(0,0),t}function Fke(e,t){Ke(1,arguments);var n=e||{},r=Xe(n.start),o=Xe(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Wv(r,t),a=Wv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Xe(u)),u=l5t(u,1),u.setHours(15);return c}function Lke(e){Ke(1,arguments);var t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function mZ(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(59,999),t}function w5t(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function C5t(e){Ke(1,arguments);var t=Xe(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function _5t(e){Ke(1,arguments);var t=Xe(e),n=t.getMinutes();return n}function S5t(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getFullYear(),p=sd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Wv(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=Wv(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function k5t(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=sd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=S5t(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Wv(m,t);return v}var E5t=6048e5;function Bke(e,t){Ke(1,arguments);var n=Xe(e),r=Wv(n,t).getTime()-k5t(n,t).getTime();return Math.round(r/E5t)+1}function Nke(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function N$(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()>r.getTime()}function zke(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()<r.getTime()}function gZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j5t(e,t){if(e){if(typeof e=="string")return gZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gZ(e,t)}}function vZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j5t(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function He(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z$(e,t){return z$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},z$(e,t)}function cn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z$(e,t)}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fE(e)}function T5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A5t(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function un(e){var t=T5t();return function(){var r=fE(e),o;if(t){var i=fE(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return A5t(this,o)}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D5t(e,t){if(Il(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vke(e){var t=D5t(e,"string");return Il(t)==="symbol"?t:String(t)}function yZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vke(r.key),r)}}function Zt(e,t,n){return t&&yZ(e.prototype,t),n&&yZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ne(e,t,n){return t=Vke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I5t=10,Hke=function(){function e(){Kt(this,e),Ne(this,"priority",void 0),Ne(this,"subPriority",0)}return Zt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),P5t=function(e){cn(n,e);var t=un(n);function n(r,o,i,s,a){var c;return Kt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Zt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(Hke),O5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",I5t),Ne(He(r),"subPriority",-1),r}return Zt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(Hke),vn=function(){function e(){Kt(this,e),Ne(this,"incompatibleTokens",void 0),Ne(this,"priority",void 0),Ne(this,"subPriority",void 0)}return Zt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new P5t(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),R5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",140),Ne(He(r),"incompatibleTokens",["R","u","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),Kr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Zr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ar(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function pc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*yT+i*vT+s*c5t),rest:t.slice(n[0].length)}}function Uke(e){return Ar(Kr.anyDigitsSigned,e)}function Hr(e,t){switch(e){case 1:return Ar(Kr.singleDigit,t);case 2:return Ar(Kr.twoDigits,t);case 3:return Ar(Kr.threeDigits,t);case 4:return Ar(Kr.fourDigits,t);default:return Ar(new RegExp("^\\d{1,"+e+"}"),t)}}function hE(e,t){switch(e){case 1:return Ar(Kr.singleDigitSigned,t);case 2:return Ar(Kr.twoDigitsSigned,t);case 3:return Ar(Kr.threeDigitsSigned,t);case 4:return Ar(Kr.fourDigitsSigned,t);default:return Ar(new RegExp("^-?\\d{1,"+e+"}"),t)}}function d9(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Wke(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function Yke(e){return e%400===0||e%4===0&&e%100!==0}var $5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",130),Ne(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Zr(Hr(4,o),a);case"yo":return Zr(s.ordinalNumber(o,{unit:"year"}),a);default:return Zr(Hr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=Wke(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),M5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",130),Ne(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Zr(Hr(4,o),a);case"Yo":return Zr(s.ordinalNumber(o,{unit:"year"}),a);default:return Zr(Hr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=i9(o,a);if(s.isTwoDigitYear){var u=Wke(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Hp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Hp(o,a)}}]),n}(vn),F5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",130),Ne(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return hE(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Hv(a)}}]),n}(vn),L5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",130),Ne(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return hE(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),B5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",120),Ne(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Hr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),N5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",120),Ne(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Hr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),z5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ne(He(r),"priority",110),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Zr(Ar(Kr.month,o),a);case"MM":return Zr(Hr(2,o),a);case"Mo":return Zr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn),V5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",110),Ne(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Zr(Ar(Kr.month,o),a);case"LL":return Zr(Hr(2,o),a);case"Lo":return Zr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(vn);function H5t(e,t,n){Ke(2,arguments);var r=Xe(e),o=At(t),i=Cke(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var U5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",100),Ne(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ar(Kr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Hp(H5t(o,s,a),a)}}]),n}(vn);function W5t(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=wke(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var Y5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",100),Ne(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ar(Kr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Hv(W5t(o,s))}}]),n}(vn),q5t=[31,28,31,30,31,30,31,31,30,31,30,31],G5t=[31,29,31,30,31,30,31,31,30,31,30,31],K5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"subPriority",1),Ne(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ar(Kr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=Yke(s),c=o.getUTCMonth();return a?i>=1&&i<=G5t[c]:i>=1&&i<=q5t[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(vn),Z5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"subpriority",1),Ne(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ar(Kr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=Yke(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(vn);function f9(e,t,n){var r,o,i,s,a,c,u,d;Ke(2,arguments);var f=sd(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Xe(e),v=At(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var X5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=f9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(vn),Q5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Zr(Hr(i.length,o),c);case"eo":return Zr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=f9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(vn),J5t=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Zr(Hr(i.length,o),c);case"co":return Zr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=f9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(vn);function ejt(e,t){Ke(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Xe(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var tjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",90),Ne(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Hr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Zr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Zr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Zr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Zr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=ejt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(vn),njt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",80),Ne(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(d9(s),0,0,0),o}}]),n}(vn),rjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",80),Ne(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(d9(s),0,0,0),o}}]),n}(vn),ojt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",80),Ne(He(r),"incompatibleTokens",["a","b","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(d9(s),0,0,0),o}}]),n}(vn),ijt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",70),Ne(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ar(Kr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(vn),sjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",70),Ne(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ar(Kr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(vn),ajt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",70),Ne(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ar(Kr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(vn),ljt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",70),Ne(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ar(Kr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(vn),cjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",60),Ne(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ar(Kr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(vn),ujt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",50),Ne(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ar(Kr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Hr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(vn),djt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",30),Ne(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Zr(Hr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(vn),fjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",10),Ne(He(r),"incompatibleTokens",["t","T","x"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return pc(hc.basicOptionalMinutes,o);case"XX":return pc(hc.basic,o);case"XXXX":return pc(hc.basicOptionalSeconds,o);case"XXXXX":return pc(hc.extendedOptionalSeconds,o);case"XXX":default:return pc(hc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(vn),hjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",10),Ne(He(r),"incompatibleTokens",["t","T","X"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return pc(hc.basicOptionalMinutes,o);case"xx":return pc(hc.basic,o);case"xxxx":return pc(hc.basicOptionalSeconds,o);case"xxxxx":return pc(hc.extendedOptionalSeconds,o);case"xxx":default:return pc(hc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(vn),pjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",40),Ne(He(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return Uke(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(vn),mjt=function(e){cn(n,e);var t=un(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Ne(He(r),"priority",20),Ne(He(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return Uke(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(vn),gjt={G:new R5t,y:new $5t,Y:new M5t,R:new F5t,u:new L5t,Q:new B5t,q:new N5t,M:new z5t,L:new V5t,w:new U5t,I:new Y5t,d:new K5t,D:new Z5t,E:new X5t,e:new Q5t,c:new J5t,i:new tjt,a:new njt,b:new rjt,B:new ojt,h:new ijt,H:new sjt,K:new ajt,k:new ljt,m:new cjt,s:new ujt,S:new djt,X:new fjt,x:new hjt,t:new pjt,T:new mjt},vjt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yjt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bjt=/^'([^]*?)'?$/,xjt=/''/g,wjt=/\S/,Cjt=/[a-zA-Z]/;function _jt(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_;Ke(3,arguments);var S=String(e),k=String(t),j=sd(),E=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:Eke;if(!E.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(k==="")return S===""?Xe(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:E},I=[new O5t],P=k.match(yjt).map(function(Q){var ne=Q[0];if(ne in F$){var K=F$[ne];return K(Q,E.formatLong)}return Q}).join("").match(vjt),$=[],R=vZ(P),V;try{var N=function(){var ne=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&kke(ne)&&lE(ne,k,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ske(ne)&&lE(ne,k,e);var K=ne[0],J=gjt[K];if(J){var oe=J.incompatibleTokens;if(Array.isArray(oe)){var fe=$.find(function(ge){return oe.includes(ge.token)||ge.token===K});if(fe)throw new RangeError("The format string mustn't contain `".concat(fe.fullToken,"` and `").concat(ne,"` at the same time"))}else if(J.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));$.push({token:K,fullToken:ne});var ae=J.run(S,ne,E.match,D);if(!ae)return{v:new Date(NaN)};I.push(ae.setter),S=ae.rest}else{if(K.match(Cjt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(ne==="''"?ne="'":K==="'"&&(ne=Sjt(ne)),S.indexOf(ne)===0)S=S.slice(ne.length);else return{v:new Date(NaN)}}};for(R.s();!(V=R.n()).done;){var H=N();if(Il(H)==="object")return H.v}}catch(Q){R.e(Q)}finally{R.f()}if(S.length>0&&wjt.test(S))return new Date(NaN);var G=I.map(function(Q){return Q.priority}).sort(function(Q,ne){return ne-Q}).filter(function(Q,ne,K){return K.indexOf(Q)===ne}).map(function(Q){return I.filter(function(ne){return ne.priority===Q}).sort(function(ne,K){return K.subPriority-ne.subPriority})}).map(function(Q){return Q[0]}),U=Xe(n);if(isNaN(U.getTime()))return new Date(NaN);var q=bke(U,aE(U)),Z={},B=vZ(G),W;try{for(B.s();!(W=B.n()).done;){var z=W.value;if(!z.validate(q,D))return new Date(NaN);var X=z.set(q,Z,D);Array.isArray(X)?(q=X[0],w5t(Z,X[1])):q=X}}catch(Q){B.e(Q)}finally{B.f()}return q}function Sjt(e){return e.match(bjt)[1].replace(xjt,"'")}function qke(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function kjt(e,t){Ke(2,arguments);var n=At(t);return Ui(e,-n)}function Ejt(e,t){var n;Ke(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=Djt(e),i;if(o.date){var s=Ijt(o.date,r);i=Pjt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=Ojt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=Rjt(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var d_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jjt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tjt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ajt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Djt(e){var t={},n=e.split(d_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],d_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(d_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=d_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function Ijt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function Pjt(e,t){if(t===null)return new Date(NaN);var n=e.match(jjt);if(!n)return new Date(NaN);var r=!!n[4],o=$1(n[1]),i=$1(n[2])-1,s=$1(n[3]),a=$1(n[4]),c=$1(n[5])-1;if(r)return Bjt(t,a,c)?$jt(t,a,c):new Date(NaN);var u=new Date(0);return!Fjt(t,i,s)||!Ljt(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function $1(e){return e?parseInt(e):1}function Ojt(e){var t=e.match(Tjt);if(!t)return NaN;var n=gP(t[1]),r=gP(t[2]),o=gP(t[3]);return Njt(n,r,o)?n*yT+r*vT+o*1e3:NaN}function gP(e){return e&&parseFloat(e.replace(",","."))||0}function Rjt(e){if(e==="Z")return 0;var t=e.match(Ajt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return zjt(r,o)?n*(r*yT+o*vT):NaN}function $jt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var Mjt=[31,null,31,30,31,30,31,31,30,31,30,31];function Gke(e){return e%400===0||e%4===0&&e%100!==0}function Fjt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Mjt[t]||(Gke(e)?29:28))}function Ljt(e,t){return t>=1&&t<=(Gke(e)?366:365)}function Bjt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Njt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function zjt(e,t){return t>=0&&t<=59}function Kke(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=C5t(s);return n.setMonth(r,Math.min(i,a)),n}function Vjt(e,t){if(Ke(2,arguments),Il(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Xe(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Kke(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function Hjt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setDate(r),n}function vP(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setHours(r),n}function tS(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setMinutes(r),n}function Ujt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function bZ(){return Lf(Date.now())}function Wjt(e,t){Ke(2,arguments);var n=At(t);return c9(e,-n)}function xZ(e,t){if(Ke(2,arguments),!t||Il(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,c=t.seconds?At(t.seconds):0,u=Wjt(e,r+n*12),d=kjt(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const h9=[],p9=[],Zke=new Set,Rw=new Map,$w=new Map,Xke=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,pE=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),Qke=(e,t,n)=>{if(!e.length||Zke.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return pE(c===""?t[u-1]:c,d)})}return t},Jke=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?pE(e,o):t.has(o)?pE(e,t.get(o)):Qke(o,e,r)},eEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:Qke(o,o,r)===o},zr=(e,t,n)=>{const r=t===1?zr.singular(e):zr.plural(e);return n?"".concat(t," ").concat(r):r};zr.plural=e=>Jke(e,$w,Rw,h9);zr.singular=e=>Jke(e,Rw,$w,p9);zr.addPluralRule=(e,t)=>{h9.push([Xke(e),t])};zr.addSingularRule=(e,t)=>{p9.push([Xke(e),t])};zr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();$w.set(r,n),Rw.set(n,r)};zr.addUncountableRule=e=>{if(typeof e=="string"){Zke.add(e.toLowerCase());return}zr.addPluralRule(e,"$0"),zr.addSingularRule(e,"$0")};zr.isPlural=e=>eEe(e,$w,Rw,h9);zr.isSingular=e=>eEe(e,Rw,$w,p9);const Yjt=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],qjt=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],Gjt=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],Kjt=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of Yjt)zr.addIrregularRule(e,t);for(const[e,t]of qjt)zr.addPluralRule(e,t);for(const[e,t]of Gjt)zr.addSingularRule(e,t);for(const e of Kjt)zr.addUncountableRule(e);var tEe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(vs,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],$=D[3];if(!I||!P||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=P.split("x"),V=R[0],N=R[1],H=+V,G=+N,U=isFinite(H)&&isFinite(G);if(!U)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:H,height:G,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=P.asset._ref||P.asset._id||"",R=a($),V=Math.round(P.crop.left*R.width),N=Math.round(P.crop.top*R.height),H={left:V,top:N,width:Math.round(R.width-P.crop.right*R.width-V),height:Math.round(R.height-P.crop.bottom*R.height-N)},G=P.hotspot.height*R.height/2,U=P.hotspot.width*R.width/2,q=P.hotspot.x*R.width,Z=P.hotspot.y*R.height,B={left:q-U,top:Z-G,right:q+U,bottom:Z+G};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:H,hotspot:B},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,V=R.left,N=R.top,H=R.width,G=R.height,U=V!==0||N!==0||G!==A.asset.height||H!==A.asset.width;U&&$.push("rect="+V+","+N+","+H+","+G)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var q=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return q&&$.push("flip="+q),g.forEach(function(Z){var B=Z[0],W=Z[1];typeof A[B]<"u"?$.push(W+"="+encodeURIComponent(A[B])):typeof A[W]<"u"&&$.push(W+"="+encodeURIComponent(A[W]))}),$.length===0?P:P+"?"+$.join("&")}function b(A,D){var I,P=D.width,$=D.height;if(!(P&&$))return{width:P,height:$,rect:A.crop};var R=A.crop,V=A.hotspot,N=P/$,H=R.width/R.height;if(H>N){var G=Math.round(R.height),U=Math.round(G*N),q=Math.max(0,Math.round(R.top)),Z=Math.round((V.right-V.left)/2+V.left),B=Math.max(0,Math.round(Z-U/2));B<R.left?B=R.left:B+U>R.left+R.width&&(B=R.left+R.width-U),I={left:B,top:q,width:U,height:G}}else{var W=R.width,z=Math.round(W/N),X=Math.max(0,Math.round(R.left)),Q=Math.round((V.bottom-V.top)/2+V.top),ne=Math.max(0,Math.round(Q-z/2));ne<R.top?ne=R.top:ne+z>R.top+R.height&&(ne=R.top+R.height-z),I={left:X,top:ne,width:W,height:z}}return{width:P,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function k(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var $=P.value,R=$[0],V=$[1];if(A===R||A===V)return R}return A}function E(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:$})}var V=A;if(k(V)){var N=V.clientConfig,H=N.apiHost,G=N.projectId,U=N.dataset,q=H||"https://api.sanity.io";return new T(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:G,dataset:U})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var $=P.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var V in P)if(P.hasOwnProperty(V)){var N=j(V);R[N]=P[V]}return new A(this,n({baseUrl:$},R))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,$){return this.withOptions({focalPoint:{x:P,y:$}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,$){return this.withOptions({width:P,height:$})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,$,R,V){return this.withOptions({rect:{left:P,top:$,width:R,height:V}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return E})})(tEe);var Zjt=tEe.exports;const xT=Pe(Zjt);function Xjt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ix(e,t)}function V$(e){return V$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V$(e)}function ix(e,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},ix(e,t)}function Qjt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nS(e,t,n){return Qjt()?nS=Reflect.construct.bind():nS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&ix(u,s.prototype),u},nS.apply(null,arguments)}function Jjt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function H$(e){var t=typeof Map=="function"?new Map:void 0;return H$=function(r){if(r===null||!Jjt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return nS(r,arguments,V$(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ix(o,r)},H$(e)}var f_=Object.freeze({left:0,top:0,bottom:0,right:0}),h_=Object.freeze({x:.5,y:.5,height:1,width:1}),eTt=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=f_.top,a=f_.bottom,c=f_.left,u=f_.right;return n===s&&r===a&&o===c&&i===u},tTt=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=h_.x,a=h_.y,c=h_.width,u=h_.height;return n===s&&r===a&&o===c&&i===u},m9=function(e){Xjt(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(H$(Error));function nTt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function rTt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(nTt(t))return;throw t}}}var Bd="https://cdn.sanity.io",oTt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,iTt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,nEe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,rEe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function sTt(e){return Mw(e)&&typeof e._ref=="string"}function aTt(e){return Mw(e)&&typeof e._id=="string"}function lTt(e){return Mw(e)&&typeof e.path=="string"}function cTt(e){return Mw(e)&&typeof e.url=="string"}function uTt(e){var t=e;return Mw(t)&&t.asset&&typeof t.asset=="object"}function Mw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function dTt(e){if(nEe.test(e))return e;if(!e.startsWith(Bd+"/"))throw new m9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Bd.length+1,n)}var fTt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function hTt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+fTt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function pTt(e){var t=oEe(e),n=hTt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function oEe(e){var t=uTt(e)?e.asset:e,n="";typeof t=="string"?n=mTt(t):sTt(t)?n=t._ref:aTt(t)?n=t._id:lTt(t)?n=Bg(Bd+"/"+t.path):cTt(t)&&(n=Bg(t.url));var r=n&&rEe.test(n);if(!r)throw new m9(e);return n}var iEe=rTt(oEe);function mTt(e){if(rEe.test(e))return e;if(e.indexOf(Bd+"/images")===0||e.indexOf(Bd+"/files")===0)return Bg(e);if(nEe.test(e))return Bg(Bd+"/"+e);if(vTt(e))return Bg(Bd+"/files/a/b/"+e);if(gTt(e))return Bg(Bd+"/images/a/b/"+e);throw new m9(e)}function Bg(e){var t=dTt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function gTt(e){return iTt.test(e)}function vTt(e){return oTt.test(e)}function wZ(e){var t=iEe(e);return t?t.startsWith("file-"):!1}function ab(e){var t=iEe(e);return t?t.startsWith("image-"):!1}function yTt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var bTt=yTt;const wT=Pe(bTt);var xTt=Kj,wTt=J8,CTt=wTt(function(e,t,n){xTt(e,n,t)}),_Tt=CTt;const g9=Pe(_Tt);var STt=Fc;function kTt(e){return STt(e).toLowerCase()}var ETt=kTt;const lv=Pe(ETt);var jTt=D0,TTt=P0,ATt=fT,DTt=Gj,ITt=TTt(function(e){return ATt(jTt(e,1,DTt,!0))}),PTt=ITt;const sEe=Pe(PTt);function OTt(){}var v9=OTt,RTt=W8,$Tt=v9;function mE(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}mE.prototype=RTt($Tt.prototype);mE.prototype.constructor=mE;var y9=mE,CZ=r_e,MTt=CZ&&new CZ,FTt=MTt,_Z=FTt,LTt=q8,BTt=_Z?function(e){return _Z.get(e)}:LTt,aEe=BTt,NTt={},zTt=NTt,SZ=zTt,VTt=Object.prototype,HTt=VTt.hasOwnProperty;function UTt(e){for(var t=e.name+"",n=SZ[t],r=HTt.call(SZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var lEe=UTt,WTt=W8,YTt=v9,qTt=4294967295;function gE(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qTt,this.__views__=[]}gE.prototype=WTt(YTt.prototype);gE.prototype.constructor=gE;var b9=gE,GTt=b9,KTt=y9,ZTt=V8;function XTt(e){if(e instanceof GTt)return e.clone();var t=new KTt(e.__wrapped__,e.__chain__);return t.__actions__=ZTt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var QTt=XTt,JTt=b9,kZ=y9,eAt=v9,tAt=Qr,nAt=Ya,rAt=QTt,oAt=Object.prototype,iAt=oAt.hasOwnProperty;function vE(e){if(nAt(e)&&!tAt(e)&&!(e instanceof JTt)){if(e instanceof kZ)return e;if(iAt.call(e,"__wrapped__"))return rAt(e)}return new kZ(e)}vE.prototype=eAt.prototype;vE.prototype.constructor=vE;var sAt=vE,aAt=b9,lAt=aEe,cAt=lEe,uAt=sAt;function dAt(e){var t=cAt(e),n=uAt[t];if(typeof n!="function"||!(t in aAt.prototype))return!1;if(e===n)return!0;var r=lAt(n);return!!r&&e===r[0]}var fAt=dAt,EZ=y9,hAt=v8,pAt=aEe,yP=lEe,mAt=Qr,jZ=fAt,gAt="Expected a function",vAt=8,yAt=32,bAt=128,xAt=256;function wAt(e){return hAt(function(t){var n=t.length,r=n,o=EZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(gAt);if(o&&!s&&yP(i)=="wrapper")var s=new EZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=yP(i),c=a=="wrapper"?pAt(i):void 0;c&&jZ(c[0])&&c[1]==(bAt|vAt|yAt|xAt)&&!c[4].length&&c[9]==1?s=s[yP(c[0])].apply(s,c[3]):s=i.length==1&&jZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&mAt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var CAt=wAt,_At=CAt,SAt=_At(),kAt=SAt;const EAt=Pe(kAt);var jAt=f8;function TAt(e,t){for(var n=e.length;n--&&jAt(t,e[n],0)>-1;);return n}var AAt=TAt,DAt=f8;function IAt(e,t){for(var n=-1,r=e.length;++n<r&&DAt(t,e[n],0)>-1;);return n}var PAt=IAt,OAt=y_e,RAt=Hve,$At=PSe,MAt=AAt,FAt=PAt,TZ=NSe,LAt=Fc;function BAt(e,t,n){if(e=LAt(e),e&&(n||t===void 0))return RAt(e);if(!e||!(t=OAt(t)))return e;var r=TZ(e),o=TZ(t),i=FAt(r,o),s=MAt(r,o)+1;return $At(r,i,s).join("")}var NAt=BAt;const zAt=Pe(NAt);var p_,VAt=new Uint8Array(16);function HAt(){if(!p_&&(p_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!p_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p_(VAt)}const UAt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function WAt(e){return typeof e=="string"&&UAt.test(e)}var Wo=[];for(var bP=0;bP<256;++bP)Wo.push((bP+256).toString(16).substr(1));function YAt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Wo[e[t+0]]+Wo[e[t+1]]+Wo[e[t+2]]+Wo[e[t+3]]+"-"+Wo[e[t+4]]+Wo[e[t+5]]+"-"+Wo[e[t+6]]+Wo[e[t+7]]+"-"+Wo[e[t+8]]+Wo[e[t+9]]+"-"+Wo[e[t+10]]+Wo[e[t+11]]+Wo[e[t+12]]+Wo[e[t+13]]+Wo[e[t+14]]+Wo[e[t+15]]).toLowerCase();if(!WAt(n))throw TypeError("Stringified UUID is invalid");return n}function ld(e,t,n){e=e||{};var r=e.random||(e.rng||HAt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return YAt(r)}function x9(e){return window.crypto.getRandomValues(e)}var cEe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function qAt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&cEe(e,t)&&!w9(e[t]))return!1;return!0}function GAt(e){for(let t=0;t<e.length;t++)if(!w9(e[t]))return!1;return!0}function w9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?GAt(e):t==="object"?qAt(e):!1}function KAt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&cEe(e,t)&&e[t]!==void 0)return!1;return!0}const ZAt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function XAt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return x9(t),t}function Fw(e){const t=ZAt();return XAt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const QAt=Object.prototype.toString;function JAt(e){switch(QAt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function Ss(e){const t=JAt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var U$={exports:{}},xP,AZ;function eDt(){if(AZ)return xP;AZ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;xP=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return xP}function tDt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=eDt(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var k=m[b];C=S.call(g,k),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var nDt=tDt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=nDt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(U$,U$.exports);var rDt=U$.exports;const wy=Pe(rDt);var oDt=aDt,uEe="---",dEe="A-Za-z--------",iDt=new RegExp("^[^"+dEe+"]*["+uEe+"]"),sDt=new RegExp("^[^"+uEe+"]*["+dEe+"]");function aDt(e){return e=String(e||""),iDt.test(e)?"rtl":sDt.test(e)?"ltr":"neutral"}const fEe=Pe(oDt),DZ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,IZ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",wP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return IZ(n.overflowY,t)||IZ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},m_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,lDt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},PZ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!DZ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;DZ(v)&&f(v);){if(v=lDt(v),v===p){m.push(v);break}v!=null&&v===document.body&&wP(v)&&!wP(document.documentElement)||v!=null&&wP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:k,left:j}=e.getBoundingClientRect(),{top:E,right:T,bottom:A,left:D}=(R=>{const V=window.getComputedStyle(R);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-E:a==="end"?k+A:_+w/2-E+A,P=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const V=m[R],{height:N,width:H,top:G,right:U,bottom:q,left:Z}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&k<=y&&S<=g&&_>=G&&k<=q&&j>=Z&&S<=U)return $;const B=getComputedStyle(V),W=parseInt(B.borderLeftWidth,10),z=parseInt(B.borderTopWidth,10),X=parseInt(B.borderRightWidth,10),Q=parseInt(B.borderBottomWidth,10);let ne=0,K=0;const J="offsetWidth"in V?V.offsetWidth-V.clientWidth-W-X:0,oe="offsetHeight"in V?V.offsetHeight-V.clientHeight-z-Q:0,fe="offsetWidth"in V?V.offsetWidth===0?0:H/V.offsetWidth:0,ae="offsetHeight"in V?V.offsetHeight===0?0:N/V.offsetHeight:0;if(p===V)ne=a==="start"?I:a==="end"?I-y:a==="nearest"?m_(b,b+y,y,z,Q,b+I,b+I+w,w):I-y/2,K=c==="start"?P:c==="center"?P-g/2:c==="end"?P-g:m_(x,x+g,g,W,X,x+P,x+P+C,C),ne=Math.max(0,ne+b),K=Math.max(0,K+x);else{ne=a==="start"?I-G-z:a==="end"?I-q+Q+oe:a==="nearest"?m_(G,q,N,z,Q+oe,I,I+w,w):I-(G+N/2)+oe/2,K=c==="start"?P-Z-W:c==="center"?P-(Z+H/2)+J/2:c==="end"?P-U+X+J:m_(Z,U,H,W,X+J,P,P+C,C);const{scrollLeft:ge,scrollTop:xe}=V;ne=ae===0?0:Math.max(0,Math.min(xe+ne/ae,V.scrollHeight-N/ae+oe)),K=fe===0?0:Math.max(0,Math.min(ge+K/fe,V.scrollWidth-H/fe+J)),I+=xe-ne,P+=ge-K}$.push({el:V,top:ne,left:K})}return $},cDt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Yv(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(PZ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of PZ(e,cDt(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}var hEe=Symbol.for("immer-nothing"),OZ=Symbol.for("immer-draftable"),na=Symbol.for("immer-state");function fl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qv=Object.getPrototypeOf;function Up(e){return!!e&&!!e[na]}function Wp(e){var t;return e?pEe(e)||Array.isArray(e)||!!e[OZ]||!!((t=e.constructor)!=null&&t[OZ])||_T(e)||ST(e):!1}var uDt=Object.prototype.constructor.toString();function pEe(e){if(!e||typeof e!="object")return!1;const t=qv(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===uDt}function sx(e,t){CT(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function CT(e){const t=e[na];return t?t.type_:Array.isArray(e)?1:_T(e)?2:ST(e)?3:0}function W$(e,t){return CT(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mEe(e,t,n){const r=CT(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function dDt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _T(e){return e instanceof Map}function ST(e){return e instanceof Set}function Vh(e){return e.copy_||e.base_}function Y$(e,t){if(_T(e))return new Map(e);if(ST(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&pEe(e))return qv(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[na];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(qv(e),n)}function C9(e,t=!1){return kT(e)||Up(e)||!Wp(e)||(CT(e)>1&&(e.set=e.add=e.clear=e.delete=fDt),Object.freeze(e),t&&sx(e,(n,r)=>C9(r,!0))),e}function fDt(){fl(2)}function kT(e){return Object.isFrozen(e)}var hDt={};function Yp(e){const t=hDt[e];return t||fl(0,e),t}var ax;function gEe(){return ax}function pDt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RZ(e,t){t&&(Yp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function q$(e){G$(e),e.drafts_.forEach(mDt),e.drafts_=null}function G$(e){e===ax&&(ax=e.parent_)}function $Z(e){return ax=pDt(ax,e)}function mDt(e){const t=e[na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MZ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[na].modified_&&(q$(t),fl(4)),Wp(e)&&(e=yE(t,e),t.parent_||bE(t,e)),t.patches_&&Yp("Patches").generateReplacementPatches_(n[na].base_,e,t.patches_,t.inversePatches_)):e=yE(t,n,[]),q$(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hEe?e:void 0}function yE(e,t,n){if(kT(t))return t;const r=t[na];if(!r)return sx(t,(o,i)=>FZ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return bE(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),sx(i,(a,c)=>FZ(e,r,o,a,c,n,s)),bE(e,o,!1),n&&e.patches_&&Yp("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function FZ(e,t,n,r,o,i,s){if(Up(o)){const a=i&&t&&t.type_!==3&&!W$(t.assigned_,r)?i.concat(r):void 0,c=yE(e,o,a);if(mEe(n,r,c),Up(c))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(Wp(o)&&!kT(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yE(e,o),(!t||!t.scope_.parent_)&&bE(e,o)}}function bE(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&C9(t,n)}function gDt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:gEe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=_9;n&&(o=[r],i=lx);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var _9={get(e,t){if(t===na)return e;const n=Vh(e);if(!W$(n,t))return vDt(e,n,t);const r=n[t];return e.finalized_||!Wp(r)?r:r===CP(e.base_,t)?(_P(e),e.copy_[t]=Z$(r,e)):r},has(e,t){return t in Vh(e)},ownKeys(e){return Reflect.ownKeys(Vh(e))},set(e,t,n){const r=vEe(Vh(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=CP(Vh(e),t),i=o==null?void 0:o[na];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(dDt(n,o)&&(n!==void 0||W$(e.base_,t)))return!0;_P(e),K$(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return CP(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_P(e),K$(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Vh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){fl(11)},getPrototypeOf(e){return qv(e.base_)},setPrototypeOf(){fl(12)}},lx={};sx(_9,(e,t)=>{lx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lx.deleteProperty=function(e,t){return lx.set.call(this,e,t,void 0)};lx.set=function(e,t,n){return _9.set.call(this,e[0],t,n,e[0])};function CP(e,t){const n=e[na];return(n?Vh(n):e)[t]}function vDt(e,t,n){var o;const r=vEe(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function vEe(e,t){if(!(t in e))return;let n=qv(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qv(n)}}function K$(e){e.modified_||(e.modified_=!0,e.parent_&&K$(e.parent_))}function _P(e){e.copy_||(e.copy_=Y$(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yDt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(c=i,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&fl(6),r!==void 0&&typeof r!="function"&&fl(7);let o;if(Wp(t)){const i=$Z(this),s=Z$(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?q$(i):G$(i)}return RZ(i,r),MZ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===hEe&&(o=void 0),this.autoFreeze_&&C9(o,!0),r){const i=[],s=[];Yp("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else fl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wp(e)||fl(8),Up(e)&&(e=bDt(e));const t=$Z(this),n=Z$(e,void 0);return n[na].isManual_=!0,G$(t),n}finishDraft(e,t){const n=e&&e[na];(!n||!n.isManual_)&&fl(9);const{scope_:r}=n;return RZ(r,t),MZ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Yp("Patches").applyPatches_;return Up(e)?r(e,t):this.produce(e,o=>r(o,t))}};function Z$(e,t){const n=_T(e)?Yp("MapSet").proxyMap_(e,t):ST(e)?Yp("MapSet").proxySet_(e,t):gDt(e,t);return(t?t.scope_:gEe()).drafts_.push(n),n}function bDt(e){return Up(e)||fl(10,e),yEe(e)}function yEe(e){if(!Wp(e)||kT(e))return e;const t=e[na];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Y$(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Y$(e,!0);return sx(n,(r,o)=>{mEe(n,r,yEe(o))}),t&&(t.finalized_=!1),n}var ra=new yDt,S9=ra.produce;ra.produceWithPatches.bind(ra);ra.setAutoFreeze.bind(ra);ra.setUseStrictShallowCopy.bind(ra);ra.applyPatches.bind(ra);var LZ=ra.createDraft.bind(ra),BZ=ra.finishDraft.bind(ra),xDt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=te.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},wDt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=Pt.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},CDt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=de.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},xE=new WeakMap,wE=new WeakMap,lb=new WeakMap,bEe=new WeakMap,NZ=new WeakMap,zZ=new WeakMap,VZ=new WeakMap,te={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=te.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return te.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return te.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&te.compare(e,t)===0},isBefore(e,t){return te.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&te.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&te.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&te.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&te.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&te.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!te.isAncestor(t,e)&&!te.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(te.equals(i,r)||te.endsBefore(i,r)||te.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(te.equals(s,r)||te.isAncestor(s,r))return null;te.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;te.equals(a,r)||te.endsBefore(a,r)?r[a.length-1]-=1:te.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(te.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else te.endsBefore(u,r)?r[u.length-1]+=1:te.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(te.equals(f,p))return r;if(te.isAncestor(f,r)||te.equals(f,r)){var m=p.slice();return te.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else te.isSibling(f,p)&&(te.isAncestor(p,r)||te.equals(p,r))?te.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:te.endsBefore(p,r)||te.equals(p,r)||te.isAncestor(p,r)?(te.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):te.endsBefore(f,r)&&(te.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function _Dt(e,t){if(cx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SDt(e){var t=_Dt(e,"string");return cx(t)==="symbol"?t:String(t)}function ns(e,t,n){return t=SDt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kDt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=ke.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of de.points(t))t[c]=Pt.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=ke.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of de.points(t))t[y]=Pt.transform(g,n);break}case"merge_node":{var{path:x}=n,b=ke.get(e,x),w=te.previous(x),C=ke.get(e,w),_=ke.parent(e,x),S=x[x.length-1];if(_e.isText(b)&&_e.isText(C))C.text+=b.text;else if(!_e.isText(b)&&!_e.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat($o.stringify(b)," ").concat($o.stringify(C)));if(_.children.splice(S,1),t)for(var[k,j]of de.points(t))t[j]=Pt.transform(k,n);break}case"move_node":{var{path:E,newPath:T}=n;if(te.isAncestor(E,T))throw new Error("Cannot move a path [".concat(E,"] to new path [").concat(T,"] because the destination is inside itself."));var A=ke.get(e,E),D=ke.parent(e,E),I=E[E.length-1];D.children.splice(I,1);var P=te.transform(E,n),$=ke.get(e,te.parent(P)),R=P[P.length-1];if($.children.splice(R,0,A),t)for(var[V,N]of de.points(t))t[N]=Pt.transform(V,n);break}case"remove_node":{var{path:H}=n,G=H[H.length-1],U=ke.parent(e,H);if(U.children.splice(G,1),t)for(var[q,Z]of de.points(t)){var B=Pt.transform(q,n);if(t!=null&&B!=null)t[Z]=B;else{var W=void 0,z=void 0;for(var[X,Q]of ke.texts(e))if(te.compare(Q,H)===-1)W=[X,Q];else{z=[X,Q];break}var ne=!1;W&&z&&(te.equals(z[1],H)?ne=!te.hasPrevious(z[1]):ne=te.common(W[1],H).length<te.common(z[1],H).length),W&&!ne?(q.path=W[1],q.offset=W[0].text.length):z?(q.path=z[1],q.offset=0):t=null}}break}case"remove_text":{var{path:K,offset:J,text:oe}=n;if(oe.length===0)break;var fe=ke.leaf(e,K),ae=fe.text.slice(0,J),ge=fe.text.slice(J+oe.length);if(fe.text=ae+ge,t)for(var[xe,ce]of de.points(t))t[ce]=Pt.transform(xe,n);break}case"set_node":{var{path:ve,properties:$e,newProperties:Ae}=n;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var st=ke.get(e,ve);for(var et in Ae){if(et==="children"||et==="text")throw new Error('Cannot set the "'.concat(et,'" property of nodes!'));var lt=Ae[et];lt==null?delete st[et]:st[et]=lt}for(var Oe in $e)Ae.hasOwnProperty(Oe)||delete st[Oe];break}case"set_selection":{var{newProperties:we}=n;if(we==null)t=we;else{if(t==null){if(!de.isRange(we))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat($o.stringify(we)," when there is no current selection."));t=M1({},we)}for(var We in we){var ze=we[We];if(ze==null){if(We==="anchor"||We==="focus")throw new Error('Cannot remove the "'.concat(We,'" selection property'));delete t[We]}else t[We]=ze}}break}case"split_node":{var{path:Ze,position:Ct,properties:Ee}=n;if(Ze.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ze,"] because the root node cannot be split."));var Be=ke.get(e,Ze),dt=ke.parent(e,Ze),li=Ze[Ze.length-1],rn;if(_e.isText(Be)){var Uo=Be.text.slice(0,Ct),Yt=Be.text.slice(Ct);Be.text=Uo,rn=M1(M1({},Ee),{},{text:Yt})}else{var Jr=Be.children.slice(0,Ct),tl=Be.children.slice(Ct);Be.children=Jr,rn=M1(M1({},Ee),{},{children:tl})}if(dt.children.splice(li+1,0,rn),t)for(var[nl,As]of de.points(t))t[As]=Pt.transform(nl,n);break}}return t},EDt={transform(e,t){e.children=LZ(e.children);var n=e.selection&&LZ(e.selection);try{n=kDt(e,n,t)}finally{e.children=BZ(e.children),n?e.selection=Up(n)?BZ(n):n:e.selection=null}}},jDt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},TDt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},xEe=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(Ko(r)&&Ko(o)){if(!xEe(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function ADt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Hu(e,t){if(e==null)return{};var n=ADt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var DDt=["anchor","focus"];function UZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function IDt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var de={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return de.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=de.edges(e);return t},equals(e,t){return Pt.equals(e.anchor,t.anchor)&&Pt.equals(e.focus,t.focus)},includes(e,t){if(de.isRange(t)){if(de.includes(e,t.anchor)||de.includes(e,t.focus))return!0;var[n,r]=de.edges(e),[o,i]=de.edges(t);return Pt.isBefore(n,o)&&Pt.isAfter(r,i)}var[s,a]=de.edges(e),c=!1,u=!1;return Pt.isPoint(t)?(c=Pt.compare(t,s)>=0,u=Pt.compare(t,a)<=0):(c=te.compare(t,s.path)>=0,u=te.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=Hu(e,DDt),[r,o]=de.edges(e),[i,s]=de.edges(t),a=Pt.isBefore(r,i)?i:r,c=Pt.isBefore(o,s)?o:s;return Pt.isBefore(c,a)?null:IDt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return Pt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Pt.equals(t,n)},isExpanded(e){return!de.isCollapsed(e)},isForward(e){return!de.isBackward(e)},isRange(e){return Ko(e)&&Pt.isPoint(e.anchor)&&Pt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=de.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=de.isCollapsed(r);de.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?de.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=Pt.transform(r.anchor,t,{affinity:i}),u=Pt.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},WZ=e=>Ko(e)&&ke.isNodeList(e.children)&&!F.isEditor(e),Re={isAncestor(e){return Ko(e)&&ke.isNodeList(e.children)},isElement:WZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Re.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return WZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},PDt=["children"],ODt=["text"],YZ=new WeakMap,ke={ancestor(e,t){var n=ke.get(e,t);if(_e.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat($o.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.ancestors(t,n)){var o=ke.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(_e.isText(e))throw new Error("Cannot get the child of a text node: ".concat($o.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat($o.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=ke.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=ke.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}}()},common(e,t,n){var r=te.common(t,n),o=ke.get(e,r);return[o,r]},descendant(e,t){var n=ke.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat($o.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of ke.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of ke.nodes(e,t))Re.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Re.isAncestor(e)){var t=Hu(e,PDt);return t}else{var t=Hu(e,ODt);return t}},first(e,t){for(var n=t.slice(),r=ke.get(e,n);r&&!(_e.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(_e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat($o.stringify(e)));var n=S9({children:e.children},r=>{var[o,i]=de.edges(t),s=ke.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!de.includes(t,m)}});for(var[,a]of s){if(!de.includes(t,a)){var c=ke.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(te.equals(a,i.path)){var d=ke.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(te.equals(a,o.path)){var f=ke.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat($o.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return _e.isText(e)||Re.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=YZ.get(e);if(t!==void 0)return t;var n=e.every(r=>ke.isNode(r));return YZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=ke.get(e,n);r&&!(_e.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=ke.get(e,t);if(!_e.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat($o.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.levels(t,n)){var o=ke.get(e,r);yield[o,r]}}()},matches(e,t){return Re.isElement(e)&&Re.isElementProps(t)&&Re.matches(e,t)||_e.isText(e)&&_e.isTextProps(t)&&_e.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?te.isBefore(a,i):te.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!_e.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;te.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=ke.get(e,a);continue}if(a.length===0)break;if(!r){var d=te.next(a);if(ke.has(e,d)){a=d,c=ke.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=te.previous(a);a=f,c=ke.get(e,a);continue}a=te.parent(a),c=ke.get(e,a),s.add(c)}}()},parent(e,t){var n=te.parent(t),r=ke.get(e,n);if(_e.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return _e.isText(e)?e.text:e.children.map(ke.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of ke.nodes(e,t))_e.isText(n)&&(yield[n,r])}()}};function qZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ng={isNodeOperation(e){return Ng.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Ko(e))return!1;switch(e.type){case"insert_node":return te.isPath(e.path)&&ke.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"merge_node":return typeof e.position=="number"&&te.isPath(e.path)&&Ko(e.properties);case"move_node":return te.isPath(e.path)&&te.isPath(e.newPath);case"remove_node":return te.isPath(e.path)&&ke.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"set_node":return te.isPath(e.path)&&Ko(e.properties)&&Ko(e.newProperties);case"set_selection":return e.properties===null&&de.isRange(e.newProperties)||e.newProperties===null&&de.isRange(e.properties)||Ko(e.properties)&&Ko(e.newProperties);case"split_node":return te.isPath(e.path)&&typeof e.position=="number"&&Ko(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Ng.isOperation(t))},isSelectionOperation(e){return Ng.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ng.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return pr(pr({},e),{},{type:"remove_node"});case"insert_text":return pr(pr({},e),{},{type:"remove_text"});case"merge_node":return pr(pr({},e),{},{type:"split_node",path:te.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(te.equals(t,n))return e;if(te.isSibling(n,t))return pr(pr({},e),{},{path:t,newPath:n});var r=te.transform(n,e),o=te.transform(te.next(n),e);return pr(pr({},e),{},{path:r,newPath:o})}case"remove_node":return pr(pr({},e),{},{type:"insert_node"});case"remove_text":return pr(pr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return pr(pr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?pr(pr({},e),{},{properties:c,newProperties:null}):c==null?pr(pr({},e),{},{properties:null,newProperties:a}):pr(pr({},e),{},{properties:c,newProperties:a})}case"split_node":return pr(pr({},e),{},{type:"merge_node",path:te.next(e.path)})}}},GZ=new WeakMap,RDt=e=>{var t=GZ.get(e);if(t!==void 0)return t;if(!Ko(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Ko(e.marks))&&(e.selection===null||de.isRange(e.selection))&&ke.isNodeList(e.children)&&Ng.isOperationList(e.operations);return GZ.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return RDt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},$Dt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(te.isPath)}};function KZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ZZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pt={compare(e,t){var n=te.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Pt.compare(e,t)===1},isBefore(e,t){return Pt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&te.equals(e.path,t.path)},isPoint(e){return Ko(e)&&typeof e.offset=="number"&&te.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=te.transform(i,t,n);break}case"insert_text":{te.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{te.equals(t.path,i)&&(r.offset+=t.position),r.path=te.transform(i,t,n);break}case"remove_text":{te.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(te.equals(t.path,i)||te.isAncestor(t.path,i))return null;r.path=te.transform(i,t,n);break}case"split_node":{if(te.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=te.transform(i,t,ZZ(ZZ({},n),{},{affinity:"forward"})))}else r.path=te.transform(i,t,n);break}}})}},XZ=void 0,$o={setScrubber(e){XZ=e},stringify(e){return JSON.stringify(e,XZ)}},MDt=["text"],FDt=["anchor","focus"];function QZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QZ(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _e={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=Hu(i,MDt);return s}return xEe(r?o(e):e,r?o(t):t)},isText(e){return Ko(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>_e.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Zc({},e)];for(var r of t){var o=Hu(r,FDt),[i,s]=de.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<c){var x=d-m;y=Zc(Zc({},v),{},{text:v.text.slice(x)}),v=Zc(Zc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=Zc(Zc({},v),{},{text:v.text.slice(0,b)}),v=Zc(Zc({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},k9=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],$0=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},E9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?HDt(t):t,i=bt.None,s=bt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=tIt(d,f);if([i,s]=r?[s,p]:[p,i],zg(i,bt.ZWJ)&&zg(s,bt.ExtPict)&&(r?c=JZ(t.substring(0,a)):c=JZ(t.substring(0,t.length-a)),!c)||zg(i,bt.RI)&&zg(s,bt.RI)&&(u!==null?u=!u:r?u=!0:u=sIt(t.substring(0,t.length-a)),!u)||i!==bt.None&&s!==bt.None&&rIt(i,s))break;a+=d.length}return a||1},LDt=/\s/,BDt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,NDt=/['\u2018\u2019]/,zDt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=E9(t,n),[s,a]=j9(t,i,n);if(VDt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},j9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},VDt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(LDt.test(t))return!1;if(NDt.test(t)){var o=E9(n,r),[i,s]=j9(n,o,r);if(e(i,s,r))return!0}return!BDt.test(t)},HDt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(WDt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(UDt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},UDt=e=>e>=55296&&e<=56319,WDt=e=>e>=56320&&e<=57343,bt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(bt||(bt={}));var YDt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,qDt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,GDt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,KDt=/^[\u1100-\u115F\uA960-\uA97C]$/,ZDt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,XDt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,QDt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,JDt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,eIt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,tIt=(e,t)=>{var n=bt.Any;return e.search(YDt)!==-1&&(n|=bt.Extend),t===8205&&(n|=bt.ZWJ),t>=127462&&t<=127487&&(n|=bt.RI),e.search(qDt)!==-1&&(n|=bt.Prepend),e.search(GDt)!==-1&&(n|=bt.SpacingMark),e.search(KDt)!==-1&&(n|=bt.L),e.search(ZDt)!==-1&&(n|=bt.V),e.search(XDt)!==-1&&(n|=bt.T),e.search(QDt)!==-1&&(n|=bt.LV),e.search(JDt)!==-1&&(n|=bt.LVT),e.search(eIt)!==-1&&(n|=bt.ExtPict),n};function zg(e,t){return(e&t)!==0}var nIt=[[bt.L,bt.L|bt.V|bt.LV|bt.LVT],[bt.LV|bt.V,bt.V|bt.T],[bt.LVT|bt.T,bt.T],[bt.Any,bt.Extend|bt.ZWJ],[bt.Any,bt.SpacingMark],[bt.Prepend,bt.Any],[bt.ZWJ,bt.ExtPict],[bt.RI,bt.RI]];function rIt(e,t){return nIt.findIndex(n=>zg(e,n[0])&&zg(t,n[1]))===-1}var oIt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,JZ=e=>e.search(oIt)!==-1,iIt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,sIt=e=>{var t=e.match(iIt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},aIt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=k9(e)}=n;if(te.isPath(o)&&(o=F.range(e,o)),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var i=de.end(o);if(!r&&F.void(e,{at:i}))return;var s=de.start(o),a=F.pointRef(e,s),c=F.pointRef(e,i);le.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,le.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var le=g_(g_(g_(g_({},EDt),jDt),TDt),aIt),lIt=(e,t)=>{for(var n of F.pathRefs(e))xDt.transform(n,t);for(var r of F.pointRefs(e))wDt.transform(r,t);for(var o of F.rangeRefs(e))CDt.transform(o,t);var i=xE.get(e)||[],s=wE.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(te.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=te.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);xE.set(e,a),wE.set(e,c),le.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),lb.get(e)||(lb.set(e,!0),Promise.resolve().then(()=>{lb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},cIt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return te.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=te.levels(o),s=_e.isText(r)?[]:Array.from(ke.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=te.ancestors(a),u=te.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(te.equals(d,f))return[];var p=[],m=[];for(var v of te.ancestors(d)){var g=te.transform(v,t);p.push(g)}for(var y of te.ancestors(f)){var x=te.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=te.ancestors(_);return[...S]}case"split_node":{var{path:k}=t,j=te.levels(k),E=te.next(k);return[...j,E]}default:return[]}},uIt=e=>{var{selection:t}=e;return t?ke.fragment(e,t):[]},dIt=(e,t)=>{var[n,r]=t;if(!_e.isText(n)){if(Re.isElement(n)&&n.children.length===0){var o={text:""};le.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Re.isElement(n)&&(e.isInline(n)||n.children.length===0||_e.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=ke.get(e,r);if(!_e.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=_e.isText(u)||Re.isElement(u)&&e.isInline(u);if(p!==i)le.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Re.isElement(u)){if(e.isInline(u)){if(d==null||!_e.isText(d)){var m={text:""};le.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};le.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&_e.isText(d)&&(_e.equals(u,d,{loose:!0})?(le.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(le.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(le.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},fIt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},hIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),c=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!_e.isText(u)){if(de.isRange(i)){if(te.isAncestor(d,i.anchor.path)&&te.isAncestor(d,i.focus.path))return[u,d]}else if(!te.equals(a,d))return[u,d]}}};function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pIt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!_e.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=de.isExpanded(r),s=!1;if(!i){var[a,c]=F.node(e,r);if(a&&o(a,c)){var[u]=F.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)le.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=nX(nX({},F.marks(e)||{}),{},{[t]:n});e.marks=d,lb.get(e)||e.onChange()}}};function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var mIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,oX(oX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,sX(sX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},vIt=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&le.delete(e,{unit:t,reverse:!0})},yIt=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&le.delete(e,{unit:t})},bIt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&de.isExpanded(r)&&le.delete(t,{reverse:n==="backward"})},xIt=(e,t)=>[F.start(e,t),F.end(e,t)];function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var wIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,lX(lX({},n),{},{match:r=>Re.isElement(r)&&F.isElementReadOnly(t,r)}))},CIt=(e,t)=>F.point(e,t,{edge:"end"}),_It=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},SIt=(e,t)=>{var n=F.range(e,t);return ke.fragment(e,n)};function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,uX(uX({},n),{},{match:r=>Re.isElement(r)&&F.isVoid(t,r)}))},EIt=(e,t)=>t.children.some(n=>Re.isElement(n)&&F.isBlock(e,n)),jIt=(e,t)=>t.children.some(n=>_e.isText(n)||F.isInline(e,n)),TIt=(e,t)=>ke.has(e,t),AIt=(e,t)=>t.children.every(n=>_e.isText(n)),DIt=e=>{le.splitNodes(e,{always:!0})},IIt=(e,t,n)=>{le.insertNodes(e,t,n)},PIt=e=>{le.splitNodes(e,{always:!0})};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function OIt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=OIt({text:n},i);le.insertNodes(t,s,{at:r.at,voids:r.voids})}else le.insertText(t,n,r);t.marks=null}},$It=(e,t)=>!e.isInline(t),MIt=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),FIt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&_e.isText(r)&&r.text===""&&!e.isVoid(t)},LIt=(e,t,n)=>{var r=F.end(e,n);return Pt.equals(t,r)},BIt=e=>{var t=bEe.get(e);return t===void 0?!0:t},NIt=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return Pt.equals(t,r)},zIt=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},VIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=ke.leaf(t,o);return[i,o]};function HIt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[c,u]of ke.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Re.isElement(c)&&F.isVoid(e,c)))break;r&&s.reverse(),yield*s}}()}var UIt=["text"],WIt=["text"],YIt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(de.isExpanded(r)){var[o]=F.nodes(t,{match:_e.isText});if(o){var[i]=o,s=Hu(i,UIt);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=F.leaf(t,c);if(a.offset===0){var d=F.previous(t,{at:c,match:_e.isText}),f=F.above(t,{match:x=>Re.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Re.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;te.isAncestor(g,v)&&(u=m)}}}var y=Hu(u,WIt);return y},qIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,c]=F.last(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},GIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=ke.get(t,o);return[i,o]};function KIt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if($Dt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=ke.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Re.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Re.isElement(y)&&!F.isSelectable(e,y))){var b=g&&te.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!c(y,x)){if(o&&!b&&_e.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var ZIt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>xE.get(d)||[],s=d=>wE.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var c=Array.from(ke.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));xE.set(t,c),wE.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(ke.has(t,d)){var f=F.node(t,d),[p,m]=f;Re.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(ke.has(t,x)){var b=F.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},XIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=te.parent(o),s=F.node(t,i);return s},QIt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pathRefs(t);return c.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},JIt=e=>{var t=NZ.get(e);return t||(t=new Set,NZ.set(e,t)),t},ePt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(te.isPath(n)){if(i==="start"){var[,s]=ke.first(t,n);n=s}else if(i==="end"){var[,a]=ke.last(t,n);n=a}}return de.isRange(n)&&(i==="start"?n=de.start(n):i==="end"?n=de.end(n):n=te.common(n.anchor.path,n.focus.path)),Pt.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},tPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pointRefs(t);return c.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},nPt=e=>{var t=zZ.get(e);return t||(t=new Set,zZ.set(e,t)),t},rPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(te.isPath(n)){var i;if(o==="end"){var[,s]=ke.last(t,n);i=s}else{var[,a]=ke.first(t,n);i=a}var c=ke.get(t,i);if(!_e.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(de.isRange(n)){var[u,d]=de.edges(n);return o==="start"?u:d}return n};function oPt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[c,u]=de.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Re.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield F.start(e,x);continue}if(e.isInline(y))continue;if(F.hasInlines(e,y)){var b=te.isAncestor(x,u.path)?u:F.end(e,x),w=te.isAncestor(x,c.path)?c:F.start(e,x);p=F.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(_e.isText(y)){var C=te.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=j9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,k,j){return k==="character"?E9(S,j):k==="word"?zDt(S,j):k==="line"||k==="block"?S.length:1}}()}var iPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,c]=F.first(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},sPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.rangeRefs(t);return c.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},aPt=e=>{var t=VZ.get(e);return t||(t=new Set,VZ.set(e,t)),t},lPt=(e,t,n)=>{if(de.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function fX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uPt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!_e.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=de.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[c]=F.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)le.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=cPt({},F.marks(e)||{});delete u[t],e.marks=u,lb.get(e)||e.onChange()}}},dPt=(e,t)=>{bEe.set(e,t)},fPt=(e,t)=>F.point(e,t,{edge:"start"}),hPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=de.edges(i),c="";for(var[u,d]of F.nodes(t,{at:i,match:_e.isText,voids:o})){var f=u.text;te.equals(d,a.path)&&(f=f.slice(0,a.offset)),te.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},pPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=de.edges(n);if(i.offset!==0||s.offset!==0||de.isCollapsed(n)||te.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Re.isElement(v)&&F.isBlock(t,v),voids:o}),c=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:_e.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||te.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},mPt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},gPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(de.isRange(u)&&de.isCollapsed(u)&&(f=!0,u=u.anchor),Pt.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(te.isPath(u)){le.removeNodes(t,{at:u,voids:c});return}if(!de.isCollapsed(u)){if(!d){var[,y]=de.edges(u),x=F.end(t,[]);Pt.equals(y,x)||(u=F.unhangRange(t,u,{voids:c}))}var[b,w]=de.edges(u),C=F.above(t,{match:ae=>Re.isElement(ae)&&F.isBlock(t,ae),at:b,voids:c}),_=F.above(t,{match:ae=>Re.isElement(ae)&&F.isBlock(t,ae),at:w,voids:c}),S=C&&_&&!te.equals(C[1],_[1]),k=te.equals(b.path,w.path),j=c?null:(r=F.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:b,mode:"highest"}),E=c?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,b);T&&C&&te.isAncestor(C[1],T.path)&&(b=T)}if(E){var A=F.after(t,w);A&&_&&te.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var P of F.nodes(t,{at:u,voids:c})){var[$,R]=P;I&&te.compare(R,I)===0||(!c&&Re.isElement($)&&(F.isVoid(t,$)||F.isElementReadOnly(t,$))||!te.isCommon(R,b.path)&&!te.isCommon(R,w.path))&&(D.push(P),I=R)}var V=Array.from(D,ae=>{var[,ge]=ae;return F.pathRef(t,ge)}),N=F.pointRef(t,b),H=F.pointRef(t,w),G="";if(!k&&!j){var U=N.current,[q]=F.leaf(t,U),{path:Z}=U,{offset:B}=b,W=q.text.slice(B);W.length>0&&(t.apply({type:"remove_text",path:Z,offset:B,text:W}),G=W)}if(V.reverse().map(ae=>ae.unref()).filter(ae=>ae!==null).forEach(ae=>le.removeNodes(t,{at:ae,voids:c})),!E){var z=H.current,[X]=F.leaf(t,z),{path:Q}=z,ne=k?b.offset:0,K=X.text.slice(ne,w.offset);K.length>0&&(t.apply({type:"remove_text",path:Q,offset:ne,text:K}),G=K)}!k&&S&&H.current&&N.current&&le.mergeNodes(t,{at:H.current,hanging:!0,voids:c}),f&&i&&s==="character"&&G.length>1&&G.match(/[\u0E00-\u0E7F]+/)&&le.insertText(t,G.slice(0,G.length-a));var J=N.unref(),oe=H.unref(),fe=i?J||oe:oe||J;n.at==null&&fe&&le.select(t,fe)}}})},vPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=k9(t)}=r;if(n.length){if(de.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),de.isCollapsed(s))s=s.anchor;else{var[,a]=de.edges(s);if(!i&&F.void(t,{at:a}))return;var c=F.pointRef(t,a);le.delete(t,{at:s}),s=c.unref()}else te.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:B=>Re.isElement(B)&&F.isInline(t,B),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:B=>Re.isElement(B)&&F.isBlock(t,B),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),y=F.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=ke.first({children:n},[]),[,_]=ke.last({children:n},[]),S=[],k=B=>{var[W,z]=B,X=z.length===0;return X?!1:x?!0:!(b&&te.isAncestor(z,C)&&Re.isElement(W)&&!t.isVoid(W)&&!t.isInline(W)||w&&te.isAncestor(z,_)&&Re.isElement(W)&&!t.isVoid(W)&&!t.isInline(W))};for(var j of ke.nodes({children:n},{pass:k}))k(j)&&S.push(j);var E=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)Re.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?E.push(P):A.push(P);var[$]=F.nodes(t,{at:s,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),[,R]=$,V=F.isStart(t,s,R),N=F.isEnd(t,s,R),H=F.pathRef(t,y&&!A.length?te.next(v):v),G=F.pathRef(t,N?te.next(R):R);le.splitNodes(t,{at:s,match:B=>I?Re.isElement(B)&&F.isBlock(t,B):_e.isText(B)||F.isInline(t,B),mode:I?"lowest":"highest",always:I&&(!g||E.length>0)&&(!y||A.length>0),voids:i});var U=F.pathRef(t,!V||V&&N?te.next(R):R);if(le.insertNodes(t,E,{at:U.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),x&&!E.length&&T.length&&!A.length&&le.delete(t,{at:v,voids:i}),le.insertNodes(t,T,{at:H.current,match:B=>Re.isElement(B)&&F.isBlock(t,B),mode:"lowest",voids:i}),le.insertNodes(t,A,{at:G.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),!r.at){var q;if(A.length>0&&G.current?q=te.previous(G.current):T.length>0&&H.current?q=te.previous(H.current):U.current&&(q=te.previous(U.current)),q){var Z=F.end(t,q);le.select(t,Z)}}U.unref(),H.unref(),G.unref()}}})},yPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")le.select(t,o.anchor);else if(r==="focus")le.select(t,o.focus);else if(r==="start"){var[i]=de.edges(o);le.select(t,i)}else if(r==="end"){var[,s]=de.edges(o);le.select(t,s)}}else return},bPt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},xPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=de.isBackward(r)?"focus":"anchor"),a==="end"&&(a=de.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,c,d):F.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}le.setSelection(t,f)}},wPt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){le.setSelection(e,t);return}if(!de.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat($o.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=de.isBackward(o)?"focus":"anchor"),i==="end"&&(i=de.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;le.setSelection(t,{[i==="anchor"?"anchor":"focus"]:pX(pX({},c),n)})}},_Pt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!Pt.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!Pt.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},SPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(ke.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=k9(t),u=!0),u==null&&(u=!1),de.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),de.isCollapsed(a))a=a.anchor;else{var[,f]=de.edges(a),p=F.pointRef(t,f);le.delete(t,{at:a}),a=p.unref()}if(Pt.isPoint(a)){c==null&&(_e.isText(d)?c=k=>_e.isText(k):t.isInline(d)?c=k=>_e.isText(k)||F.isInline(t,k):c=k=>Re.isElement(k)&&F.isBlock(t,k));var[m]=F.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),y=F.isEnd(t,a,v);le.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=y?te.next(x):x}else return}var b=te.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=te.next(a)}if(a=te.previous(a),u){var S=F.end(t,a);S&&le.select(t,S)}}}})},kPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=te.isPath(r)?$0(t,r):C=>Re.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,te.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=te.next(m);le.moveNodes(t,{at:d,to:y,voids:i}),le.removeNodes(t,{at:m,voids:i})}else if(v===0)le.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=te.next(m);le.moveNodes(t,{at:d,to:x,voids:i})}else{var b=te.next(d),w=te.next(m);le.splitNodes(t,{at:b,voids:i}),le.moveNodes(t,{at:d,to:w,voids:i})}}}})},EPt=["text"],jPt=["children"],wEe=(e,t)=>{if(Re.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?wEe(e,n.children[0]):!1}else return!F.isEditor(t)},TPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(te.isPath(o)){var[c]=F.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Re.isElement(T)&&F.isBlock(t,T);if(!i&&de.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var[,u]=de.edges(o),d=F.pointRef(t,u);le.delete(t,{at:o}),o=d.unref(),n.at==null&&le.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=te.next(y),b=te.common(v,y),w=te.isSibling(v,y),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&wEe(t,T)}),S=_&&F.pathRef(t,_[1]),k,j;if(_e.isText(m)&&_e.isText(g)){var E=Hu(m,EPt);j=g.text.length,k=E}else if(Re.isElement(m)&&Re.isElement(g)){var E=Hu(m,jPt);j=g.children.length,k=E}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat($o.stringify(m)," ").concat($o.stringify(g)));w||le.moveNodes(t,{at:v,to:x,voids:s}),S&&le.removeNodes(t,{at:S.current,voids:s}),Re.isElement(g)&&F.isEmpty(t,g)||_e.isText(g)&&g.text===""&&y[y.length-1]!==0?le.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:k}),S&&S.unref()}}}})},APt=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=te.isPath(r)?$0(e,r):m=>Re.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),c=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&te.isSibling(p,f)&&te.isAfter(p,f)&&(a.current=te.next(a.current))}a.unref()}})},DPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?$0(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),!r&&de.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var c=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},IPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=te.isPath(i)?$0(t,i):j=>Re.isElement(j)&&F.isBlock(t,j)),!c&&de.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&de.isRange(i)){if(de.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=de.edges(i),g=u==="lowest"?"lowest":"highest",y=F.isEnd(t,v,v.path);le.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=F.isStart(t,m,m.path);le.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&le.select(t,i)}s||(s=(j,E)=>j!==E);for(var[b,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var k in n)k==="children"||k==="text"||s(n[k],b[k])&&(S=!0,b.hasOwnProperty(k)&&(C[k]=b[k]),a?n[k]!=null&&(_[k]=a(b[k],n[k])):n[k]!=null&&(_[k]=n[k]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},PPt=(e,t)=>{if(de.isCollapsed(t))return t.anchor;var[,n]=de.edges(t),r=F.pointRef(e,n);return le.delete(e,{at:t}),r.unref()},OPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=H=>Re.isElement(H)&&F.isBlock(t,H)),de.isRange(s)&&(s=PPt(t,s)),te.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=H=>H===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Re.isElement(x)&&t.isInline(x)){var w=F.after(t,b);if(!w){var C={text:""},_=te.next(b);le.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,c=!0}var S=s.path.length-b.length;a=S+1,c=!0}m=F.pointRef(t,s);var k=s.path.length-a,[,j]=v,E=s.path.slice(0,k),T=a===0?s.offset:s.path[k]+y;for(var[A,D]of F.levels(t,{at:E,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Re.isElement(A)&&F.isVoid(t,A))break;var P=p.current,$=F.isEnd(t,P,D);if(c||!p||!F.isEdge(t,P,D)){I=!0;var R=ke.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var V=m.current||F.end(t,[]);le.select(t,V)}}finally{var N;p.unref(),(N=m)===null||N===void 0||N.unref()}}})},RPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;le.setNodes(t,o,r)},$Pt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?$0(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),te.isPath(s)&&(s=F.range(t,s));var c=de.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),y=F.range(t,v);o&&c&&(y=de.intersection(c.current,y)),le.liftNodes(t,{at:y,match:x=>Re.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();c&&c.unref()}})};function mX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(n),!0).forEach(function(r){ns(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var MPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(te.isPath(c)?a=$0(t,c):t.isInline(n)?a=y=>Re.isElement(y)&&F.isInline(t,y)||_e.isText(y):a=y=>Re.isElement(y)&&F.isBlock(t,y)),i&&de.isRange(c)){var[u,d]=de.edges(c),f=F.rangeRef(t,c,{affinity:"inward"});le.splitNodes(t,{at:d,match:a,voids:s}),le.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&le.select(t,c)}var p=Array.from(F.nodes(t,{at:c,match:t.isInline(n)?y=>Re.isElement(y)&&F.isBlock(t,y):y=>F.isEditor(y),mode:"lowest",voids:s})),m=function(){var x=de.isRange(c)?de.intersection(c,F.range(t,g)):c;if(!x)return 0;var b=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(b.length>0){var[w]=b,C=b[b.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var k=te.equals(_,S)?te.parent(_):te.common(_,S),j=F.range(t,_,S),E=F.node(t,k),[T]=E,A=k.length+1,D=te.next(S.slice(0,A)),I=gX(gX({},n),{},{children:[]});le.insertNodes(t,I,{at:D,voids:s}),le.moveNodes(t,{at:j,match:P=>Re.isAncestor(T)&&T.children.includes(P),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},FPt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lIt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pIt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vIt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yIt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bIt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uIt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DIt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PIt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vPt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IIt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RIt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dIt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uPt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cIt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fIt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hIt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mIt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gIt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yPt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gPt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bPt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xIt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wIt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CIt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _It(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SIt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YIt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return EIt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jIt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TIt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return AIt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SPt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $It(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MIt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FIt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LIt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BIt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NIt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zIt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VIt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HIt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kPt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TPt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xPt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return APt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qIt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GIt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KIt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZIt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XIt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ePt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QIt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JIt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rPt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tPt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nPt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oPt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iPt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lPt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sPt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aPt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DPt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wPt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IPt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dPt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CPt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Pt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return OPt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fPt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hPt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pPt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RPt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Pt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kIt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mPt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MPt(e,...r)}};return e},cd={};Object.defineProperty(cd,"__esModule",{value:!0});var LPt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),SP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},CEe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:LPt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},T9={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var v_=1;v_<20;v_++)T9["f"+v_]=111+v_;function ET(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return _Ee(s,t)}),o=function(a){return r.some(function(c){return SEe(c,a)})},i=n==null?o:o(n);return i}function BPt(e,t){return ET(e,t)}function NPt(e,t){return ET(e,{byKey:!0},t)}function _Ee(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in SP)r[SP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=A9(p),g=SP[v];if(p.length>1&&!g&&!CEe[p]&&!T9[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=kEe(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function SEe(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function kEe(e){e=A9(e);var t=T9[e]||e.toUpperCase().charCodeAt(0);return t}function A9(e){return e=e.toLowerCase(),e=CEe[e]||e,e}cd.default=ET;var kP=cd.isHotkey=ET;cd.isCodeHotkey=BPt;cd.isKeyHotkey=NPt;cd.parseHotkey=_Ee;cd.compareHotkey=SEe;cd.toKeyCode=kEe;cd.toKeyName=A9;function zPt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Gv(e,t){if(e==null)return{};var n=zPt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}function VPt(e,t){if(ux(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ux(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HPt(e){var t=VPt(e,"string");return ux(t)==="symbol"?t:String(t)}function Ra(e,t,n){return t=HPt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D9=h.createContext(null),Bc=()=>{var e=h.useContext(D9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},EEe=parseInt(ie.version.split(".")[0],10),UPt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,vX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),gs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Vg=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Cy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),WPt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),jEe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),YPt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),qPt=gs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),GPt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),KPt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),ZPt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),rS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xd=(!YPt||!qPt)&&!WPt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",I9=new WeakMap,P9=new WeakMap,TEe=new WeakMap,oS=new WeakMap,X$=new WeakMap,dx=new WeakMap,xp=new WeakMap,CE=new WeakMap,jT=new WeakMap,Q$=new WeakMap,qd=new WeakMap,ep=new WeakMap,cb=new WeakMap,J$=new WeakMap,O9=new WeakMap,yl=new WeakMap,mu=new WeakMap,ds=new WeakMap,Id=new WeakMap,Pd=new WeakMap,AEe=new WeakMap,Kv=Symbol("placeholder"),DEe=Symbol("mark-placeholder"),XPt=globalThis.Text,R9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,QPt=e=>Bf(e)&&e.nodeType===8,ja=e=>Bf(e)&&e.nodeType===1,Bf=e=>{var t=R9(e);return!!t&&e instanceof t.Node},eM=e=>{var t=e&&e.anchorNode&&R9(e.anchorNode);return!!t&&e instanceof t.Selection},IEe=e=>Bf(e)&&e.nodeType===3,JPt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,eOt=e=>{var[t,n]=e;if(ja(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=PEe(t,o,r?"backward":"forward"),r=o<n;ja(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=nOt(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},tOt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},PEe=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(QPt(o)||ja(o)&&o.childNodes.length===0||ja(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},nOt=(e,t,n)=>{var[r]=PEe(e,t,n);return r},OEe=e=>{var t="";if(IEe(e)&&e.nodeValue)return e.nodeValue;if(ja(e)){for(var n of Array.from(e.childNodes))t+=OEe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},rOt=/data-slate-fragment="(.+?)"/m,oOt=e=>{var t=e.getData("text/html"),[,n]=t.match(rOt)||[];return n},$9=(e,t,n)=>{var{target:r}=t;if(ja(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=me.getWindow(e);if(o.contains(r))return me.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:$9(e,i,n)},iOt=0;class sOt{constructor(){Ra(this,"id",void 0),this.id="".concat(iOt++)}}var me={androidPendingDiffs:e=>ds.get(e),androidScheduleFlush:e=>{var t;(t=O9.get(e))===null||t===void 0||t()},blur:e=>{var t=me.toDOMNode(e,e),n=me.findDocumentOrShadowRoot(e);qd.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=me.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&le.deselect(e)},findDocumentOrShadowRoot:e=>{var t=me.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=me.toSlateNode(e,t.target),s=me.findPath(e,i);if(Re.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:c?"start":"end"}),d=c?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=me.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=me.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=CE.get(t);return n||(n=new sOt,CE.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=P9.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=I9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat($o.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!qd.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{me.focus(t,{retries:n.retries-1})},10);return}var r=me.toDOMNode(t,t),o=me.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=me.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(le.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),qd.set(t,!0)}}},getWindow:e=>{var t=TEe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=me.toDOMNode(t,t),s;try{s=ja(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Bf(t)&&me.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>me.hasEditableTarget(e,t)||me.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Bf(t)&&me.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!ep.get(e),isFocused:e=>!!qd.get(e),isReadOnly:e=>!!Q$.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Q$.get(e))return!1;var n=me.hasTarget(e,t)&&me.toSlateNode(e,t);return Re.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=jT.get(e),r=F.isEditor(t)?oS.get(e):n==null?void 0:n.get(me.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat($o.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=me.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof XPt?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat($o.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=de.isBackward(t),i=me.toDOMPoint(e,n),s=de.isCollapsed(t)?i:me.toDOMPoint(e,r),a=me.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=ja(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=ja(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,y?1:p),c},toSlateNode:(e,t)=>{var n=ja(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?dx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:eOt(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=me.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=me.getWindow(e),b=x.document.createRange();b.setStart(c,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(P=>{if(gs&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,y=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var k=_[S];if(me.hasDOMNode(e,k)){g=k;break}}g?(c=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}y&&u===y.textContent.length&&gs&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||Vg&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(gs&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&me.hasDOMNode(e,j,{editable:!0})){var E=me.toSlateNode(e,j),{path:T,offset:A}=F.start(e,me.findPath(e,E));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=me.toSlateNode(e,c),I=me.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=eM(t)?t.anchorNode:t.startContainer,a,c,u,d,f;if(s)if(eM(t)){if(Vg&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(k){return k.childElementCount>0?S(k.children[0]):k};var v=p.startContainer,g=m.startContainer,y=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,y.childNodes.length>0?u=y.childNodes[0]:u=y,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else p.startContainer===u?(a=m.endContainer,c=m.endOffset,d=p.startOffset):(a=p.startContainer,c=p.endOffset,d=m.startOffset)}else a=t.anchorNode,c=t.anchorOffset,u=t.focusNode,d=t.focusOffset;jEe&&tOt(a)||Vg?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(Vg&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var b;u=a,d=((b=a.textContent)===null||b===void 0?void 0:b.length)||0}var w=me.toSlatePoint(e,[a,c],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:me.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return de.isExpanded(_)&&de.isForward(_)&&ja(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function aOt(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=ke.get(e,n);if(!_e.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=te.next(n);if(!F.hasPath(e,i))return!1;var s=ke.get(e,i);return _e.isText(s)&&s.text.startsWith(r.text)}function REe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function lOt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function cOt(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function $Ee(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=lOt(i,o),a=Math.min(i.length-s,o.length-s),c=cOt(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function uOt(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=REe(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return $Ee(e,{start:r,end:c,text:a})}function dOt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function tM(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=ke.get(e,n);if(!_e.isText(o))return null;var i=F.above(e,{match:a=>Re.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:_e.isText});if(!s||!te.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function yX(e,t){var n=tM(e,t.anchor);if(!n)return null;if(de.isCollapsed(t))return{anchor:n,focus:n};var r=tM(e,t.focus);return r?{anchor:n,focus:r}:null}function nM(e,t,n){var r=ds.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return te.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return Pt.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=Pt.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=Pt.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&te.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function bX(e,t,n){var r=nM(e,t.anchor,n);if(!r)return null;if(de.isCollapsed(t))return{anchor:r,focus:r};var o=nM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function fOt(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!te.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:te.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:te.transform(n,t,{affinity:"forward"})};case"merge_node":return te.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:te.transform(n,t)}:{diff:r,id:o,path:te.transform(n,t)}}var i=te.transform(n,t);return i?{diff:r,path:i,id:o}:null}function xX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function y_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hOt=25,pOt=200,mOt=function(){},gOt=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function vOt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Pd.get(t);if(Pd.delete(t),D){var{selection:I}=t,P=yX(t,D);P&&(!I||!de.equals(P,I))&&le.select(t,P)}},f=()=>{var D=Id.get(t);if(Id.delete(t),!!D){if(D.at){var I=Pt.isPoint(D.at)?tM(t,D.at):yX(t,D.at);if(!I)return;var P=F.range(t,I);(!t.selection||!de.equals(t.selection,P))&&le.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});mu.set(t,t.marks),mOt("flush",Id.get(t),ds.get(t));for(var I=C(),P;P=($=ds.get(t))===null||$===void 0?void 0:$[0];){var $,R,V=yl.get(t);V!==void 0&&(yl.delete(t),t.marks=V),V&&u===!1&&(u=null);var N=dOt(P);(!t.selection||!de.equals(t.selection,N))&&le.select(t,N),P.diff.text?F.insertText(t,P.diff.text):F.deleteFragment(t),ds.set(t,(R=ds.get(t))===null||R===void 0?void 0:R.filter(U=>{var{id:q}=U;return q!==P.id})),aOt(t,P)||(I=!1,Id.delete(t),mu.delete(t),o="action",Pd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var H=D==null?void 0:D.unref();if(H&&!Pd.get(t)&&(!t.selection||!de.equals(H,t.selection))&&le.select(t,H),w()){f();return}I&&n(),n.flush(),r.flush(),d();var G=mu.get(t);mu.delete(t),G!==void 0&&(t.marks=G,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{ep.set(t,!1),p()},hOt)},v=D=>{ep.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=X$.get(t);if(P){if(C()||I){P.style.display="none";return}P.style.removeProperty("display")}},y=(D,I)=>{var P,$=(P=ds.get(t))!==null&&P!==void 0?P:[];ds.set(t,$);var R=ke.leaf(t,D),V=$.findIndex(G=>te.equals(G.path,D));if(V<0){var N=$Ee(R.text,I);N&&$.push({path:D,diff:I,id:c++}),g();return}var H=uOt(R.text,$[V].diff,I);if(!H){$.splice(V,1),g();return}$[V]=y_(y_({},$[V]),{},{diff:H})},x=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Pd.delete(t),n.cancel(),r.cancel(),w()&&p(),Id.set(t,{at:P,run:I}),a=setTimeout(p)},b=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&($=me.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var N=me.getWindow(t),H=N.getSelection();if(!$&&H&&(V=H,$=me.toSlateRange(t,H,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var G=!0;if(P.startsWith("delete")){if(de.isExpanded($)){var[U,q]=de.edges($),Z=ke.leaf(t,U.path);if(Z.text.length===U.offset&&q.offset===0){var B=F.next(t,{at:U.path,match:_e.isText});B&&te.equals(B[1],q.path)&&($={anchor:q,focus:q})}}var W=P.endsWith("Backward")?"backward":"forward",[z,X]=de.edges($),[Q,ne]=F.leaf(t,z.path),K={text:"",start:z.offset,end:X.offset},J=ds.get(t),oe=J==null?void 0:J.find(Ze=>te.equals(Ze.path,ne)),fe=oe?[oe.diff,K]:[K],ae=REe(Q.text,...fe);if(ae.length===0&&(G=!1),de.isExpanded($)){if(G&&te.equals($.anchor.path,$.focus.path)){var ge={path:$.anchor.path,offset:z.offset},xe=F.range(t,ge,ge);return k(xe),y($.anchor.path,{text:"",end:X.offset,start:z.offset})}return x(()=>F.deleteFragment(t,{direction:W}),{at:$})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:ce}=$;if(G&&de.isCollapsed($)){var ve=ke.leaf(t,ce.path);if(ce.offset<ve.text.length)return y(ce.path,{text:"",start:ce.offset,end:ce.offset+1})}return x(()=>F.deleteForward(t),{at:$})}case"deleteContentBackward":{var $e,{anchor:Ae}=$,st=eM(V)?V.isCollapsed:!!(($e=V)!==null&&$e!==void 0&&$e.collapsed);return G&&st&&de.isCollapsed($)&&Ae.offset>0?y(Ae.path,{text:"",start:Ae.offset-1,end:Ae.offset}):x(()=>F.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>F.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(gOt(R))return x(()=>me.insertData(t,R),{at:$});var et=R??"";if(yl.get(t)&&(et=et.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(et)&&(et=et.slice(0,-1)),et.includes(`
`))return x(()=>{var Ze=et.split(`
`);Ze.forEach((Ct,Ee)=>{Ct&&F.insertText(t,Ct),Ee!==Ze.length-1&&F.insertSoftBreak(t)})},{at:$});if(te.equals($.anchor.path,$.focus.path)){var[lt,Oe]=de.edges($),we={start:lt.offset,end:Oe.offset,text:et};if(et&&u&&P==="insertCompositionText"){var We=u.start+u.text.search(/\S|$/),ze=we.start+we.text.search(/\S|$/);ze===We+1&&we.end===u.start+u.text.length?(we.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=we:u&&de.isCollapsed($)&&u.end+u.text.length===lt.offset?u=y_(y_({},u),{},{text:u.text+et}):u=!1:u=!1;if(G){y(lt.path,we);return}}return x(()=>F.insertText(t,et),{at:$})}}}},w=()=>!!Id.get(t),C=()=>{var D;return!!((D=ds.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,k=D=>{Pd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!te.equals(I.anchor.path,D.anchor.path),$=!I||!te.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||$)&&(u=!1),(P||C())&&(s=setTimeout(p,pOt))}},j=()=>{(w()||!C())&&p()},E=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(P=>$9(t,P,D))){var I;(I=AEe.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:k,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:E,handleDomMutations:A,handleInput:j}}function yOt(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var fx=rS?h.useLayoutEffect:h.useEffect;function bOt(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));fx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var xOt=["node"];function wX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var COt={subtree:!0,childList:!0,characterData:!0},_Ot=gs?e=>{var{node:t}=e,n=Gv(e,xOt);if(!gs)return null;var r=Bc(),o=yOt(),[i]=h.useState(()=>vOt(wOt({editor:r},n)));return bOt(t,i.handleDomMutations,COt),O9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,SOt=["anchor","focus"],kOt=["anchor","focus"],EOt=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),MEe=(e,t)=>{var n=Gv(e,SOt),r=Gv(t,kOt);return e[Kv]===t[Kv]&&EOt(n,r)},jOt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!de.equals(r,o)||!MEe(r,o))return!1}return!0},TOt=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!MEe(r,o))return!1}return!0};function CX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function AOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DOt=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Bc(),s=me.findPath(i,o),a=te.parent(s),c=!!n[DEe];return i.isVoid(r)?ie.createElement(EP,{length:ke.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?ie.createElement(EP,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ie.createElement(EP,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ie.createElement(_X,{isTrailing:!0,text:n.text}):ie.createElement(_X,{text:n.text})},_X=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return fx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ie.createElement(IOt,{ref:r},i)},IOt=h.memo(h.forwardRef((e,t)=>ie.createElement("span",{"data-slate-string":!0,ref:t},e.children))),EP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ie.createElement("span",AOt({},o),!gs||!n?"\uFEFF":null,n?ie.createElement("br",null):null)};function SX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function FEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function POt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function kX(e){e.current&&(clearTimeout(e.current),e.current=null)}var OOt=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>ie.createElement($Ot,FEe({},b))}=e,a=Bc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(POt(c,b==null),b==null){var w;X$.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(X$.set(a,b),!c.current){var C=window.ResizeObserver||f_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}c.current.observe(b),u.current=b}},[u,t,a]),v=ie.createElement(DOt,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[Kv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(kX(p),f(!1)),()=>kX(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Cy?"inherit":void 0},contentEditable:!1,ref:m}};v=ie.createElement(ie.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},ROt=ie.memo(OOt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&_e.equals(t.leaf,e.leaf)&&t.leaf[Kv]===e.leaf[Kv]),$Ot=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",FEe({},t),n)},MOt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Bc(),c=h.useRef(null),u=_e.decorations(s,t),d=me.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ie.createElement(ROt,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=jT.get(a);g?(y==null||y.set(d,g),xp.set(s,g),dx.set(g,s)):(y==null||y.delete(d),xp.delete(s),c.current&&dx.delete(c.current)),c.current=g},[c,a,d,s]);return ie.createElement("span",{"data-slate-node":"text",ref:v},f)},LEe=ie.memo(MOt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&TOt(t.decorations,e.decorations));function EX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FOt=e=>{var{decorations:t,element:n,renderElement:r=b=>ie.createElement(BOt,rM({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Bc(),c=zOt(),u=a.isInline(n),d=me.findKey(a,n),f=h.useCallback(b=>{var w=jT.get(a);b?(w==null||w.set(d,b),xp.set(n,b),dx.set(b,n)):(w==null||w.delete(d),xp.delete(n))},[a,d,n]),p=VEe({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=ke.string(n),g=fEe(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=ke.texts(n);p=ie.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ie.createElement(LEe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),I9.set(x,0),P9.set(x,n)}return r({attributes:m,children:p,element:n})},LOt=ie.memo(FOt,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&jOt(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&de.equals(e.selection,t.selection))),BOt=e=>{var{attributes:t,children:n,element:r}=e,o=Bc(),i=o.isInline(r)?"span":"div";return ie.createElement(i,rM(rM({},t),{},{style:{position:"relative"}}),n)},BEe=h.createContext(()=>[]),NOt=()=>h.useContext(BEe),NEe=h.createContext(!1),zEe=()=>h.useContext(NEe),VEe=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=NOt(),c=Bc(),u=me.findPath(c,n),d=[],f=Re.isElement(n)&&!c.isInline(n)&&F.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=me.findKey(c,v),y=F.range(c,m),x=s&&de.intersection(y,s),b=a([v,m]);for(var w of t){var C=de.intersection(w,y);C&&b.push(C)}Re.isElement(v)?d.push(ie.createElement(NEe.Provider,{key:"provider-".concat(g.id),value:!!x},ie.createElement(LOt,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ie.createElement(LEe,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),I9.set(v,p),P9.set(v,n)}return d},HEe=h.createContext(!1),zOt=()=>h.useContext(HEe),UEe=h.createContext(null),TT=()=>{var e=h.useContext(UEe);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function VOt(){var e=Bc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=me.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var HOt=3,UOt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},WOt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},YOt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},mr=e=>{var t=UOt[e],n=WOt[e],r=YOt[e],o=t&&kP(t),i=n&&kP(n),s=r&&kP(r);return a=>!!(o&&o(a)||vX&&i&&i(a)||!vX&&s&&s(a))},kr={isBold:mr("bold"),isCompose:mr("compose"),isMoveBackward:mr("moveBackward"),isMoveForward:mr("moveForward"),isDeleteBackward:mr("deleteBackward"),isDeleteForward:mr("deleteForward"),isDeleteLineBackward:mr("deleteLineBackward"),isDeleteLineForward:mr("deleteLineForward"),isDeleteWordBackward:mr("deleteWordBackward"),isDeleteWordForward:mr("deleteWordForward"),isExtendBackward:mr("extendBackward"),isExtendForward:mr("extendForward"),isExtendLineBackward:mr("extendLineBackward"),isExtendLineForward:mr("extendLineForward"),isItalic:mr("italic"),isMoveLineBackward:mr("moveLineBackward"),isMoveLineForward:mr("moveLineForward"),isMoveWordBackward:mr("moveWordBackward"),isMoveWordForward:mr("moveWordForward"),isRedo:mr("redo"),isSoftBreak:mr("insertSoftBreak"),isSplitBlock:mr("splitBlock"),isTransposeCharacter:mr("transposeCharacter"),isUndo:mr("undo")},qOt=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>$9(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},GOt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class WEe extends h.Component{constructor(){super(...arguments),Ra(this,"context",null),Ra(this,"manager",null),Ra(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,GOt)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=qOt(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Ra(WEe,"contextType",D9);var KOt=gs?WEe:e=>{var{children:t}=e;return ie.createElement(ie.Fragment,null,t)},ZOt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],XOt=["text"];function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var QOt=e=>ie.createElement(ie.Fragment,null,VEe(e)),JOt=e=>{var t=h.useCallback(B=>ie.createElement(e3t,Jl({},B)),[]),{autoFocus:n,decorate:r=t3t,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=n3t,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=Gv(e,ZOt),g=TT(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:k}=VOt(),[,j]=h.useReducer(B=>B+1,0);AEe.set(g,j),Q$.set(g,s);var E=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>Yj(()=>{var B=T.current;if((gs||!me.isComposing(g))&&(!E.isUpdatingSelection||B!=null&&B.isFlushing())&&!E.isDraggingInternally){var W=me.findDocumentOrShadowRoot(g),{activeElement:z}=W,X=me.toDOMNode(g,g),Q=W.getSelection();if(z===X?(E.latestElement=z,qd.set(g,!0)):qd.delete(g),!Q)return le.deselect(g);var{anchorNode:ne,focusNode:K}=Q,J=me.hasEditableTarget(g,ne)||me.isTargetInsideNonReadonlyVoid(g,ne),oe=me.hasEditableTarget(g,K)||me.isTargetInsideNonReadonlyVoid(g,K);if(J&&oe){var fe=me.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});fe&&(!me.isComposing(g)&&!(B!=null&&B.hasPendingChanges())&&!(B!=null&&B.isFlushing())?le.select(g,fe):B==null||B.handleUserSelect(fe))}s&&(!J||!oe)&&le.deselect(g)}},100),[g,s,E]),D=h.useMemo(()=>ew(A,0),[A]);T.current=_Ot({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),fx(()=>{var B,W,z;b.current&&(z=R9(b.current))?(TEe.set(g,z),oS.set(g,b.current),xp.set(g,b.current),dx.set(b.current,g)):xp.delete(g);var{selection:X}=g,Q=me.findDocumentOrShadowRoot(g),ne=Q.getSelection();if(!(!ne||!me.isFocused(g)||(B=T.current)!==null&&B!==void 0&&B.hasPendingAction())){var K=ae=>{var ge=ne.type!=="None";if(!(!X&&!ge)){var xe=ne.focusNode,ce;if(Vg&&ne.rangeCount>1){var ve=ne.getRangeAt(0),$e=ne.getRangeAt(ne.rangeCount-1);ve.startContainer===xe?ce=$e.endContainer:ce=ve.startContainer}else ce=ne.anchorNode;var Ae=oS.get(g),st=!1;if(Ae.contains(ce)&&Ae.contains(xe)&&(st=!0),ge&&st&&X&&!ae){var et=me.toSlateRange(g,ne,{exactMatch:!0,suppressThrow:!0});if(et&&de.equals(et,X)){var lt;if(!E.hasMarkPlaceholder||(lt=ce)!==null&&lt!==void 0&&(lt=lt.parentElement)!==null&&lt!==void 0&&lt.hasAttribute("data-slate-mark-placeholder"))return}}if(X&&!me.hasRange(g,X)){g.selection=me.toSlateRange(g,ne,{exactMatch:!1,suppressThrow:!0});return}E.isUpdatingSelection=!0;var Oe=X&&me.toDOMRange(g,X);return Oe?(me.isComposing(g)&&!gs?ne.collapseToEnd():de.isBackward(X)?ne.setBaseAndExtent(Oe.endContainer,Oe.endOffset,Oe.startContainer,Oe.startOffset):ne.setBaseAndExtent(Oe.startContainer,Oe.startOffset,Oe.endContainer,Oe.endOffset),d(g,Oe)):ne.removeAllRanges(),Oe}};ne.rangeCount<=1&&K();var J=((W=T.current)===null||W===void 0?void 0:W.isFlushing())==="action";if(!gs||!J){setTimeout(()=>{E.isUpdatingSelection=!1});return}var oe=null,fe=requestAnimationFrame(()=>{if(J){var ae=ge=>{try{var xe=me.toDOMNode(g,g);xe.focus(),K(ge)}catch{}};ae(),oe=setTimeout(()=>{ae(!0),E.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(fe),oe&&clearTimeout(oe)}}});var I=h.useCallback(B=>{if(S(),!s&&me.hasEditableTarget(g,B.target)&&!r3t(B,o)){var W;if(T.current)return T.current.handleDOMBeforeInput(B);D.flush(),A.flush();var{selection:z}=g,{inputType:X}=B,Q=B.dataTransfer||B.data||void 0,ne=X==="insertCompositionText"||X==="deleteCompositionText";if(ne&&me.isComposing(g))return;var K=!1;if(X==="insertText"&&z&&de.isCollapsed(z)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&z.anchor.offset!==0){var J,oe;K=!0,g.marks&&(K=!1);var{anchor:fe}=z,[ae,ge]=me.toDOMPoint(g,fe),xe=(J=ae.parentElement)===null||J===void 0?void 0:J.closest("a"),ce=me.getWindow(g);if(K&&xe&&me.hasDOMNode(g,xe)){var ve,$e=ce==null?void 0:ce.document.createTreeWalker(xe,NodeFilter.SHOW_TEXT).lastChild();$e===ae&&((ve=$e.textContent)===null||ve===void 0?void 0:ve.length)===ge&&(K=!1)}if(K&&ae.parentElement&&(ce==null||(oe=ce.getComputedStyle(ae.parentElement))===null||oe===void 0?void 0:oe.whiteSpace)==="pre"){var Ae=F.above(g,{at:fe.path,match:We=>Re.isElement(We)&&F.isBlock(g,We)});Ae&&ke.string(Ae[0]).includes("	")&&(K=!1)}}if(!X.startsWith("delete")||X.startsWith("deleteBy")){var[st]=B.getTargetRanges();if(st){var et=me.toSlateRange(g,st,{exactMatch:!1,suppressThrow:!1});if(!z||!de.equals(z,et)){K=!1;var lt=!ne&&g.selection&&F.rangeRef(g,g.selection);le.select(g,et),lt&&cb.set(g,lt)}}}if(ne)return;if(K||B.preventDefault(),z&&de.isExpanded(z)&&X.startsWith("delete")){var Oe=X.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Oe});return}switch(X){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{X==="insertFromComposition"&&me.isComposing(g)&&(x(!1),ep.set(g,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?me.insertData(g,Q):typeof Q=="string"&&(K?w.current.push(()=>F.insertText(g,Q)):F.insertText(g,Q));break}}var we=(W=cb.get(g))===null||W===void 0?void 0:W.unref();cb.delete(g),we&&(!g.selection||!de.equals(g.selection,we))&&le.select(g,we)}},[g,A,S,o,s,D]),P=h.useCallback(B=>{B==null?(A.cancel(),D.cancel(),oS.delete(g),xp.delete(g),b.current&&xd&&b.current.removeEventListener("beforeinput",I)):xd&&B.addEventListener("beforeinput",I),b.current=B},[A,D,g,I]);fx(()=>{var B=me.getWindow(g);return B.document.addEventListener("selectionchange",D),()=>{B.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(ke.texts(g)).length===1&&ke.string(g)===""&&!y,V=h.useCallback(B=>{if(B&&R){var W;_((W=B.getBoundingClientRect())===null||W===void 0?void 0:W.height)}else _(void 0)},[R]);if(R){var N=F.start(g,[]);$.push({[Kv]:!0,placeholder:i,onPlaceholderResize:V,anchor:N,focus:N})}var{marks:H}=g;if(E.hasMarkPlaceholder=!1,g.selection&&de.isCollapsed(g.selection)&&H){var{anchor:G}=g.selection,U=ke.leaf(g,G.path),q=Gv(U,XOt);if(!_e.equals(U,H,{loose:!0})){E.hasMarkPlaceholder=!0;var Z=Object.fromEntries(Object.keys(q).map(B=>[B,null]));$.push(Jl(Jl(Jl({[DEe]:!0},Z),H),{},{anchor:G,focus:G}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:B}=g;if(B){var{anchor:W}=B,z=ke.leaf(g,W.path);if(H&&!_e.equals(z,H,{loose:!0})){yl.set(g,H);return}}yl.delete(g)})}),ie.createElement(HEe.Provider,{value:s},ie.createElement(BEe.Provider,{value:r},ie.createElement(KOt,{node:b,receivedUserInput:k},ie.createElement(p,Jl(Jl({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:xd||!rS?v.spellCheck:!1,autoCorrect:xd||!rS?v.autoCorrect:"false",autoCapitalize:xd||!rS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:Jl(Jl({},m?{}:Jl({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(B=>{if(!xd&&!s&&!Bi(B,v.onBeforeInput)&&me.hasSelectableTarget(g,B.target)&&(B.preventDefault(),!me.isComposing(g))){var W=B.data;F.insertText(g,W)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(B=>{if(!Bi(B,v.onInput)){if(T.current){T.current.handleInput();return}for(var W of w.current)W();w.current=[]}},[v.onInput]),onBlur:h.useCallback(B=>{if(!(s||E.isUpdatingSelection||!me.hasSelectableTarget(g,B.target)||Bi(B,v.onBlur))){var W=me.findDocumentOrShadowRoot(g);if(E.latestElement!==W.activeElement){var{relatedTarget:z}=B,X=me.toDOMNode(g,g);if(z!==X&&!(ja(z)&&z.hasAttribute("data-slate-spacer"))){if(z!=null&&Bf(z)&&me.hasDOMNode(g,z)){var Q=me.toSlateNode(g,z);if(Re.isElement(Q)&&!g.isVoid(Q))return}if(Cy){var ne=W.getSelection();ne==null||ne.removeAllRanges()}qd.delete(g)}}}},[s,E.isUpdatingSelection,E.latestElement,g,v.onBlur]),onClick:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!Bi(B,v.onClick)&&Bf(B.target)){var W=me.toSlateNode(g,B.target),z=me.findPath(g,W);if(!F.hasPath(g,z)||ke.get(g,z)!==W)return;if(B.detail===HOt&&z.length>=1){var X=z;if(!(Re.isElement(W)&&F.isBlock(g,W))){var Q,ne=F.above(g,{match:xe=>Re.isElement(xe)&&F.isBlock(g,xe),at:z});X=(Q=ne==null?void 0:ne[1])!==null&&Q!==void 0?Q:z.slice(0,1)}var K=F.range(g,X);le.select(g,K);return}if(s)return;var J=F.start(g,z),oe=F.end(g,z),fe=F.void(g,{at:J}),ae=F.void(g,{at:oe});if(fe&&ae&&te.equals(fe[1],ae[1])){var ge=F.range(g,J);le.select(g,ge)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var W;if(me.isComposing(g)&&(x(!1),ep.set(g,!1)),(W=T.current)===null||W===void 0||W.handleCompositionEnd(B),Bi(B,v.onCompositionEnd)||gs)return;if(!Cy&&!GPt&&!UPt&&!ZPt&&!KPt&&B.data){var z=yl.get(g);yl.delete(g),z!==void 0&&(mu.set(g,g.marks),g.marks=z),F.insertText(g,B.data);var X=mu.get(g);mu.delete(g),X!==void 0&&(g.marks=X)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!Bi(B,v.onCompositionUpdate)&&(me.isComposing(g)||(x(!0),ep.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var W;if((W=T.current)===null||W===void 0||W.handleCompositionStart(B),Bi(B,v.onCompositionStart)||gs)return;x(!0);var{selection:z}=g;if(z){if(de.isExpanded(z)){F.deleteFragment(g);return}var X=F.above(g,{match:K=>Re.isElement(K)&&F.isInline(g,K),mode:"highest"});if(X){var[,Q]=X;if(F.isEnd(g,z.anchor,Q)){var ne=F.after(g,Q);le.setSelection(g,{anchor:ne,focus:ne})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!Bi(B,v.onCopy)&&!TX(B)&&(B.preventDefault(),me.setFragmentData(g,B.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(B=>{if(!s&&me.hasSelectableTarget(g,B.target)&&!Bi(B,v.onCut)&&!TX(B)){B.preventDefault(),me.setFragmentData(g,B.clipboardData,"cut");var{selection:W}=g;if(W)if(de.isExpanded(W))F.deleteFragment(g);else{var z=ke.parent(g,W.anchor.path);F.isVoid(g,z)&&le.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!Bi(B,v.onDragOver)){var W=me.toSlateNode(g,B.target);Re.isElement(W)&&F.isVoid(g,W)&&B.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!Bi(B,v.onDragStart)){var W=me.toSlateNode(g,B.target),z=me.findPath(g,W),X=Re.isElement(W)&&F.isVoid(g,W)||F.void(g,{at:z,voids:!0});if(X){var Q=F.range(g,z);le.select(g,Q)}E.isDraggingInternally=!0,me.setFragmentData(g,B.dataTransfer,"drag")}},[s,g,v.onDragStart,E]),onDrop:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!Bi(B,v.onDrop)){B.preventDefault();var W=g.selection,z=me.findEventRange(g,B),X=B.dataTransfer;le.select(g,z),E.isDraggingInternally&&W&&!de.equals(W,z)&&!F.void(g,{at:z,voids:!0})&&le.delete(g,{at:W}),me.insertData(g,X),me.isFocused(g)||me.focus(g)}E.isDraggingInternally=!1},[s,g,v.onDrop,E]),onDragEnd:h.useCallback(B=>{!s&&E.isDraggingInternally&&v.onDragEnd&&me.hasTarget(g,B.target)&&v.onDragEnd(B),E.isDraggingInternally=!1},[s,E,v,g]),onFocus:h.useCallback(B=>{if(!s&&!E.isUpdatingSelection&&me.hasEditableTarget(g,B.target)&&!Bi(B,v.onFocus)){var W=me.toDOMNode(g,g),z=me.findDocumentOrShadowRoot(g);if(E.latestElement=z.activeElement,Vg&&B.target!==W){W.focus();return}qd.set(g,!0)}},[s,E,g,v.onFocus]),onKeyDown:h.useCallback(B=>{if(!s&&me.hasEditableTarget(g,B.target)){var W;(W=T.current)===null||W===void 0||W.handleKeyDown(B);var{nativeEvent:z}=B;if(me.isComposing(g)&&z.isComposing===!1&&(ep.set(g,!1),x(!1)),Bi(B,v.onKeyDown)||me.isComposing(g))return;var{selection:X}=g,Q=g.children[X!==null?X.focus.path[0]:0],ne=fEe(ke.string(Q))==="rtl";if(kr.isRedo(z)){B.preventDefault();var K=g;typeof K.redo=="function"&&K.redo();return}if(kr.isUndo(z)){B.preventDefault();var J=g;typeof J.undo=="function"&&J.undo();return}if(kr.isMoveLineBackward(z)){B.preventDefault(),le.move(g,{unit:"line",reverse:!0});return}if(kr.isMoveLineForward(z)){B.preventDefault(),le.move(g,{unit:"line"});return}if(kr.isExtendLineBackward(z)){B.preventDefault(),le.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(kr.isExtendLineForward(z)){B.preventDefault(),le.move(g,{unit:"line",edge:"focus"});return}if(kr.isMoveBackward(z)){B.preventDefault(),X&&de.isCollapsed(X)?le.move(g,{reverse:!ne}):le.collapse(g,{edge:"start"});return}if(kr.isMoveForward(z)){B.preventDefault(),X&&de.isCollapsed(X)?le.move(g,{reverse:ne}):le.collapse(g,{edge:"end"});return}if(kr.isMoveWordBackward(z)){B.preventDefault(),X&&de.isExpanded(X)&&le.collapse(g,{edge:"focus"}),le.move(g,{unit:"word",reverse:!ne});return}if(kr.isMoveWordForward(z)){B.preventDefault(),X&&de.isExpanded(X)&&le.collapse(g,{edge:"focus"}),le.move(g,{unit:"word",reverse:ne});return}if(xd){if((jEe||Cy)&&X&&(kr.isDeleteBackward(z)||kr.isDeleteForward(z))&&de.isCollapsed(X)){var oe=ke.parent(g,X.anchor.path);if(Re.isElement(oe)&&F.isVoid(g,oe)&&(F.isInline(g,oe)||F.isBlock(g,oe))){B.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(kr.isBold(z)||kr.isItalic(z)||kr.isTransposeCharacter(z)){B.preventDefault();return}if(kr.isSoftBreak(z)){B.preventDefault(),F.insertSoftBreak(g);return}if(kr.isSplitBlock(z)){B.preventDefault(),F.insertBreak(g);return}if(kr.isDeleteBackward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(kr.isDeleteForward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(kr.isDeleteLineBackward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(kr.isDeleteLineForward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(kr.isDeleteWordBackward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(kr.isDeleteWordForward(z)){B.preventDefault(),X&&de.isExpanded(X)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(B=>{!s&&me.hasEditableTarget(g,B.target)&&!Bi(B,v.onPaste)&&(!xd||JPt(B.nativeEvent)||Cy)&&(B.preventDefault(),me.insertData(g,B.clipboardData))},[s,g,v.onPaste])}),ie.createElement(QOt,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},e3t=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",Jl({},t),n,gs&&ie.createElement("br",null))},t3t=()=>[],n3t=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&de.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Yv(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Bi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},TX=e=>Bf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),r3t=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},o3t=h.createContext(!1),i3t=h.createContext({});function s3t(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var a3t=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],l3t=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=Gv(e,a3t),[c,u]=ie.useState(()=>{if(!ke.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat($o.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat($o.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=s3t(t),p=h.useCallback(g=>{var y;switch(r&&r(t.children),g==null||(y=g.operation)===null||y===void 0?void 0:y.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(J$.set(t,p),()=>{J$.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(me.isFocused(t));return h.useEffect(()=>{v(me.isFocused(t))},[t]),fx(()=>{var g=()=>v(me.isFocused(t));return EEe>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),ie.createElement(i3t.Provider,{value:d},ie.createElement(UEe.Provider,{value:c},ie.createElement(D9.Provider,{value:c.editor},ie.createElement(o3t.Provider,{value:m},n))))},AX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},DX=(e,t,n)=>{var r=me.toDOMRange(e,t).getBoundingClientRect(),o=me.toDOMRange(e,n).getBoundingClientRect();return AX(r,o)&&AX(o,r)},c3t=(e,t)=>{var n=F.range(e,de.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(DX(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)DX(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function IX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IX(Object(n),!0).forEach(function(r){Ra(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var u3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return jT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=O9.get(r))===null||f===void 0||f(),!yl.get(r)&&(p=ds.get(r))!==null&&p!==void 0&&p.length&&yl.set(r,null),mu.delete(r),a(u,d)},r.removeMark=u=>{var d;!yl.get(r)&&(d=ds.get(r))!==null&&d!==void 0&&d.length&&yl.set(r,null),mu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&de.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Re.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=c3t(r,p);de.isCollapsed(m)||le.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=ds.get(r);if(p!=null&&p.length){var m=p.map(P=>fOt(P,u)).filter(Boolean);ds.set(r,m)}var v=Pd.get(r);v&&Pd.set(r,bX(r,v,u));var g=Id.get(r);if(g!=null&&g.at){var y=Pt.isPoint(g==null?void 0:g.at)?nM(r,g.at,u):bX(r,g.at,u);Id.set(r,y?PX(PX({},g),{},{at:y}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Gm(r,u.path));break}case"set_selection":{var x;(x=cb.get(r))===null||x===void 0||x.unref(),cb.delete(r);break}case"insert_node":case"remove_node":{d.push(...Gm(r,te.parent(u.path)));break}case"merge_node":{var b=te.previous(u.path);d.push(...Gm(r,b));break}case"move_node":{var w=te.common(te.parent(u.path),te.parent(u.newPath));d.push(...Gm(r,w));var C;te.isBefore(u.path,u.newPath)?(d.push(...Gm(r,te.parent(u.path))),C=u.newPath):(d.push(...Gm(r,te.parent(u.newPath))),C=u.path);var _=ke.get(t,te.parent(C)),S=me.findKey(r,_),k=F.pathRef(r,te.parent(C));f.push([k,S]);break}}o(u);for(var[j,E]of d){var[T]=F.node(r,j);CE.set(T,E)}for(var[A,D]of f)if(A.current){var[I]=F.node(r,A.current);CE.set(I,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=de.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(de.isCollapsed(d)&&!m)){var g=me.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=me.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),IEe(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),k=JSON.stringify(S),j=window.btoa(encodeURIComponent(k));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var E=y.ownerDocument.createElement("div");return E.appendChild(y),E.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(E),u.setData("text/html",E.innerHTML),u.setData("text/plain",OEe(E)),y.ownerDocument.body.removeChild(E),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||oOt(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&le.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=EEe<18?lUe.unstable_batchedUpdates:f=>f();d(()=>{var f=J$.get(r);f&&f(u),i(u)})},r},Gm=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=me.findKey(e,r);n.push([o,i])}return n},d3t=Wve,OX=1/0,f3t=17976931348623157e292;function h3t(e){if(!e)return e===0?e:0;if(e=d3t(e),e===OX||e===-OX){var t=e<0?-1:1;return t*f3t}return e===e?e:0}var YEe=h3t,p3t=YEe;function m3t(e){var t=p3t(e),n=t%1;return t===t?n?t-n:t:0}var g3t=m3t,v3t=R_e,y3t=Jf,b3t=g3t,x3t=Math.max;function w3t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:b3t(n);return o<0&&(o=x3t(r+o,0)),v3t(e,y3t(t),o)}var qEe=w3t;const M9=Pe(qEe);var C3t=Y8,_3t=4;function S3t(e){return C3t(e,_3t)}var k3t=S3t;const GEe=Pe(k3t);function iS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function _E(e){return iS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>iS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>iS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function jP(e){return iS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Uu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function RX(e){return Uu(e)?e.jsonType==="object":!1}function E3t(e){return Uu(e)?e.jsonType==="array":!1}function j3t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function T3t(e){return Uu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function A3t(e){if(!Uu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(sM),n=e.fields.find(oM),r=e.fields.find(iM);return sM(t)&&oM(n)&&iM(r)}function oM(e){return!Uu(e)||e.name!=="style"?!1:Uu(e.type)&&e.type.jsonType==="string"}function iM(e){return!Uu(e)||e.name!=="listItem"?!1:Uu(e.type)&&e.type.jsonType==="string"}function sM(e){return!Uu(e)||e.name!=="children"||!E3t(e.type)?!1:e.type.of.some(T3t)}function F9(e){return e.type?F9(e.type):e.name==="block"}function D3t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(F9);if(!A3t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(sM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&RX(c)),a=e.of.filter(c=>c.name!==r.name&&RX(c));return{styles:I3t(r),decorators:O3t(i),annotations:P3t(i),lists:R3t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function I3t(e){const t=e.fields.find(oM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=KEe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function P3t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function O3t(e){return e.decorators}function R3t(e){const t=e.fields.find(iM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=KEe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function KEe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>j3t(n)?n:{title:n,value:n}):[]}const $3t=Object.prototype.toString;function ZEe(e){switch($3t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function M3t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return x9(t),t}const XEe=[];for(let e=0;e<256;++e)XEe[e]=(e+256).toString(16).substring(1);function aM(e){return M3t(e).reduce((t,n)=>t+XEe[n],"").slice(0,e)}const F3t=["pre","textarea","code"],Zv="normal",ps=Object.freeze({_type:"block",markDefs:[],style:Zv}),sS=Object.freeze({_type:"span",marks:[]}),SE={p:ps,blockquote:{...ps,style:"blockquote"}},QEe={span:{object:"text"}},kE={ol:{object:null},ul:{object:null}},EE={h1:{...ps,style:"h1"},h2:{...ps,style:"h2"},h3:{...ps,style:"h3"},h4:{...ps,style:"h4"},h5:{...ps,style:"h5"},h6:{...ps,style:"h6"}},L3t={br:{...ps,style:Zv}},JEe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},e5e={li:{...ps,style:Zv,level:1,listItem:"bullet"}},B3t={...SE,...QEe,...kE,...e5e,...EE,...L3t};fo(Object.values(B3t).filter(e=>"style"in e).map(e=>e.style));fo(Object.values(JEe));const qp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var N3t=(e,t)=>{function n(r){var o,i;if(r.nodeType===qp.BOOLEAN_TYPE&&!F3t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const z3t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var V3t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(z3t.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const H3t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,U3t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],W3t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],Y3t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function q3t(e){return H3t.test(e)}var G3t=(e,t)=>{var n;if(!q3t(e))return t;const r=t.evaluate(U3t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(W3t.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=Y3t[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},K3t=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,qp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},Z3t=[N3t,G3t,K3t,V3t];function X3t(e){const t=D3t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Er(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function Q3t(e,t){const n=t(J3t(e));return Z3t.forEach(r=>{r(e,n)}),n}function J3t(e){return e.trim()}function eRt(){if(ZEe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function tRt(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),_E(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function nRt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function rRt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function $X(e){return[""," "].includes(e)}function oRt(e){return e.forEach(t=>{_E(t)&&t.children.forEach((n,r)=>{if(!cv(n))return;const o=nRt(t,r),i=rRt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&cv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&cv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ht(i.marks,n.marks)&&$X(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ht(o.marks,n.marks)&&$X(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function iRt(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!_E(o[r-1])&&_E(i))return i.children.push(n),t;const s={...ps,children:[n]};return t.push(s),t},[])}function sRt(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function cv(e){return e._type==="span"}function MX(e){return e._type==="block"}function FX(e){return e._type==="__decorator"}function LX(e){return e._type==="__annotation"}function rh(e){return e.nodeType===1}function aRt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function lRt(e,t){return[{deserialize(n){if(Er(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Er(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...sS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Er(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...sS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Er(n)!=="blockquote")return;const o={...SE,...EE};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...SE,...EE},i=Er(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Er(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=ps),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in QEe)))return r(n.childNodes)}},{deserialize(n,r){if(Er(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Er(n);if(!(!o||!(o in kE)))return r(n.childNodes)}},{deserialize(n){if(Er(n)==="br")return{...sS,text:`
`}}},{deserialize(n,r,o){const i=Er(n),s=i?e5e[i]:void 0,a=Er(n.parentNode)||"";if(!s||!n.parentNode||!kE[a])return;const c=aRt(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=JEe[Er(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Er(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=rh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:aM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const t5e=Object.keys(kE);function cRt(e){const t=rh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function uRt(e){const t=rh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function BX(e){return rh(e)&&!!e.getAttribute("data-is-google-docs")}function dRt(e){const t=Er(e.parentNode);if(!(t&&!t5e.includes(t)))return Er(e.parentNode)==="ul"?"bullet":"number"}function fRt(e){let t=0;if(Er(e)==="li"){let n=e.parentNode;for(;n;){const r=Er(n);r&&t5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const hRt={...SE,...EE};function pRt(e,t){const n=Er(e.firstChild),r=n&&hRt[n];return!r||!t.includes(r.style)?Zv:r.style}function mRt(e,t){return[{deserialize(n){if(rh(n)&&Er(n)==="span"&&BX(n)){const r={...sS,marks:[],text:n.textContent};return uRt(n)&&r.marks.push("strong"),cRt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Er(n)==="li"&&BX(n))return{...ps,listItem:dRt(n),level:fRt(n),style:pRt(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function gRt(e){const t=rh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function vRt(e){const t=rh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function yRt(e){return rh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function bRt(){return[{deserialize(e,t){if(Er(e)==="p"&&yRt(e))return{...ps,listItem:gRt(e),level:vRt(e),style:Zv,children:t(e.childNodes)}}}]}function xRt(e,t){return[...bRt(),...mRt(e,t),...lRt(e,t)]}class wRt{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=oRt(tRt(iRt(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>In(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(F9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(sRt(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=ZEe(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:FX(g)?p=this.deserializeDecorator(g):LX(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&MX(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Er(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&MX(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{cv(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(FX(d))return this.deserializeDecorator(d);if(cv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(LX(d))return this.deserializeAnnotation(d);if(cv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=xRt(t,X3t(t));this.rules=[...o,...i];const s=r.parseHtml||eRt();this.blockContentType=t,this.parseHtml=a=>Q3t(a,s).body}}function hx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:aM(12)};const n={_key:aM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&jP(a)&&jP(c)&&Ht(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),jP(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function NX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new wRt(t,n).deserialize(e).map(o=>hx(o))}function zX(e){return K8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function VX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(n5e);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:CRt(o),decorators:_Rt(a),lists:SRt(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function CRt(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function _Rt(e){return e.decorators}function SRt(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function n5e(e){return e.type?n5e(e.type):e.name==="block"?e:null}const lM="sanity-pte:";wy(lM);function Ur(e){const t="".concat(lM).concat(e);return wy&&wy.enabled(t)?wy(t):wy(lM)}const px=()=>Fw(12),r5e=h.createContext(px),kRt=()=>{const e=h.useContext(r5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},jE=new WeakMap,aS=new WeakMap,b_=new WeakMap,F1=new WeakMap,L1=new WeakMap,B1=new WeakMap,cM=new WeakMap,ba=new WeakMap,TE=new WeakMap;function ERt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function uM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Lw(e){const[t,n]=e;return[t,n]}function HX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function L9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function AT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function o5e(e){let t=e.map(f=>Lw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===St?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Kn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[An,i]),t[r[o-1]+1][0]=Kn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=DT(t)),t=i5e(t),s=1;s<t.length;){if(t[s-1][0]===An&&t[s][0]===Kn){const f=t[s-1][1],p=t[s][1],m=HX(f,p),v=HX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[St,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[St,f.substring(0,v)]),t[s-1][0]=Kn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=An,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const UX=/[^a-zA-Z0-9]/,WX=/\s/,YX=/[\r\n]/,jRt=/\n\r?\n$/,TRt=/^\r?\n\r?\n/;function i5e(e){const t=e.map(o=>Lw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(UX),u=a.match(UX),d=c&&s.match(WX),f=u&&a.match(WX),p=d&&s.match(YX),m=f&&a.match(YX),v=p&&o.match(jRt),g=m&&i.match(TRt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===St&&t[r+1][0]===St){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=AT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function DT(e){let t=e.map(u=>Lw(u));t.push([St,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Kn:o++,s+=t[n][1],n++;break;case An:r++,i+=t[n][1],n++;break;case St:r+o>1?(r!==0&&o!==0&&(a=L9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===St?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[St,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=AT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[An,i]),n++),s.length&&(t.splice(n,0,[Kn,s]),n++),n++):n!==0&&t[n-1][0]===St?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===St&&t[n+1][0]===St&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=DT(t)),t}function ARt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function s5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Lw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===St?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===An?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&ARt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[An,s]),n[o[i-1]+1][0]=Kn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=DT(n)),n}function DRt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return qX(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],k=s+S-_;if(w=r-w,S>=w)return qX(e,t,S,k,n)}}}}return[[An,e],[Kn,t]]}function qX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Gp(i,s,{checkLines:!1,deadline:o}),d=Gp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function IRt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=GX(r,o,Math.ceil(r.length/4)),s=GX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function GX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=L9(e.slice(n),t.slice(o)),f=AT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function PRt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function ORt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function RRt(e,t,n){let r=e,o=t;const i=ORt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Gp(r,o,{checkLines:!1,deadline:n.deadline});PRt(a,s),a=o5e(a),a.push([St,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Kn:d++,p+=a[c][1];break;case An:u++,f+=a[c][1];break;case St:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Gp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function $Rt(e,t,n){let r;if(!e)return[[Kn,t]];if(!t)return[[An,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Kn,o.substring(0,s)],[St,i],[Kn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=An,r[2][0]=An),r;if(i.length===1)return[[An,e],[Kn,t]];const a=IRt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Gp(c,d,n),v=Gp(u,f,n);return m.concat([[St,p]],v)}return n.checkLines&&e.length>100&&t.length>100?RRt(e,t,n):DRt(e,t,n.deadline)}const An=-1,Kn=1,St=0;function B9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Gp(e,t,FRt(n||{}));return BRt(r),r}function Gp(e,t,n){let r=e,o=t;if(r===o)return r?[[St,r]]:[];let i=L9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=AT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=$Rt(r,o,n);return s&&c.unshift([St,s]),a&&c.push([St,a]),c=DT(c),c}function MRt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function FRt(e){return{checkLines:!0,deadline:MRt(e.timeout||1),...e}}function x_(e,t,n){return n===1?e+t:t+e}function w_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function LRt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function KX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Kn){o===null&&(o=s);continue}else if(u===An){i===null&&(i=s);continue}else if(u===St){if(o===null&&i===null){const[f,p]=w_(e[t][1],n);e[t][1]=f,e[s][1]=x_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&LRt(e,o,i,n)){const[u,d]=w_(e[o][1],r),[f]=w_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=x_(e[t][1],d,n);return}const[a,c]=w_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Kn,c]),i!==null&&i>=s&&i++):e[o][1]=x_(e[o][1],c,r),i===null?e.splice(s,0,[An,c]):e[i][1]=x_(e[i][1],c,r)}function BRt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];ERt(i)&&n===St&&KX(e,t,1),uM(o)&&n===St&&KX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const NRt={threshold:.5,distance:1e3};function zRt(e){return{...NRt,...e}}const VRt=32;function HRt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>VRt)throw new Error("Pattern too long for this browser.");const o=zRt(r),i=URt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function URt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function TP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return HRt(e,t,r)}function AE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function N9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Kn&&(t[n]=e[n][1]);return t.join("")}function a5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==An&&(t[n]=e[n][1]);return t.join("")}function Gd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=l5e(r)}return t}function WRt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=l5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Lw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function l5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Od=32,z9=4,YRt={margin:4};function AP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...YRt,...e}}function qRt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=B9(e,t,{checkLines:!0});return r.length>2&&(r=o5e(r),r=s5e(r)),DP(e,r,AP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return DP(N9(e),e,AP(n));if(typeof e=="string"&&t&&Array.isArray(t))return DP(e,t,AP(n));throw new Error("Unknown call format to make()")}function DP(e,t,n){if(t.length===0)return[];const r=[];let o=AE(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Gd(g);switch(!i&&v!==St&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Kn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case An:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case St:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(ZX(o,d,n),r.push(o),o=AE(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Kn&&(s+=y,c+=x),v!==An&&(a+=y,u+=x)}return i&&(ZX(o,d,n),r.push(o)),r}function ZX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Od-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&uM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([St,s]);const a=s.length,c=Gd(s);let u=e.start2+e.length1+o;u<t.length&&uM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([St,d]);const f=d.length,p=Gd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function GRt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Kn:n+=s.length;break;case An:r+=s.length;break;case St:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function XX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Kn&&(n+=e[s][1].length),e[s][0]!==An&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===An?i:i+(t-o)}function KRt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==St)i.unshift([St,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==St)i.push([St,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function ZRt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z9;const n=Od;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=AE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Gd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([St,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Gd(m);if(p===Kn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===An&&c.diffs.length===1&&c.diffs[0][0]===St&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Gd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===St?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=a5e(c.diffs),a=a.substring(a.length-t);const d=N9(o.diffs).substring(0,t),f=Gd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===St?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([St,d])),u||e.splice(++r,0,c)}}}function c5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=WRt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||z9,s=n.deleteThreshold||.4,a=KRt(o,i);r=a+r+a,ZRt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=N9(o[d].diffs);let m,v=-1;if(p.length>Od?(m=TP(r,p.substring(0,Od),f),m!==-1&&(v=TP(r,p.substring(p.length-Od),f+p.length-Od),(v===-1||m>=v)&&(m=-1))):m=TP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Od),p===g)r=r.substring(0,m)+a5e(o[d].diffs)+r.substring(m+p.length);else{let y=B9(p,g,{checkLines:!1});if(p.length>Od&&GRt(y)/p.length>s)u[d]=!1;else{y=i5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==St&&(b=XX(y,x)),C[0]===Kn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===An&&(r=r.substring(0,m+b)+r.substring(m+XX(y,x+C[1].length))),C[0]!==An&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function XRt(e){return e.map(QRt).join("")}function QRt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Kn:u="+";break;case An:u="-";break;case St:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const JRt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function V9(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(JRt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=AE(C_(o[1]),C_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=C_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=C_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Gd(c)-c.length;if(a==="-")i.diffs.push([An,c]),i.length1-=u;else if(a==="+")i.diffs.push([Kn,c]),i.length2-=u;else if(a===" ")i.diffs.push([St,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function C_(e){return parseInt(e,10)}function u5e(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function QX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=qRt(e,t),o=XRt(r);return{type:"diffMatchPatch",path:n,value:o}}function su(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function dl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Vs(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const e$t=[],t$t=[],d5e="void-child";function tp(e,t){const n=t[e._key];return n&&Ht(e,n)?n:(t[e._key]=e,e)}function _c(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:d5e,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=typeof d.children>"u",g=v?[{_type:n.span.name,_key:px(),text:"",marks:[]}]:d.children.map(y=>{const{_type:x,_key:b,...w}=y;return x!=="span"?(f=!0,tp({_type:x,_key:b,children:c,value:w,__inline:!0},r)):x==="span"&&!("marks"in w)?tp({_key:b,_type:x,...w,marks:t$t},r):y});return!p&&!m&&!v&&!f&&Re.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=e$t),tp({_type:i,_key:s,...a,children:g},r))}return tp({_type:i,_key:s,children:c,value:a},r)}):[]}function yr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return tp({...y,...f,_key:p,_type:m},n)}return u});return a?tp({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return tp({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function DE(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Re.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&_e.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Hh=Ur("operationToPatches");Hh.enabled=!1;function n$t(e){const t=e.block.name;function n(d,f,p){Hh.enabled&&Hh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=QX(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=QX(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=qSe({...d.children[f.path[0]],...f.newProperties},GSe);return[dl(yr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Wn(f.newProperties,x);y.push(dl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[su([yr([f.node],t)[0]],g,[{_key:x}])]:[u5e(p,[]),su([yr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&_e.isText(y)&&(y._type="span",y.marks=[]);const b=yr([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[su([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Hh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=yr([d.children[f.path[0]+1]],t)[0];y&&(m.push(su([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(Vs(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=yr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(su(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(dl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Vs([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Vs([{_key:m._key},"children",{_key:v._key}])]:(Hh("Span not found in editor trying to remove node"),[])}else return Hh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=yr([d.children[f.path[0]-1]],t)[0];m.push(dl(y,[{_key:y._key}])),m.push(Vs([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(dl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(Vs([{_key:v._key},"children",{_key:y._key}])))}else Hh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(Vs([{_key:v._key}])),m.push(su([yr([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=yr([v],t)[0].children[f.path[1]];m.push(Vs([{_key:v._key},"children",{_key:y._key}])),m.push(su([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function JX(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function eQ(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>Pr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Re.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ht([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Re.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function np(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&JX(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&JX(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function lS(e,t){if(!e||!t)return null;const n={path:eQ(e.anchor,t),offset:e.anchor.offset},r={path:eQ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function dM(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const N1=Ur("API:editable");function r$t(e,t,n){return function(o){return e.setEditable({focus:()=>{me.focus(o)},blur:()=>{me.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=lS(i,o);s?le.select(o,s):le.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=ke.descendant(o,o.selection.focus.path.slice(0,1));if(i)return yr([i],t.block.name,ba.get(o))[0]}},focusChild:()=>{if(o.selection){const i=ke.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return yr([i],t.block.name,ba.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=_c([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=ke.get(o,f);return p&&m._type!==t.span.name&&(N1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),le.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=np(yr(o.children,t.block.name,ba.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=_c([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,c),o.onChange(),((a=np(yr(o.children,t.block.name,ba.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=lS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=F.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[yr([a],t.block.name)[0],[{_key:a._key}]];const u=yr([a],t.block.name,ba.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=me.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{_e.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=F.node(o,a.focus,{depth:1});if(Re.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){le.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),de.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{le.setNodes(o,{},{match:_e.isText,split:!0}),o.selection&&_e.isText(d)&&(le.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=np(yr(o.children,t.block.name,ba.get(o)),o.selection,t);if(f&&typeof c._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(le.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:de.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=lS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){N1("Deleting content in selection"),le.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(N1("Deleting blocks touched by selection"),le.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Re.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(N1("Deleting children touched by selection"),le.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Re.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(N1("Removing annotation",i),s){if(de.isCollapsed(s)){const[a,c]=F.node(o,s,{depth:2});_e.isText(a)&&a.marks&&typeof a.text=="string"&&(le.select(o,c),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&de.isExpanded(s)){if(s=o.selection,!s)return;le.setNodes(o,{},{match:_e.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(_e.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];le.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=TE.get(o.selection);if(s)return s;i=np(yr(o.children,t.block.name,ba.get(o)),o.selection,t),TE.set(o.selection,i)}return i},getValue:()=>yr(o.children,t.block.name,ba.get(o)),isCollapsedSelection:()=>!!o.selection&&de.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&de.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function o$t(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const IE=new WeakMap;function mx(e,t){const n=f5e(e);IE.set(e,!0),t(),IE.set(e,n)}function f5e(e){return IE.get(e)}function i$t(e,t){return function(r){IE.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!f5e(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Re.isElement(a)&&a._type===e.block.name){a._key||le.setNodes(r,{_key:t()},{at:c});for(const[u,d]of ke.children(r,c))if(!u._key){le.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const PE=new WeakMap;function fM(e,t){const n=h5e(e);PE.set(e,!1),t(),PE.set(e,n)}function h5e(e){return PE.get(e)}const tQ="before",nQ="after";function s$t(e,t,n){if(t!==tQ&&t!==nQ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(tQ," or ").concat(nQ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=rQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...rQ(s)),d}function rQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const oQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function a$t(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function l$t(e,t){if(typeof t=="number")return t;const n=M9(e,t);return n===-1?!1:n}function c$t(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!oQ(t.value,"from")||!oQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return a$t(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=l$t(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return s$t(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=H9(n[i],{...t,path:o}),n}function u$t(e,t){const n=GEe(e);if(t.path.length===0){if(t.type==="set"){if(!Jx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Di(n,r):(n[r]=H9(n[r],{...t,path:o}),n)}const p5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},d$t=Object.keys(p5e);function f$t(e,t){if(!d$t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return p5e[t.type](e,t.value)}const m5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=c5e(V9(t),e,{allowExceedingIndices:!0});return n}},h$t=Object.keys(m5e);function p$t(e,t){if(!h$t.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=m5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function m$t(e,t){return t.reduce(H9,e)}function g$t(e,t){return Array.isArray(e)?c$t(e,t):dT(e)?p$t(e,t):Jx(e)?u$t(e,t):f$t(e,t)}function H9(e,t){return g$t(e,t)}const xr=Ur("applyPatches"),U9=xr.enabled&&!0;function v$t(e){let t;return function(n,r){let o=!1;U9&&(xr(`

NEW PATCH =============================================================`),xr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=b$t(n,r,e);break;case"unset":o=w$t(n,r,t);break;case"set":o=x$t(n,r);break;case"diffMatchPatch":o=y$t(n,r);break;default:xr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function y$t(e,t){const{block:n,child:r,childPath:o}=IT(e,t.path);if(!n)return xr("Block not found"),!1;if(!r||!o)return xr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!_e.isText(r))return!1;const s=V9(t.value),[a]=c5e(s,r.text,{allowExceedingIndices:!0}),c=s5e(B9(r.text,a),5);ms(e,"before");let u=0;for(const[d,f]of c)d===Kn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===An?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===St&&(u+=f.length);return ms(e,"after"),!0}function b$t(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=IT(e,t.path);if(!r||!i)return xr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return xr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=_c(m,{schemaTypes:n},cM.get(e)),y=i[0],x=v==="after"?y+1:y;return xr("Inserting blocks at path [".concat(x,"]")),ms(e,"before"),le.insertNodes(e,g,{at:[x]}),ms(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return xr("Child not found"),!1;const u=r&&_c([{...r,children:a}],{schemaTypes:n},cM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return xr("Inserting children at path ".concat(p)),ms(e,"before"),u&&Re.isElement(u[0])&&le.insertNodes(e,u[0].children,{at:p}),ms(e,"after"),!0}function x$t(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=IT(e,t.path);if(!r)return xr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return xr("Ignoring setting void value"),!1;if(ms(e,"before"),a&&i&&s){if(_e.isText(n)&&_e.isText(i)){const c=i.text;n.text!==c&&(xr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else xr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Re.isElement(r)&&t.path.length===1&&o){xr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=m$t([r.value],[t])[0];return le.setNodes(e,{...r,value:c},{at:o}),!0}return ms(e,"after"),!0}function w$t(e,t,n){if(t.path.length===0){xr("Removing everything"),ms(e,"before");const a=e.selection;return le.deselect(e),e.children.forEach((c,u)=>{le.removeNodes(e,{at:[u]})}),le.insertNodes(e,e.createPlaceholderBlock()),a&&le.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),ms(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=IT(e,t.path);if(t.path.length===1){if(!r||!o)return xr("Block not found"),!1;const a=o[0];return xr("Removing block at path [".concat(a,"]")),ms(e,"before"),le.removeNodes(e,{at:[a]}),ms(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return xr("Child not found"),!1;const a=s[1];return xr("Unsetting child at path ".concat(JSON.stringify(s))),ms(e,"before"),U9&&xr("Removing child at path ".concat(JSON.stringify([s,a]))),le.removeNodes(e,{at:s}),ms(e,"after"),!0}return!1}function g5e(e){return typeof e=="object"&&"_key"in e}function ms(e,t){U9&&(xr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),xr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function C$t(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=g5e(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function IT(e,t){const{block:n,path:r}=C$t(e,t);if(!(Re.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=g5e(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function v5e(e,t){const n=y5e(e)||!1;jE.set(e,!0),t(),jE.set(e,n)}function y5e(e){return jE.get(e)}function _$t(e){return aS.get(e)}const Go=Ur("plugin:withUndoRedo"),iQ=Go.enabled&&!1,uv=new WeakMap,IP=new WeakMap,S$t=1e3,b5e=e=>{const t=uv.get(e);return t===void 0?!0:t},k$t=e=>(IP.get(e)||IP.set(e,[]),IP.get(e)||[]);function E$t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=yr(o.children,r.name);const s=k$t(o);n&&o.subscriptions.push(()=>{Go("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Go("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),uv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Go("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=T$t(c,m),g=b5e(o);let y=!0;if(g){if(p?u.length===0&&(y=j$t(c,m)||v):y=!1,p&&y)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[D$t(o)],c],timestamp:new Date};f.push(x),Go("Created new undo step",p)}for(;f.length>S$t;)f.shift();A$t(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Go("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=In(f.map(m=>sQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),dM(!!o.selection);try{F.withoutNormalizing(o,()=>{gx(o,()=>{f.map(Ng.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Go("Could not perform undo step",p),s.splice(0,s.length),le.deselect(o),o.history={undos:[],redos:[]},uv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Go("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=In(f.map(m=>sQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),dM(!!o.selection);try{F.withoutNormalizing(o,()=>{gx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Go("Could not perform redo step",p),s.splice(0,s.length),le.deselect(o),o.history={undos:[],redos:[]},uv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function sQ(e,t,n,r,o){iQ&&(Go("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Go("Operation ".concat(JSON.stringify(n))),Go("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return Go("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[aQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Go("Skipping transformation that targeted removed block"),[]):(iQ&&(Go("Selection ".concat(JSON.stringify(e.selection))),Go("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[aQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Go("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=I$t(e,i);return!s||!Ht({_key:s._key},t.path[0])?[i]:(V9(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((y,x)=>{const[b,w]=y;b===Kn?(m+=w.length,v+=w.length):b===An?(m-=w.length,v-=w.length):b===St&&(g.slice(x).every(C=>{let[_]=C;return _===St})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function aQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const j$t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&te.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&te.equals(e.path,t.path)),T$t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),A$t=e=>e.type!=="set_selection";function gx(e,t){const n=b5e(e);uv.set(e,!1),t(),uv.set(e,n)}function D$t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function I$t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const __=Ur("plugin:withPatches");function P$t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=v$t(i);return function(u){jE.set(u,!1),PE.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;v5e(u,()=>{F.withoutNormalizing(u,()=>{fM(u,()=>{gx(u,()=>{mx(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&dM(!!u.selection),__.enabled&&__("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{__("Subscribing to patches$");const v=n.subscribe(m);return()=>{__("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=DE(s,i);d(v);const x=DE(u.children,i);if(!h5e(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(su(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Vs([])],t.next({type:"unset",previousValue:yr(s,i.block.name,ba.get(u))})),y&&g.length>0&&(g=[u5e([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const O$t=Ur("plugin:withPlaceholderBlock");function R$t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(O$t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const S_=Ur("plugin:withPortableTextBlockStyle");function $$t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!te.equals(s,a.path)){const[c]=F.node(r,[a.path[0]+1,0]);if(_e.isText(c)&&c.text===""){S_("Normalizing split node to ".concat(t," style"),a),le.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(S_("Unsetting block style '".concat(i,"'")),le.setNodes(r,{...c,style:t},{at:u})):(i?S_("Setting style '".concat(i,"'")):S_("Setting default style",t),le.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const bh=Ur("plugin:withPortableTextLists"),PP=10;function M$t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(bh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(bh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Re.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};bh("Unsetting list '".concat(r,"'")),le.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;bh("Setting list '".concat(r,"'")),le.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Re.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&_e.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Re.isElement(i)&&(bh("Unset list"),le.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,bh("Decrementing list level",Math.min(PP,Math.max(1,c)))):(c++,bh("Incrementing list level",Math.min(PP,Math.max(1,c)))),le.setNodes(n,{level:Math.min(PP,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const wd=Ur("plugin:withPortableTextMarkModel");function F$t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(le.select(i,{...i.selection}),i.selection={...i.selection});const d=np(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=_e.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(wd("Adding .marks to span node"),le.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=F.node(i,[g.path[0]-1]);if(wd("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=fo([...b,...g.properties.markDefs]);Ht(w,y.markDefs)||(le.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Re.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1]);if(wd("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];le.setNodes(i,{markDefs:fo([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1,0]);_e.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(le.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=F.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&_e.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(le.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(le.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&de.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(_e.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),le.splitNodes(i,{match:_e.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(y=>c.includes(y));le.setNodes(i,{marks:g},{at:te.next(m.focus.path)}),wd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(de.isExpanded(i.selection)){le.setNodes(i,{},{match:_e.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:_e.isText})];if(In(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];le.setNodes(i,{marks:y},{at:g,match:_e.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(de.isExpanded(f))F.withoutNormalizing(i,()=>{le.setNodes(i,{},{match:_e.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:_e.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Re.isElement(y)&&y.children.includes(v)&&le.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return de.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:_e.isText,at:i.selection})).forEach(p=>{const[m]=p;f=fo([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(wd("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(wd("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?F.node(o,te.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];_e.isText(s)&&_e.isText(d)&&Ht(d.marks,s.marks)&&(wd("Merging spans"),le.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>_e.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ht(u,a.markDefs)||(wd("Removing markDef not in use"),le.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const x5e=Ur("plugin:withPortableTextSelections"),L$t=x5e.enabled&&!1;function B$t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=TE.get(o.selection);if(c)a=c;else{const u=o.children;a=np(u,o.selection,t),TE.set(o.selection,a)}}L$t&&x5e("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const N$t=Ur("plugin:withSchemaTypes");function z$t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>ju(s)&&s._type===t.block.name,o.isTextSpan=s=>qs(s)&&s._type==t.span.name,o.isListBlock=s=>ZMe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){N$t("Setting span type on text node without a type");const u=a,d=u._key||n();le.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const OP=Ur("plugin:withUtils");function V$t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!de.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!_e.isText(o)||o.text.length===0){OP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){OP("pteExpandToWord: Expanding to focused word"),le.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}OP("pteExpandToWord: Can't expand to word here")}},n}}const RP=Ur("plugin:withHotKeys"),H$t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function U$t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||H$t,s=()=>_c([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{var d,f;Object.keys(i).forEach(b=>{if(b==="marks")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(gi(w,u.nativeEvent)){u.preventDefault();const C=i[b];if(C){const _=C[w];RP("HotKey ".concat(w," to toggle ").concat(_)),c.pteToggleMark(_)}}}if(b==="custom")for(const w in i[b]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(gi(w,u.nativeEvent)){const C=i[b];if(C){const _=C[w];_(u,n)}}}});const p=gi("enter",u.nativeEvent),m=gi("tab",u.nativeEvent),v=gi("shift+enter",u.nativeEvent),g=gi("shift+tab",u.nativeEvent),y=gi("backspace",u.nativeEvent),x=gi("delete",u.nativeEvent);if(y&&c.selection&&c.selection.focus.path[0]>0&&de.isCollapsed(c.selection)){const b=te.previous(c.selection.focus.path.slice(0,1)),w=ke.descendant(c,b),C=ke.descendant(c,c.selection.focus.path.slice(0,1));if(w&&C&&F.isVoid(c,w)&&c.selection.focus.offset===0){RP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation();const _=ju(C),S=_&&C.children.length===1&&((f=(d=C.children)==null?void 0:d[0])==null?void 0:f.text)==="";if(!_||S){le.removeNodes(c,{match:k=>k===C}),le.select(c,b),c.onChange();return}if(_&&!S){le.select(c,b),c.onChange();return}return}}if(x&&c.selection&&c.selection.focus.offset===0&&de.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=ke.descendant(c,te.next(c.selection.focus.path.slice(0,1))),w=c.selection.focus.path.slice(0,1),C=ke.descendant(c,w);if(b&&C&&!F.isVoid(c,C)&&F.isVoid(c,b)){RP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),le.removeNodes(c,{match:_=>_===C}),le.select(c,w),c.onChange();return}}if((m||g)&&c.selection){const[b]=F.node(c,c.selection.focus,{depth:2}),[w]=qs(b)?F.node(c,c.selection.focus,{depth:1}):[],C=b&&ju(w)&&qs(b)&&(b.marks||[]).filter(k=>(w.markDefs||[]).map(j=>j._key).includes(k)).length>0,[_]=de.edges(c.selection),S=F.isStart(c,_,_.path);b&&qs(b)&&(!C||S)&&c.pteIncrementBlockLevels(g)&&u.preventDefault()}if(p&&!v&&c.selection){const b=c.selection.focus.path.slice(0,1),w=ke.descendant(c,b);if(c.isListBlock(w)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(w)&&w.style&&w.style!==e.styles[0].value){const[,C]=de.edges(c.selection);if(F.isEnd(c,C,C.path)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}}if(w&&F.isVoid(c,w)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(v){u.preventDefault(),c.insertText(`
`);return}if(gi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(gi("mod+y",u.nativeEvent)||gi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function OE(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Vs([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!Jx(a))return r={patches:[Vs([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[dl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[dl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Vs([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Vs([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[dl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=fo(In(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>dl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[su([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[dl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Vs([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[dl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const ru=Ur("plugin:withInsertData");function W$t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=de.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(de.isCollapsed(d)&&!m)return;const g=me.toDOMRange(o,d);let y=g.cloneContents();if(v){const[k]=v,j=g.cloneRange(),E=me.toDOMNode(o,k);j.setEndAfter(E),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(k=>{const j=k.getAttribute("data-slate-zero-width")==="n";k.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(k=>{k.removeAttribute("contentEditable"),k.removeAttribute("data-slate-inline"),k.removeAttribute("data-slate-leaf"),k.removeAttribute("data-slate-node"),k.removeAttribute("data-slate-spacer"),k.removeAttribute("data-slate-string"),k.removeAttribute("data-slate-zero-width"),k.removeAttribute("draggable");for(const j in k.attributes)k.hasAttribute(j)&&k.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=yr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",b),c.setData("application/json",_),c.setData("application/x-portable-text",_),ru("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),ru("Set fragment data",_,b)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(ru("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=G$t(o,_c(p,{schemaTypes:t}),n,s),v=OE(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),ru("Invalid insert result",v),!1}return lQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return ru("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){ru("Inserting data",c);let p,m,v;if(d)p=NX(d,t.portableText).map(y=>hx(y,{blockTypeName:i})),m=_c(p,{schemaTypes:t}),v="HTML";else{const y=q$t(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=NX(x,t.portableText).map(b=>hx(b,{blockTypeName:i})),m=_c(p,{schemaTypes:t}),v="text"}const g=OE(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),ru("Invalid insert result",g),!1}return ru("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),lQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const Y$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function q$t(e){return String(e).replace(/[&<>"'`=/]/g,t=>Y$t[t])}function G$t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function lQ(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;ru("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ht(s,t[0].markDefs)||le.setNodes(e,{markDefs:fo([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}DE(e.children,n)?(le.splitNodes(e,{at:[0,0]}),e.insertFragment(t),le.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const cQ=new WeakMap,uQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():cQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=n$t(c),f=i$t(c,r),p=z$t({schemaTypes:c,keyGenerator:r}),m=r$t(o,c,r),v=P$t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=o$t(a||-1),y=M$t(c),x=E$t({readOnly:s,patches$:i,blockSchemaType:c.block}),b=F$t(c,u),w=$$t(c),C=R$t({keyGenerator:r,schemaTypes:c}),_=V$t(),S=B$t(u,c);return n.destroy=()=>{const k=cQ.get(n);if(!k)throw new Error("Could not find pristine versions of editor functions");n.apply=k.apply,n.history={undos:[],redos:[]},n.normalizeNode=k.normalizeNode,n.onChange=k.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>ZSe}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const k=[];return e.subscriptions.forEach(j=>{k.push(j())}),()=>{k.forEach(j=>{j()})}}}},$P=Ur("component:PortableTextEditor:SlateContainer");function K$t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{$P("Creating new Slate editor instance");const{editor:u,subscribe:d}=uQ(u3t(FPt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return ba.set(u,{}),cM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{$P("Re-initializing plugin chain"),uQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{$P("Destroying Slate editor"),s.destroy()},[s]),l.jsx(l3t,{editor:s,initialValue:c,children:e.children})}const w5e=h.createContext(null),M0=()=>{const e=h.useContext(w5e);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},C5e=h.createContext(null),go=()=>{const e=h.useContext(C5e);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},Z$t=h.createContext(void 0),_5e=h.createContext(!1),X$t=()=>{const e=h.useContext(_5e);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},ro=Ur("hook:useSyncValue"),dQ=new WeakMap;function Q$t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=TT(),c=h.useRef(),u=h.useCallback(()=>{const f=dQ.get(t);if(s.current===f){ro("Value is the same object as previous, not need to sync");return}c.current&&f&&(ro("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(ew(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{dQ.set(t,p);const m=_$t(a),v=y5e(a);if(!n){if(m){ro("Has local changes, not syncing value right now"),d();return}if(v){ro("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(ro("Value is empty"),F.withoutNormalizing(a,()=>{gx(a,()=>{fM(a,()=>{x&&le.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{le.removeNodes(a,{at:[b-1-C]})}),le.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&le.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=_c(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{v5e(a,()=>{gx(a,()=>{fM(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)le.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Ht(C,S)&&y){const j=[p[_]],E=OE(j,i,r);E.valid?(S._key===C._key?(ro.enabled&&ro("Updating block",S,C),eMt(a,C,S,_)):(ro.enabled&&ro("Replacing block",S,C),J$t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:E.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],E=OE(j,i,r);ro.enabled&&ro("Validating and inserting new block in the end of the value",C),E.valid?mx(a,()=>{le.insertNodes(a,C,{at:[_]})}):(ro("Invalid",E),o.next({type:"invalidValue",resolution:E.resolution,value:p}),y=!1)}})})})})})}if(!y){ro("Invalid value, returning");return}if(g){ro("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(le.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else ro("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function J$t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&le.deselect(e),le.removeNodes(e,{at:[n]}),mx(e,()=>{le.insertNodes(e,t,{at:[n]})}),o&&le.select(e,r)}function eMt(e,t,n,r){if(le.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(ro("Removing child"),le.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ht(i,a),u=!Ht(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){ro("Updating changed child",i,a),le.setNodes(e,i,{at:d});const f=_e.isText(i)&&i._type==="span"&&_e.isText(a)&&a._type==="span";f&&u?(le.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),le.insertText(e,i.text,{at:d}),e.onChange()):f||(ro("Updating changed inline object child",i),le.setNodes(e,{_key:d5e},{at:[...d,0],voids:!0}))}else a?(ro("Replacing child",i),le.removeNodes(e,{at:[r,s]}),mx(e,()=>{le.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(ro("Inserting new child",i),mx(e,()=>{le.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const ou=Ur("component:PortableTextEditor:Synchronizer"),fQ=ou.enabled&&!1,tMt=1e3;function nMt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=Q$t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=TT();h.useEffect(()=>{aS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){ou("Flushing pending patches"),fQ&&ou(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=Se.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}aS.set(f,!1)},[f,n,t]),m=h.useMemo(()=>Yj(()=>{if(F.isNormalizing(f)){p();return}m()},tMt,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{ou("Subscribing to editor changes$");const x=t.subscribe(b=>{switch(b.type){case"patch":aS.set(f,!0),u.current.push(b.patch),m(),r(b);break;case"selection":h.startTransition(()=>{fQ&&ou("Setting selection"),c(b.selection)}),r(b);break;default:r(b)}});return()=>{ou("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{ou("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{ou("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const y=h.useRef(!0);return h.useEffect(()=>{ou("Value from props changed, syncing new value"),d(s),y.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),y.current=!1)},[t,d,s]),l.jsx(r5e.Provider,{value:o,children:l.jsx(C5e.Provider,{value:n,children:l.jsx(Z$t.Provider,{value:s,children:l.jsx(_5e.Provider,{value:i,children:l.jsx(w5e.Provider,{value:a,children:e.children})})})})})}const F0=Ur("component:PortableTextEditor");class Se extends ie.Component{constructor(t){if(super(t),this.change$=new wr,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=VX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:zX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=VX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:zX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||px;return l.jsx(K$t,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(nMt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}Se.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];Se.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};Se.blur=e=>{var t;F0("Host blurred"),(t=e.editable)==null||t.blur()};Se.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};Se.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};Se.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};Se.focus=e=>{var t;F0("Host requesting focus"),(t=e.editable)==null||t.focus()};Se.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};Se.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};Se.getSelection=e=>e.editable?e.editable.getSelection():null;Se.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};Se.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};Se.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};Se.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};Se.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};Se.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};Se.insertChild=(e,t,n)=>{var r;return F0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};Se.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};Se.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};Se.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};Se.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};Se.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};Se.select=(e,t)=>{var n;F0("Host setting selection",t),(n=e.editable)==null||n.select(t)};Se.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};Se.toggleBlockStyle=(e,t)=>{var n;return F0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};Se.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};Se.toggleMark=(e,t)=>{var n;F0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function hQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function rMt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ht({_key:s._key},o.path[0]))&&(n=hQ(o,t)),i&&t.find(s=>Ht({_key:s._key},i.path[0]))&&(r=hQ(i,t)),n&&r?{anchor:n,focus:r}:null}function oMt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const iMt=Ur("components:Leaf"),pQ=[],sMt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ie.useRef(null),u=go(),d=zEe(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>fo((r.marks||pQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:pQ,C=h.useMemo(()=>w.map(j=>{var E;return!x.includes(j)&&((E=g==null?void 0:g.markDefs)==null?void 0:E.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Se.getSelection(u);j&&Ht(j.focus.path,y)&&Se.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;iMt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const E=j.getRangeAt(0);c.current&&E.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(E=>{if(E.type==="blur"){p(!1),v(!1);return}if(E.type==="focus"){const T=Se.getSelection(u);T&&Ht(T.focus.path,y)&&Se.isCollapsedSelection(u)&&p(!0),S();return}E.type==="selection"&&(E.selection&&Ht(E.selection.focus.path,y)&&Se.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const k=h.useMemo(()=>{let j=n;if(_e.isText(r)&&r._type===o.span.name&&(b.forEach(E=>{const T=o.decorators.find(A=>A.value===E);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(E=>{const T=o.annotations.find(A=>A.name===E._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(oMt,{annotation:E,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const E=g.children.find(T=>T._key===r._key);if(E){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:y,schemaType:o.span,selected:m,value:E},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:k},r._key),[r,t,k])},k_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var mQ=Object.freeze,aMt=Object.defineProperty,PT=(e,t)=>mQ(aMt(e,"raw",{value:mQ(t||e.slice())})),gQ,vQ,yQ,bQ;const lMt=O.div(gQ||(gQ=PT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(vQ||(vQ=PT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const cMt=O.div(yQ||(yQ=PT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>dMt(e.listLevel),e=>hMt(e.listLevel,e.listStyle),e=>pMt(e.listLevel),e=>mMt(e.listLevel),e=>gMt(e.listLevel)),uMt=O.div(bQ||(bQ=PT([""])));function dMt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const fMt=["","",""];function hMt(e,t){const n=(e-1)%3;return t==="bullet"?fMt[n]:"*"}function pMt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function mMt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function gMt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Xl=Ur("components:DraggableBlock"),xQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Bc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:me.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(E=>{const T=F1.get(i);if(!T||!f)return;E.preventDefault(),E.dataTransfer.dropEffect="move",L1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=E.pageY,$=Math.abs(D-P);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",B1.set(i,R)):(R="bottom",B1.set(i,R)),T===n){E.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(E=>{const T=L1.get(i);if(T){b_.set(i,!1),E.preventDefault(),E.stopPropagation(),L1.delete(i),s.current&&(Xl("Removing drag ghost"),document.body.removeChild(s.current));const A=B1.get(i);B1.delete(i);let D=me.findPath(i,T);const I=me.findPath(i,n),P=te.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){Xl("target is already at the bottom, not moving");return}const $=D;D=te.next(D),Xl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const $=D;D=te.previous(D),Xl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(te.equals(D,I)){E.preventDefault(),Xl("targetPath and myPath is the same, not moving");return}Xl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),le.moveNodes(i,{at:I,to:D}),i.onChange();return}Xl("No target element, not doing anything")},[i,n]),y=h.useCallback(E=>{F1.get(i)&&(Xl("On drop (prevented)",n),E.preventDefault(),E.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(E=>{if(!u){F1.delete(i);return}b_.set(i,!0),F1.set(i,n),E.stopPropagation();const T=E.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(E=>{if(!u||d){Xl("Not dragging block"),F1.delete(i),b_.set(i,!1);return}if(Xl("Drag start"),b_.set(i,!0),E.dataTransfer&&(E.dataTransfer.setData("application/portable-text","something"),E.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=E.clientX-D.left,P=E.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),E.dataTransfer.setDragImage(T,I,P)}}x(E)},[f,i,x,d,u]),w=a&&i.children[0]===L1.get(i),C=a&&i.children[i.children.length-1]===L1.get(i),_=B1.get(i),S=w||a&&!w&&!C&&_==="top",k=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,k&&j]})};Ur("components:Element");const vMt=[],yMt={display:"inline-block"},bMt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Bc(),p=zEe(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&de.isCollapsed(f.selection)||!1,y=h.useMemo(()=>yr([r],o.block.name,ba.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const k=me.findPath(f,r),[j]=F.node(f,k,{depth:1}),E=o.inlineObjects.find(T=>T.name===r._type);if(!E)throw new Error("Could not find type for inline block element");if(Re.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:yMt,contentEditable:!1,children:[a&&a({annotations:vMt,children:l.jsx(k_,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:E,selected:p,type:E,value:y}),!a&&l.jsx(k_,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const k="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const E=o.styles.find(I=>I.value===j);u&&E&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:E,editorElementRef:m}));let T;if(k&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&k&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);c&&I?x=c({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:y.level||1,editorElementRef:m}):x=l.jsx(cMt,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:l.jsx(uMt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:k?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:b,spellCheck:d,children:l.jsx(xQ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(k=>k.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=yr([r],o.block.name,ba.get(f))[0];let S;if(s){const k=Object.defineProperty({children:l.jsx(k_,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(k)}return l.jsxs("div",{...t,className:b,children:[n,l.jsxs(xQ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(lMt,{selected:p,children:l.jsx(k_,{value:y})})]})]},r._key)},xMt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function wMt(e){const t=h.useRef(null);return xMt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const ol=Ur("component:Editable"),CMt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},_Mt=[],S5e=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=go(),_=X$t(),S=kRt(),k=wMt(n),[j,E]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:I}=C,P=TT(),$=I.block.name,R=h.useMemo(()=>W$t(D,I,S),[D,S,I]),V=h.useMemo(()=>U$t(I,S,C,r),[r,S,C,I]);h.useMemo(()=>_?(ol("Editable is in read only mode"),R(P)):(ol("Editable is in edit mode"),R(V(P))),[_,P,V,R]);const N=h.useCallback(K=>l.jsx(bMt,{...K,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:I,spellCheck:b}),[I,b,_,d,f,m,g]),H=h.useCallback(K=>{const J=l.jsx(sMt,{...K,schemaTypes:I,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&K.leaf.placeholder&&K.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:CMt,contentEditable:!1,children:v()}),J]}):J},[_,u,f,p,v,I]),G=h.useCallback(()=>{if(y){ol("Selection from props ".concat(JSON.stringify(y)));const K=rMt(y,yr(P.children,$));if(K!==null){ol("Normalized selection from props ".concat(JSON.stringify(K)));const J=lS(K,P);J&&(le.select(P,J),P.operations.some(oe=>oe.type==="set_selection")||D.next({type:"selection",selection:K}),P.onChange())}}},[y,P,$,D]);h.useEffect(()=>{ol("Subscribing to editor changes$");const K=D.subscribe(J=>{switch(J.type){case"ready":G();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{ol("Unsubscribing to changes$"),K.unsubscribe()}},[D,G]),h.useEffect(()=>{y&&!T&&G()},[T,y,G]);const U=h.useCallback(K=>{c&&c(K)!==void 0&&K.preventDefault()},[c]),q=h.useCallback(K=>{if(K.preventDefault(),!!P.selection){if(!a){ol("Pasting normally"),P.insertData(K.clipboardData);return}new Promise(J=>{const oe=Se.getValue(C),fe=np(oe,P.selection,I),ae=(fe==null?void 0:fe.focus.path)||[];J(a({event:K,value:oe,path:ae,schemaTypes:I}))}).then(J=>{if(ol("Custom paste function from client resolved",J),D.next({type:"loading",isLoading:!0}),!J||!J.insert){ol("No result from custom paste handler, pasting normally"),P.insertData(K.clipboardData);return}if(J&&J.insert){P.insertFragment(_c(J.insert,{schemaTypes:I})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",J)}).catch(J=>(D.next({type:"loading",isLoading:!1}),console.error(J),J))}},[D,a,C,I,P]),Z=h.useCallback(K=>{if(i&&i(K),!K.isDefaultPrevented()){const J=Se.getSelection(C);J===null&&(le.select(P,F.start(P,[])),P.onChange()),D.next({type:"focus",event:K});const oe=Se.getSelection(C);J===oe&&D.next({type:"selection",selection:J})}},[i,C,D,P]),B=h.useCallback(K=>{o&&o(K),K.isPropagationStopped()||D.next({type:"blur",event:K})},[D,o]),W=h.useCallback(K=>{s&&s(K)},[s]),z=h.useCallback(()=>{if(!P.selection)return;const K=me.findDocumentOrShadowRoot(P),{activeElement:J}=K;if(k.current!==J)return;const fe=me.getWindow(P).getSelection();if(!fe)return;const ae=fe.getRangeAt(0);try{const ge=me.toDOMRange(P,P.selection);(ge.startOffset!==ae.startOffset||ge.endOffset!==ae.endOffset)&&(ol("DOM range out of sync, validating selection"),fe==null||fe.removeAllRanges(),fe.addRange(ge))}catch{ol("Could not resolve selection, selecting top document"),le.deselect(P),P.children.length>0&&le.select(P,[0,0]),P.onChange()}},[k,P]);h.useEffect(()=>{if(j){const K=new MutationObserver(z);return K.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{K.disconnect()}}},[z,j]);const X=h.useCallback(K=>{t.onKeyDown&&t.onKeyDown(K),K.isDefaultPrevented()||P.pteWithHotKeys(K)},[t,P]),Q=h.useMemo(()=>{if(x!==void 0)return x===null?ZSe:(K,J)=>{x(C,J)}},[C,x]),ne=h.useCallback(()=>DE(P.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:_Mt,[I,P]);return h.useEffect(()=>{k.current=me.toDOMNode(P,P),E(k.current)},[P,k]),C?T?null:l.jsx(JOt,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:ne,onBlur:B,onCopy:U,onDOMBeforeInput:W,onFocus:Z,onKeyDown:X,onPaste:q,readOnly:_,renderPlaceholder:void 0,renderElement:N,renderLeaf:H,scrollSelectionIntoView:Q}):null});var SMt=E_e,wQ=Qr;function kMt(e,t,n,r){return e==null?[]:(wQ(t)||(t=t==null?[]:[t]),n=r?void 0:n,wQ(n)||(n=n==null?[]:[n]),SMt(e,t,n))}var EMt=kMt;const L0=Pe(EMt);function jMt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function hM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Bw(e){const[t,n]=e;return[t,n]}function CQ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function W9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function OT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function Y9(e){let t=e.map(f=>Bw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===jt?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Zn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Zn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=RT(t)),t=k5e(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Zn){const f=t[s-1][1],p=t[s][1],m=CQ(f,p),v=CQ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[jt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[jt,f.substring(0,v)]),t[s-1][0]=Zn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const _Q=/[^a-zA-Z0-9]/,SQ=/\s/,kQ=/[\r\n]/,TMt=/\n\r?\n$/,AMt=/^\r?\n\r?\n/;function k5e(e){const t=e.map(o=>Bw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(_Q),u=a.match(_Q),d=c&&s.match(SQ),f=u&&a.match(SQ),p=d&&s.match(kQ),m=f&&a.match(kQ),v=p&&o.match(TMt),g=m&&i.match(AMt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===jt&&t[r+1][0]===jt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=OT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function RT(e){let t=e.map(u=>Bw(u));t.push([jt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Zn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case jt:r+o>1?(r!==0&&o!==0&&(a=W9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===jt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[jt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=OT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Zn,s]),n++),n++):n!==0&&t[n-1][0]===jt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===jt&&t[n+1][0]===jt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=RT(t)),t}function DMt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function q9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Bw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===jt?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&DMt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Zn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=RT(n)),n}function IMt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return EQ(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],k=s+S-_;if(w=r-w,S>=w)return EQ(e,t,S,k,n)}}}}return[[Dn,e],[Zn,t]]}function EQ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Kp(i,s,{checkLines:!1,deadline:o}),d=Kp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function PMt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=jQ(r,o,Math.ceil(r.length/4)),s=jQ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function jQ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=W9(e.slice(n),t.slice(o)),f=OT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function OMt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function RMt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function $Mt(e,t,n){let r=e,o=t;const i=RMt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Kp(r,o,{checkLines:!1,deadline:n.deadline});OMt(a,s),a=Y9(a),a.push([jt,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Zn:d++,p+=a[c][1];break;case Dn:u++,f+=a[c][1];break;case jt:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Kp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function MMt(e,t,n){let r;if(!e)return[[Zn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Zn,o.substring(0,s)],[jt,i],[Zn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Zn,t]];const a=PMt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Kp(c,d,n),v=Kp(u,f,n);return m.concat([[jt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?$Mt(e,t,n):IMt(e,t,n.deadline)}const Dn=-1,Zn=1,jt=0;function Nw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Kp(e,t,LMt(n||{}));return NMt(r),r}function Kp(e,t,n){let r=e,o=t;if(r===o)return r?[[jt,r]]:[];let i=W9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=OT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=MMt(r,o,n);return s&&c.unshift([jt,s]),a&&c.push([jt,a]),c=RT(c),c}function FMt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function LMt(e){return{checkLines:!0,deadline:FMt(e.timeout||1),...e}}function E_(e,t,n){return n===1?e+t:t+e}function j_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function BMt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function TQ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Zn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===jt){if(o===null&&i===null){const[f,p]=j_(e[t][1],n);e[t][1]=f,e[s][1]=E_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&BMt(e,o,i,n)){const[u,d]=j_(e[o][1],r),[f]=j_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=E_(e[t][1],d,n);return}const[a,c]=j_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Zn,c]),i!==null&&i>=s&&i++):e[o][1]=E_(e[o][1],c,r),i===null?e.splice(s,0,[Dn,c]):e[i][1]=E_(e[i][1],c,r)}function NMt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];jMt(i)&&n===jt&&TQ(e,t,1),hM(o)&&n===jt&&TQ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const zMt={threshold:.5,distance:1e3};function VMt(e){return{...zMt,...e}}const HMt=32;function UMt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>HMt)throw new Error("Pattern too long for this browser.");const o=VMt(r),i=WMt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function WMt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function MP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return UMt(e,t,r)}function RE(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function G9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Zn&&(t[n]=e[n][1]);return t.join("")}function E5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function Kd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=j5e(r)}return t}function YMt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=j5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Bw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function j5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Rd=32,K9=4,qMt={margin:4};function FP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...qMt,...e}}function T5e(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Nw(e,t,{checkLines:!0});return r.length>2&&(r=Y9(r),r=q9(r)),LP(e,r,FP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return LP(G9(e),e,FP(n));if(typeof e=="string"&&t&&Array.isArray(t))return LP(e,t,FP(n));throw new Error("Unknown call format to make()")}function LP(e,t,n){if(t.length===0)return[];const r=[];let o=RE(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Kd(g);switch(!i&&v!==jt&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Zn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case jt:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(AQ(o,d,n),r.push(o),o=RE(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Zn&&(s+=y,c+=x),v!==Dn&&(a+=y,u+=x)}return i&&(AQ(o,d,n),r.push(o)),r}function AQ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Rd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&hM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([jt,s]);const a=s.length,c=Kd(s);let u=e.start2+e.length1+o;u<t.length&&hM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([jt,d]);const f=d.length,p=Kd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function GMt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Zn:n+=s.length;break;case Dn:r+=s.length;break;case jt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function DQ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Zn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function KMt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==jt)i.unshift([jt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==jt)i.push([jt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function ZMt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K9;const n=Rd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=RE(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Kd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([jt,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Kd(m);if(p===Zn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Dn&&c.diffs.length===1&&c.diffs[0][0]===jt&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Kd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===jt?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=E5e(c.diffs),a=a.substring(a.length-t);const d=G9(o.diffs).substring(0,t),f=Kd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===jt?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([jt,d])),u||e.splice(++r,0,c)}}}function A5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=YMt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||K9,s=n.deleteThreshold||.4,a=KMt(o,i);r=a+r+a,ZMt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=G9(o[d].diffs);let m,v=-1;if(p.length>Rd?(m=MP(r,p.substring(0,Rd),f),m!==-1&&(v=MP(r,p.substring(p.length-Rd),f+p.length-Rd),(v===-1||m>=v)&&(m=-1))):m=MP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Rd),p===g)r=r.substring(0,m)+E5e(o[d].diffs)+r.substring(m+p.length);else{let y=Nw(p,g,{checkLines:!1});if(p.length>Rd&&GMt(y)/p.length>s)u[d]=!1;else{y=k5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==jt&&(b=DQ(y,x)),C[0]===Zn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===Dn&&(r=r.substring(0,m+b)+r.substring(m+DQ(y,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function D5e(e){return e.map(XMt).join("")}function XMt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Zn:u="+";break;case Dn:u="-";break;case jt:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const QMt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function I5e(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(QMt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=RE(T_(o[1]),T_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=T_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=T_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Kd(c)-c.length;if(a==="-")i.diffs.push([Dn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Zn,c]),i.length2-=u;else if(a===" ")i.diffs.push([jt,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function T_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var P5e;function Le(){return P5e.apply(null,arguments)}function JMt(e){P5e=e}function Pl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function wp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Z9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hn(e,t))return!1;return!0}function ls(e){return e===void 0}function Wu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function zw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function O5e(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Zd(e,t){for(var n in t)hn(t,n)&&(e[n]=t[n]);return hn(t,"toString")&&(e.toString=t.toString),hn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Nc(e,t,n,r){return rje(e,t,n,r,!0).utc()}function eFt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Tt(e){return e._pf==null&&(e._pf=eFt()),e._pf}var pM;Array.prototype.some?pM=Array.prototype.some:pM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function X9(e){if(e._isValid==null){var t=Tt(e),n=pM.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function $T(e){var t=Nc(NaN);return e!=null?Zd(Tt(t),e):Tt(t).userInvalidated=!0,t}var IQ=Le.momentProperties=[],BP=!1;function Q9(e,t){var n,r,o,i=IQ.length;if(ls(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ls(t._i)||(e._i=t._i),ls(t._f)||(e._f=t._f),ls(t._l)||(e._l=t._l),ls(t._strict)||(e._strict=t._strict),ls(t._tzm)||(e._tzm=t._tzm),ls(t._isUTC)||(e._isUTC=t._isUTC),ls(t._offset)||(e._offset=t._offset),ls(t._pf)||(e._pf=Tt(t)),ls(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=IQ[n],o=t[r],ls(o)||(e[r]=o);return e}function Vw(e){Q9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),BP===!1&&(BP=!0,Le.updateOffset(this),BP=!1)}function Ol(e){return e instanceof Vw||e!=null&&e._isAMomentObject!=null}function R5e(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Za(e,t){var n=!0;return Zd(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])hn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}R5e(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var PQ={};function $5e(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),PQ[e]||(R5e(t),PQ[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function zc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function tFt(e){var t,n;for(n in e)hn(e,n)&&(t=e[n],zc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mM(e,t){var n=Zd({},e),r;for(r in t)hn(t,r)&&(wp(e[r])&&wp(t[r])?(n[r]={},Zd(n[r],e[r]),Zd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)hn(e,r)&&!hn(t,r)&&wp(e[r])&&(n[r]=Zd({},n[r]));return n}function J9(e){e!=null&&this.set(e)}var gM;Object.keys?gM=Object.keys:gM=function(e){var t,n=[];for(t in e)hn(e,t)&&n.push(t);return n};var nFt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function rFt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zc(r)?r.call(t,n):r}function Dc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var e7=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,NP={},dv={};function rt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(dv[e]=o),t&&(dv[t[0]]=function(){return Dc(o.apply(this,arguments),t[1],t[2])}),n&&(dv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function oFt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function iFt(e){var t=e.match(e7),n,r;for(n=0,r=t.length;n<r;n++)dv[t[n]]?t[n]=dv[t[n]]:t[n]=oFt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=zc(t[s])?t[s].call(o,e):t[s];return i}}function cS(e,t){return e.isValid()?(t=M5e(t,e.localeData()),NP[t]=NP[t]||iFt(t),NP[t](e)):e.localeData().invalidDate()}function M5e(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(A_.lastIndex=0;n>=0&&A_.test(e);)e=e.replace(A_,r),A_.lastIndex=0,n-=1;return e}var sFt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aFt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(e7).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var lFt="Invalid date";function cFt(){return this._invalidDate}var uFt="%d",dFt=/\d{1,2}/;function fFt(e){return this._ordinal.replace("%d",e)}var hFt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pFt(e,t,n,r){var o=this._relativeTime[n];return zc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function mFt(e,t){var n=this._relativeTime[e>0?"future":"past"];return zc(n)?n(t):n.replace(/%s/i,t)}var ub={};function Oi(e,t){var n=e.toLowerCase();ub[n]=ub[n+"s"]=ub[t]=e}function Xa(e){return typeof e=="string"?ub[e]||ub[e.toLowerCase()]:void 0}function t7(e){var t={},n,r;for(r in e)hn(e,r)&&(n=Xa(r),n&&(t[n]=e[r]));return t}var F5e={};function Ri(e,t){F5e[e]=t}function gFt(e){var t=[],n;for(n in e)hn(e,n)&&t.push({unit:n,priority:F5e[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function MT(e){return e%4===0&&e%100!==0||e%400===0}function Sa(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Sa(t)),n}function B0(e,t){return function(n){return n!=null?(L5e(this,e,n),Le.updateOffset(this,t),this):$E(this,e)}}function $E(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function L5e(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&MT(e.year())&&e.month()===1&&e.date()===29?(n=Ft(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),VT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function vFt(e){return e=Xa(e),zc(this[e])?this[e]():this}function yFt(e,t){if(typeof e=="object"){e=t7(e);var n=gFt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Xa(e),zc(this[e]))return this[e](t);return this}var B5e=/\d/,ua=/\d\d/,N5e=/\d{3}/,n7=/\d{4}/,FT=/[+-]?\d{6}/,fr=/\d\d?/,z5e=/\d\d\d\d?/,V5e=/\d\d\d\d\d\d?/,LT=/\d{1,3}/,r7=/\d{1,4}/,BT=/[+-]?\d{1,6}/,N0=/\d+/,NT=/[+-]?\d+/,bFt=/Z|[+-]\d\d:?\d\d/gi,zT=/Z|[+-]\d\d(?::?\d\d)?/gi,xFt=/[+-]?\d+(\.\d{1,3})?/,Hw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ME;ME={};function Ue(e,t,n){ME[e]=zc(t)?t:function(r,o){return r&&n?n:t}}function wFt(e,t){return hn(ME,e)?ME[e](t._strict,t._locale):new RegExp(CFt(e))}function CFt(e){return Us(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Us(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var vM={};function $n(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Wu(t)&&(r=function(i,s){s[t]=Ft(i)}),o=e.length,n=0;n<o;n++)vM[e[n]]=r}function Uw(e,t){$n(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function _Ft(e,t,n){t!=null&&hn(vM,e)&&vM[e](t,n._a,n,e)}var _i=0,gu=1,mc=2,So=3,bl=4,vu=5,rp=6,SFt=7,kFt=8;function EFt(e,t){return(e%t+t)%t}var qr;Array.prototype.indexOf?qr=Array.prototype.indexOf:qr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function VT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=EFt(t,12);return e+=(t-n)/12,n===1?MT(e)?29:28:31-n%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});rt("MMMM",0,0,function(e){return this.localeData().months(this,e)});Oi("month","M");Ri("month",8);Ue("M",fr);Ue("MM",fr,ua);Ue("MMM",function(e,t){return t.monthsShortRegex(e)});Ue("MMMM",function(e,t){return t.monthsRegex(e)});$n(["M","MM"],function(e,t){t[gu]=Ft(e)-1});$n(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[gu]=o:Tt(n).invalidMonth=e});var jFt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),H5e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),U5e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,TFt=Hw,AFt=Hw;function DFt(e,t){return e?Pl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||U5e).test(t)?"format":"standalone"][e.month()]:Pl(this._months)?this._months:this._months.standalone}function IFt(e,t){return e?Pl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[U5e.test(t)?"format":"standalone"][e.month()]:Pl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function PFt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Nc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=qr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=qr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=qr.call(this._shortMonthsParse,s),o!==-1?o:(o=qr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=qr.call(this._longMonthsParse,s),o!==-1?o:(o=qr.call(this._shortMonthsParse,s),o!==-1?o:null))}function OFt(e,t,n){var r,o,i;if(this._monthsParseExact)return PFt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Nc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function W5e(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ft(t);else if(t=e.localeData().monthsParse(t),!Wu(t))return e}return n=Math.min(e.date(),VT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Y5e(e){return e!=null?(W5e(this,e),Le.updateOffset(this,!0),this):$E(this,"Month")}function RFt(){return VT(this.year(),this.month())}function $Ft(e){return this._monthsParseExact?(hn(this,"_monthsRegex")||q5e.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hn(this,"_monthsShortRegex")||(this._monthsShortRegex=TFt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function MFt(e){return this._monthsParseExact?(hn(this,"_monthsRegex")||q5e.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hn(this,"_monthsRegex")||(this._monthsRegex=AFt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function q5e(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Nc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Us(t[o]),n[o]=Us(n[o]);for(o=0;o<24;o++)r[o]=Us(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}rt("Y",0,0,function(){var e=this.year();return e<=9999?Dc(e,4):"+"+e});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");Oi("year","y");Ri("year",1);Ue("Y",NT);Ue("YY",fr,ua);Ue("YYYY",r7,n7);Ue("YYYYY",BT,FT);Ue("YYYYYY",BT,FT);$n(["YYYYY","YYYYYY"],_i);$n("YYYY",function(e,t){t[_i]=e.length===2?Le.parseTwoDigitYear(e):Ft(e)});$n("YY",function(e,t){t[_i]=Le.parseTwoDigitYear(e)});$n("Y",function(e,t){t[_i]=parseInt(e,10)});function db(e){return MT(e)?366:365}Le.parseTwoDigitYear=function(e){return Ft(e)+(Ft(e)>68?1900:2e3)};var G5e=B0("FullYear",!0);function FFt(){return MT(this.year())}function LFt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function vx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function FE(e,t,n){var r=7+t-n,o=(7+vx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function K5e(e,t,n,r,o){var i=(7+n-r)%7,s=FE(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=db(c)+a):a>db(e)?(c=e+1,u=a-db(e)):(c=e,u=a),{year:c,dayOfYear:u}}function yx(e,t,n){var r=FE(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+Su(s,t,n)):o>Su(e.year(),t,n)?(i=o-Su(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function Su(e,t,n){var r=FE(e,t,n),o=FE(e+1,t,n);return(db(e)-r+o)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");Oi("week","w");Oi("isoWeek","W");Ri("week",5);Ri("isoWeek",5);Ue("w",fr);Ue("ww",fr,ua);Ue("W",fr);Ue("WW",fr,ua);Uw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ft(e)});function BFt(e){return yx(e,this._week.dow,this._week.doy).week}var NFt={dow:0,doy:6};function zFt(){return this._week.dow}function VFt(){return this._week.doy}function HFt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function UFt(e){var t=yx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});rt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});rt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");Oi("day","d");Oi("weekday","e");Oi("isoWeekday","E");Ri("day",11);Ri("weekday",11);Ri("isoWeekday",11);Ue("d",fr);Ue("e",fr);Ue("E",fr);Ue("dd",function(e,t){return t.weekdaysMinRegex(e)});Ue("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ue("dddd",function(e,t){return t.weekdaysRegex(e)});Uw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Tt(n).invalidWeekday=e});Uw(["d","e","E"],function(e,t,n,r){t[r]=Ft(e)});function WFt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function YFt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function o7(e,t){return e.slice(t,7).concat(e.slice(0,t))}var qFt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Z5e="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),GFt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KFt=Hw,ZFt=Hw,XFt=Hw;function QFt(e,t){var n=Pl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?o7(n,this._week.dow):e?n[e.day()]:n}function JFt(e){return e===!0?o7(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function e4t(e){return e===!0?o7(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function t4t(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Nc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=qr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=qr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=qr.call(this._weekdaysParse,s),o!==-1||(o=qr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=qr.call(this._shortWeekdaysParse,s),o!==-1||(o=qr.call(this._weekdaysParse,s),o!==-1)?o:(o=qr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=qr.call(this._minWeekdaysParse,s),o!==-1||(o=qr.call(this._weekdaysParse,s),o!==-1)?o:(o=qr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function n4t(e,t,n){var r,o,i;if(this._weekdaysParseExact)return t4t.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Nc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function r4t(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=WFt(e,this.localeData()),this.add(e-t,"d")):t}function o4t(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function i4t(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=YFt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function s4t(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||i7.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hn(this,"_weekdaysRegex")||(this._weekdaysRegex=KFt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function a4t(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||i7.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ZFt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function l4t(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||i7.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=XFt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function i7(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Nc([2e3,1]).day(i),a=Us(this.weekdaysMin(s,"")),c=Us(this.weekdaysShort(s,"")),u=Us(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function s7(){return this.hours()%12||12}function c4t(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,s7);rt("k",["kk",2],0,c4t);rt("hmm",0,0,function(){return""+s7.apply(this)+Dc(this.minutes(),2)});rt("hmmss",0,0,function(){return""+s7.apply(this)+Dc(this.minutes(),2)+Dc(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+Dc(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+Dc(this.minutes(),2)+Dc(this.seconds(),2)});function X5e(e,t){rt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}X5e("a",!0);X5e("A",!1);Oi("hour","h");Ri("hour",13);function Q5e(e,t){return t._meridiemParse}Ue("a",Q5e);Ue("A",Q5e);Ue("H",fr);Ue("h",fr);Ue("k",fr);Ue("HH",fr,ua);Ue("hh",fr,ua);Ue("kk",fr,ua);Ue("hmm",z5e);Ue("hmmss",V5e);Ue("Hmm",z5e);Ue("Hmmss",V5e);$n(["H","HH"],So);$n(["k","kk"],function(e,t,n){var r=Ft(e);t[So]=r===24?0:r});$n(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});$n(["h","hh"],function(e,t,n){t[So]=Ft(e),Tt(n).bigHour=!0});$n("hmm",function(e,t,n){var r=e.length-2;t[So]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r)),Tt(n).bigHour=!0});$n("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[So]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r,2)),t[vu]=Ft(e.substr(o)),Tt(n).bigHour=!0});$n("Hmm",function(e,t,n){var r=e.length-2;t[So]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r))});$n("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[So]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r,2)),t[vu]=Ft(e.substr(o))});function u4t(e){return(e+"").toLowerCase().charAt(0)==="p"}var d4t=/[ap]\.?m?\.?/i,f4t=B0("Hours",!0);function h4t(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var J5e={calendar:nFt,longDateFormat:sFt,invalidDate:lFt,ordinal:uFt,dayOfMonthOrdinalParse:dFt,relativeTime:hFt,months:jFt,monthsShort:H5e,week:NFt,weekdays:qFt,weekdaysMin:GFt,weekdaysShort:Z5e,meridiemParse:d4t},vr={},z1={},bx;function p4t(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function OQ(e){return e&&e.toLowerCase().replace("_","-")}function m4t(e){for(var t=0,n,r,o,i;t<e.length;){for(i=OQ(e[t]).split("-"),n=i.length,r=OQ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=HT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&p4t(i,r)>=n-1)break;n--}t++}return bx}function g4t(e){return e.match("^[^/\\\\]*$")!=null}function HT(e){var t=null,n;if(vr[e]===void 0&&typeof module<"u"&&module&&module.exports&&g4t(e))try{t=bx._abbr,n=require,n("./locale/"+e),yf(t)}catch{vr[e]=null}return vr[e]}function yf(e,t){var n;return e&&(ls(t)?n=ud(e):n=a7(e,t),n?bx=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bx._abbr}function a7(e,t){if(t!==null){var n,r=J5e;if(t.abbr=e,vr[e]!=null)$5e("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=vr[e]._config;else if(t.parentLocale!=null)if(vr[t.parentLocale]!=null)r=vr[t.parentLocale]._config;else if(n=HT(t.parentLocale),n!=null)r=n._config;else return z1[t.parentLocale]||(z1[t.parentLocale]=[]),z1[t.parentLocale].push({name:e,config:t}),null;return vr[e]=new J9(mM(r,t)),z1[e]&&z1[e].forEach(function(o){a7(o.name,o.config)}),yf(e),vr[e]}else return delete vr[e],null}function v4t(e,t){if(t!=null){var n,r,o=J5e;vr[e]!=null&&vr[e].parentLocale!=null?vr[e].set(mM(vr[e]._config,t)):(r=HT(e),r!=null&&(o=r._config),t=mM(o,t),r==null&&(t.abbr=e),n=new J9(t),n.parentLocale=vr[e],vr[e]=n),yf(e)}else vr[e]!=null&&(vr[e].parentLocale!=null?(vr[e]=vr[e].parentLocale,e===yf()&&yf(e)):vr[e]!=null&&delete vr[e]);return vr[e]}function ud(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bx;if(!Pl(e)){if(t=HT(e),t)return t;e=[e]}return m4t(e)}function y4t(){return gM(vr)}function l7(e){var t,n=e._a;return n&&Tt(e).overflow===-2&&(t=n[gu]<0||n[gu]>11?gu:n[mc]<1||n[mc]>VT(n[_i],n[gu])?mc:n[So]<0||n[So]>24||n[So]===24&&(n[bl]!==0||n[vu]!==0||n[rp]!==0)?So:n[bl]<0||n[bl]>59?bl:n[vu]<0||n[vu]>59?vu:n[rp]<0||n[rp]>999?rp:-1,Tt(e)._overflowDayOfYear&&(t<_i||t>mc)&&(t=mc),Tt(e)._overflowWeeks&&t===-1&&(t=SFt),Tt(e)._overflowWeekday&&t===-1&&(t=kFt),Tt(e).overflow=t),e}var b4t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,x4t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,w4t=/Z|[+-]\d\d(?::?\d\d)?/,D_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],C4t=/^\/?Date\((-?\d+)/i,_4t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,S4t={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function eje(e){var t,n,r=e._i,o=b4t.exec(r)||x4t.exec(r),i,s,a,c,u=D_.length,d=zP.length;if(o){for(Tt(e).iso=!0,t=0,n=u;t<n;t++)if(D_[t][1].exec(o[1])){s=D_[t][0],i=D_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(zP[t][1].exec(o[3])){a=(o[2]||" ")+zP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(w4t.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),u7(e)}else e._isValid=!1}function k4t(e,t,n,r,o,i){var s=[E4t(e),H5e.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function E4t(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function j4t(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function T4t(e,t,n){if(e){var r=Z5e.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Tt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function A4t(e,t,n){if(e)return S4t[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function tje(e){var t=_4t.exec(j4t(e._i)),n;if(t){if(n=k4t(t[4],t[3],t[2],t[5],t[6],t[7]),!T4t(t[1],n,e))return;e._a=n,e._tzm=A4t(t[8],t[9],t[10]),e._d=vx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Tt(e).rfc2822=!0}else e._isValid=!1}function D4t(e){var t=C4t.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(eje(e),e._isValid===!1)delete e._isValid;else return;if(tje(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=Za("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function fg(e,t,n){return e??t??n}function I4t(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function c7(e){var t,n,r=[],o,i,s;if(!e._d){for(o=I4t(e),e._w&&e._a[mc]==null&&e._a[gu]==null&&P4t(e),e._dayOfYear!=null&&(s=fg(e._a[_i],o[_i]),(e._dayOfYear>db(s)||e._dayOfYear===0)&&(Tt(e)._overflowDayOfYear=!0),n=vx(s,0,e._dayOfYear),e._a[gu]=n.getUTCMonth(),e._a[mc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[So]===24&&e._a[bl]===0&&e._a[vu]===0&&e._a[rp]===0&&(e._nextDay=!0,e._a[So]=0),e._d=(e._useUTC?vx:LFt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[So]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Tt(e).weekdayMismatch=!0)}}function P4t(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=fg(t.GG,e._a[_i],yx(lr(),1,4).year),r=fg(t.W,1),o=fg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=yx(lr(),i,s),n=fg(t.gg,e._a[_i],u.year),r=fg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>Su(n,i,s)?Tt(e)._overflowWeeks=!0:c!=null?Tt(e)._overflowWeekday=!0:(a=K5e(n,r,o,i,s),e._a[_i]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function u7(e){if(e._f===Le.ISO_8601){eje(e);return}if(e._f===Le.RFC_2822){tje(e);return}e._a=[],Tt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=M5e(e._f,e._locale).match(e7)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(wFt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Tt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),dv[i]?(r?Tt(e).empty=!1:Tt(e).unusedTokens.push(i),_Ft(i,r,e)):e._strict&&!r&&Tt(e).unusedTokens.push(i);Tt(e).charsLeftOver=a-c,t.length>0&&Tt(e).unusedInput.push(t),e._a[So]<=12&&Tt(e).bigHour===!0&&e._a[So]>0&&(Tt(e).bigHour=void 0),Tt(e).parsedDateParts=e._a.slice(0),Tt(e).meridiem=e._meridiem,e._a[So]=O4t(e._locale,e._a[So],e._meridiem),u=Tt(e).era,u!==null&&(e._a[_i]=e._locale.erasConvertYear(u,e._a[_i])),c7(e),l7(e)}function O4t(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function R4t(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){Tt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=Q9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],u7(t),X9(t)&&(s=!0),i+=Tt(t).charsLeftOver,i+=Tt(t).unusedTokens.length*10,Tt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Zd(e,n||t)}function $4t(e){if(!e._d){var t=t7(e._i),n=t.day===void 0?t.date:t.day;e._a=O5e([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),c7(e)}}function M4t(e){var t=new Vw(l7(nje(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function nje(e){var t=e._i,n=e._f;return e._locale=e._locale||ud(e._l),t===null||n===void 0&&t===""?$T({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ol(t)?new Vw(l7(t)):(zw(t)?e._d=t:Pl(n)?R4t(e):n?u7(e):F4t(e),X9(e)||(e._d=null),e))}function F4t(e){var t=e._i;ls(t)?e._d=new Date(Le.now()):zw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?D4t(e):Pl(t)?(e._a=O5e(t.slice(0),function(n){return parseInt(n,10)}),c7(e)):wp(t)?$4t(e):Wu(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function rje(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(wp(e)&&Z9(e)||Pl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,M4t(i)}function lr(e,t,n,r){return rje(e,t,n,r,!1)}var L4t=Za("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:$T()}),B4t=Za("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=lr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:$T()});function oje(e,t){var n,r;if(t.length===1&&Pl(t[0])&&(t=t[0]),!t.length)return lr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function N4t(){var e=[].slice.call(arguments,0);return oje("isBefore",e)}function z4t(){var e=[].slice.call(arguments,0);return oje("isAfter",e)}var V4t=function(){return Date.now?Date.now():+new Date},V1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function H4t(e){var t,n=!1,r,o=V1.length;for(t in e)if(hn(e,t)&&!(qr.call(V1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[V1[r]]){if(n)return!1;parseFloat(e[V1[r]])!==Ft(e[V1[r]])&&(n=!0)}return!0}function U4t(){return this._isValid}function W4t(){return zl(NaN)}function UT(e){var t=t7(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=H4t(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=ud(),this._bubble()}function uS(e){return e instanceof UT}function yM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Y4t(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Ft(e[s])!==Ft(t[s]))&&i++;return i+o}function ije(e,t){rt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Dc(~~(n/60),2)+t+Dc(~~n%60,2)})}ije("Z",":");ije("ZZ","");Ue("Z",zT);Ue("ZZ",zT);$n(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=d7(zT,e)});var q4t=/([\+\-]|\d\d)/gi;function d7(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(q4t)||["-",0,0],i=+(o[1]*60)+Ft(o[2]),i===0?0:o[0]==="+"?i:-i)}function f7(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ol(e)||zw(e)?e.valueOf():lr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):lr(e).local()}function bM(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function G4t(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=d7(zT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=bM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?lje(this,zl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:bM(this)}function K4t(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Z4t(e){return this.utcOffset(0,e)}function X4t(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(bM(this),"m")),this}function Q4t(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=d7(bFt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function J4t(e){return this.isValid()?(e=e?lr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function e6t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function t6t(){if(!ls(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Q9(e,this),e=nje(e),e._a?(t=e._isUTC?Nc(e._a):lr(e._a),this._isDSTShifted=this.isValid()&&Y4t(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function n6t(){return this.isValid()?!this._isUTC:!1}function r6t(){return this.isValid()?this._isUTC:!1}function sje(){return this.isValid()?this._isUTC&&this._offset===0:!1}var o6t=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,i6t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zl(e,t){var n=e,r=null,o,i,s;return uS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Wu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=o6t.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Ft(r[mc])*o,h:Ft(r[So])*o,m:Ft(r[bl])*o,s:Ft(r[vu])*o,ms:Ft(yM(r[rp]*1e3))*o}):(r=i6t.exec(e))?(o=r[1]==="-"?-1:1,n={y:xh(r[2],o),M:xh(r[3],o),w:xh(r[4],o),d:xh(r[5],o),h:xh(r[6],o),m:xh(r[7],o),s:xh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=s6t(lr(n.from),lr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new UT(n),uS(e)&&hn(e,"_locale")&&(i._locale=e._locale),uS(e)&&hn(e,"_isValid")&&(i._isValid=e._isValid),i}zl.fn=UT.prototype;zl.invalid=W4t;function xh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function RQ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function s6t(e,t){var n;return e.isValid()&&t.isValid()?(t=f7(t,e),e.isBefore(t)?n=RQ(e,t):(n=RQ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function aje(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&($5e(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=zl(n,r),lje(this,o,e),this}}function lje(e,t,n,r){var o=t._milliseconds,i=yM(t._days),s=yM(t._months);e.isValid()&&(r=r??!0,s&&W5e(e,$E(e,"Month")+s*n),i&&L5e(e,"Date",$E(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var a6t=aje(1,"add"),l6t=aje(-1,"subtract");function cje(e){return typeof e=="string"||e instanceof String}function c6t(e){return Ol(e)||zw(e)||cje(e)||Wu(e)||d6t(e)||u6t(e)||e===null||e===void 0}function u6t(e){var t=wp(e)&&!Z9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||hn(e,i);return t&&n}function d6t(e){var t=Pl(e),n=!1;return t&&(n=e.filter(function(r){return!Wu(r)&&cje(e)}).length===0),t&&n}function f6t(e){var t=wp(e)&&!Z9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||hn(e,i);return t&&n}function h6t(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function p6t(e,t){arguments.length===1&&(arguments[0]?c6t(arguments[0])?(e=arguments[0],t=void 0):f6t(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||lr(),r=f7(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(zc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,lr(n)))}function m6t(){return new Vw(this)}function g6t(e,t){var n=Ol(e)?e:lr(e);return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function v6t(e,t){var n=Ol(e)?e:lr(e);return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function y6t(e,t,n,r){var o=Ol(e)?e:lr(e),i=Ol(t)?t:lr(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function b6t(e,t){var n=Ol(e)?e:lr(e),r;return this.isValid()&&n.isValid()?(t=Xa(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function x6t(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function w6t(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function C6t(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=f7(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Xa(t),t){case"year":i=dS(this,r)/12;break;case"month":i=dS(this,r);break;case"quarter":i=dS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Sa(i)}function dS(e,t){if(e.date()<t.date())return-dS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _6t(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function S6t(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?cS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",cS(n,"Z")):cS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function k6t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function E6t(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=cS(this,e);return this.localeData().postformat(t)}function j6t(e,t){return this.isValid()&&(Ol(e)&&e.isValid()||lr(e).isValid())?zl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function T6t(e){return this.from(lr(),e)}function A6t(e,t){return this.isValid()&&(Ol(e)&&e.isValid()||lr(e).isValid())?zl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function D6t(e){return this.to(lr(),e)}function uje(e){var t;return e===void 0?this._locale._abbr:(t=ud(e),t!=null&&(this._locale=t),this)}var dje=Za("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function fje(){return this._locale}var LE=1e3,fv=60*LE,BE=60*fv,hje=(365*400+97)*24*BE;function hv(e,t){return(e%t+t)%t}function pje(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hje:new Date(e,t,n).valueOf()}function mje(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hje:Date.UTC(e,t,n)}function I6t(e){var t,n;if(e=Xa(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mje:pje,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hv(t+(this._isUTC?0:this.utcOffset()*fv),BE);break;case"minute":t=this._d.valueOf(),t-=hv(t,fv);break;case"second":t=this._d.valueOf(),t-=hv(t,LE);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function P6t(e){var t,n;if(e=Xa(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?mje:pje,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=BE-hv(t+(this._isUTC?0:this.utcOffset()*fv),BE)-1;break;case"minute":t=this._d.valueOf(),t+=fv-hv(t,fv)-1;break;case"second":t=this._d.valueOf(),t+=LE-hv(t,LE)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function O6t(){return this._d.valueOf()-(this._offset||0)*6e4}function R6t(){return Math.floor(this.valueOf()/1e3)}function $6t(){return new Date(this.valueOf())}function M6t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function F6t(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function L6t(){return this.isValid()?this.toISOString():null}function B6t(){return X9(this)}function N6t(){return Zd({},Tt(this))}function z6t(){return Tt(this).overflow}function V6t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");Ue("N",h7);Ue("NN",h7);Ue("NNN",h7);Ue("NNNN",J6t);Ue("NNNNN",eLt);$n(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Tt(n).era=o:Tt(n).invalidEra=e});Ue("y",N0);Ue("yy",N0);Ue("yyy",N0);Ue("yyyy",N0);Ue("yo",tLt);$n(["y","yy","yyy","yyyy"],_i);$n(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[_i]=n._locale.eraYearOrdinalParse(e,o):t[_i]=parseInt(e,10)});function H6t(e,t){var n,r,o,i=this._eras||ud("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function U6t(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function W6t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function Y6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function q6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function G6t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function K6t(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function Z6t(e){return hn(this,"_erasNameRegex")||p7.call(this),e?this._erasNameRegex:this._erasRegex}function X6t(e){return hn(this,"_erasAbbrRegex")||p7.call(this),e?this._erasAbbrRegex:this._erasRegex}function Q6t(e){return hn(this,"_erasNarrowRegex")||p7.call(this),e?this._erasNarrowRegex:this._erasRegex}function h7(e,t){return t.erasAbbrRegex(e)}function J6t(e,t){return t.erasNameRegex(e)}function eLt(e,t){return t.erasNarrowRegex(e)}function tLt(e,t){return t._eraYearOrdinalRegex||N0}function p7(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Us(s[o].name)),e.push(Us(s[o].abbr)),n.push(Us(s[o].narrow)),r.push(Us(s[o].name)),r.push(Us(s[o].abbr)),r.push(Us(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function WT(e,t){rt(0,[e,e.length],0,t)}WT("gggg","weekYear");WT("ggggg","weekYear");WT("GGGG","isoWeekYear");WT("GGGGG","isoWeekYear");Oi("weekYear","gg");Oi("isoWeekYear","GG");Ri("weekYear",1);Ri("isoWeekYear",1);Ue("G",NT);Ue("g",NT);Ue("GG",fr,ua);Ue("gg",fr,ua);Ue("GGGG",r7,n7);Ue("gggg",r7,n7);Ue("GGGGG",BT,FT);Ue("ggggg",BT,FT);Uw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ft(e)});Uw(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function nLt(e){return gje.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function rLt(e){return gje.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function oLt(){return Su(this.year(),1,4)}function iLt(){return Su(this.isoWeekYear(),1,4)}function sLt(){var e=this.localeData()._week;return Su(this.year(),e.dow,e.doy)}function aLt(){var e=this.localeData()._week;return Su(this.weekYear(),e.dow,e.doy)}function gje(e,t,n,r,o){var i;return e==null?yx(this,r,o).year:(i=Su(e,r,o),t>i&&(t=i),lLt.call(this,e,t,n,r,o))}function lLt(e,t,n,r,o){var i=K5e(e,t,n,r,o),s=vx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}rt("Q",0,"Qo","quarter");Oi("quarter","Q");Ri("quarter",7);Ue("Q",B5e);$n("Q",function(e,t){t[gu]=(Ft(e)-1)*3});function cLt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");Oi("date","D");Ri("date",9);Ue("D",fr);Ue("DD",fr,ua);Ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});$n(["D","DD"],mc);$n("Do",function(e,t){t[mc]=Ft(e.match(fr)[0])});var vje=B0("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");Oi("dayOfYear","DDD");Ri("dayOfYear",4);Ue("DDD",LT);Ue("DDDD",N5e);$n(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ft(e)});function uLt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}rt("m",["mm",2],0,"minute");Oi("minute","m");Ri("minute",14);Ue("m",fr);Ue("mm",fr,ua);$n(["m","mm"],bl);var dLt=B0("Minutes",!1);rt("s",["ss",2],0,"second");Oi("second","s");Ri("second",15);Ue("s",fr);Ue("ss",fr,ua);$n(["s","ss"],vu);var fLt=B0("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Oi("millisecond","ms");Ri("millisecond",16);Ue("S",LT,B5e);Ue("SS",LT,ua);Ue("SSS",LT,N5e);var Xd,yje;for(Xd="SSSS";Xd.length<=9;Xd+="S")Ue(Xd,N0);function hLt(e,t){t[rp]=Ft(("0."+e)*1e3)}for(Xd="S";Xd.length<=9;Xd+="S")$n(Xd,hLt);yje=B0("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function pLt(){return this._isUTC?"UTC":""}function mLt(){return this._isUTC?"Coordinated Universal Time":""}var De=Vw.prototype;De.add=a6t;De.calendar=p6t;De.clone=m6t;De.diff=C6t;De.endOf=P6t;De.format=E6t;De.from=j6t;De.fromNow=T6t;De.to=A6t;De.toNow=D6t;De.get=vFt;De.invalidAt=z6t;De.isAfter=g6t;De.isBefore=v6t;De.isBetween=y6t;De.isSame=b6t;De.isSameOrAfter=x6t;De.isSameOrBefore=w6t;De.isValid=B6t;De.lang=dje;De.locale=uje;De.localeData=fje;De.max=B4t;De.min=L4t;De.parsingFlags=N6t;De.set=yFt;De.startOf=I6t;De.subtract=l6t;De.toArray=M6t;De.toObject=F6t;De.toDate=$6t;De.toISOString=S6t;De.inspect=k6t;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=L6t;De.toString=_6t;De.unix=R6t;De.valueOf=O6t;De.creationData=V6t;De.eraName=Y6t;De.eraNarrow=q6t;De.eraAbbr=G6t;De.eraYear=K6t;De.year=G5e;De.isLeapYear=FFt;De.weekYear=nLt;De.isoWeekYear=rLt;De.quarter=De.quarters=cLt;De.month=Y5e;De.daysInMonth=RFt;De.week=De.weeks=HFt;De.isoWeek=De.isoWeeks=UFt;De.weeksInYear=sLt;De.weeksInWeekYear=aLt;De.isoWeeksInYear=oLt;De.isoWeeksInISOWeekYear=iLt;De.date=vje;De.day=De.days=r4t;De.weekday=o4t;De.isoWeekday=i4t;De.dayOfYear=uLt;De.hour=De.hours=f4t;De.minute=De.minutes=dLt;De.second=De.seconds=fLt;De.millisecond=De.milliseconds=yje;De.utcOffset=G4t;De.utc=Z4t;De.local=X4t;De.parseZone=Q4t;De.hasAlignedHourOffset=J4t;De.isDST=e6t;De.isLocal=n6t;De.isUtcOffset=r6t;De.isUtc=sje;De.isUTC=sje;De.zoneAbbr=pLt;De.zoneName=mLt;De.dates=Za("dates accessor is deprecated. Use date instead.",vje);De.months=Za("months accessor is deprecated. Use month instead",Y5e);De.years=Za("years accessor is deprecated. Use year instead",G5e);De.zone=Za("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",K4t);De.isDSTShifted=Za("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",t6t);function gLt(e){return lr(e*1e3)}function vLt(){return lr.apply(null,arguments).parseZone()}function bje(e){return e}var pn=J9.prototype;pn.calendar=rFt;pn.longDateFormat=aFt;pn.invalidDate=cFt;pn.ordinal=fFt;pn.preparse=bje;pn.postformat=bje;pn.relativeTime=pFt;pn.pastFuture=mFt;pn.set=tFt;pn.eras=H6t;pn.erasParse=U6t;pn.erasConvertYear=W6t;pn.erasAbbrRegex=X6t;pn.erasNameRegex=Z6t;pn.erasNarrowRegex=Q6t;pn.months=DFt;pn.monthsShort=IFt;pn.monthsParse=OFt;pn.monthsRegex=MFt;pn.monthsShortRegex=$Ft;pn.week=BFt;pn.firstDayOfYear=VFt;pn.firstDayOfWeek=zFt;pn.weekdays=QFt;pn.weekdaysMin=e4t;pn.weekdaysShort=JFt;pn.weekdaysParse=n4t;pn.weekdaysRegex=s4t;pn.weekdaysShortRegex=a4t;pn.weekdaysMinRegex=l4t;pn.isPM=u4t;pn.meridiem=h4t;function NE(e,t,n,r){var o=ud(),i=Nc().set(r,t);return o[n](i,e)}function xje(e,t,n){if(Wu(e)&&(t=e,e=void 0),e=e||"",t!=null)return NE(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=NE(e,r,n,"month");return o}function m7(e,t,n,r){typeof e=="boolean"?(Wu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Wu(t)&&(n=t,t=void 0),t=t||"");var o=ud(),i=e?o._week.dow:0,s,a=[];if(n!=null)return NE(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=NE(t,(s+i)%7,r,"day");return a}function yLt(e,t){return xje(e,t,"months")}function bLt(e,t){return xje(e,t,"monthsShort")}function xLt(e,t,n){return m7(e,t,n,"weekdays")}function wLt(e,t,n){return m7(e,t,n,"weekdaysShort")}function CLt(e,t,n){return m7(e,t,n,"weekdaysMin")}yf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=Za("moment.lang is deprecated. Use moment.locale instead.",yf);Le.langData=Za("moment.langData is deprecated. Use moment.localeData instead.",ud);var Xc=Math.abs;function _Lt(){var e=this._data;return this._milliseconds=Xc(this._milliseconds),this._days=Xc(this._days),this._months=Xc(this._months),e.milliseconds=Xc(e.milliseconds),e.seconds=Xc(e.seconds),e.minutes=Xc(e.minutes),e.hours=Xc(e.hours),e.months=Xc(e.months),e.years=Xc(e.years),this}function wje(e,t,n,r){var o=zl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function SLt(e,t){return wje(this,e,t,1)}function kLt(e,t){return wje(this,e,t,-1)}function $Q(e){return e<0?Math.floor(e):Math.ceil(e)}function ELt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=$Q(xM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Sa(e/1e3),r.seconds=o%60,i=Sa(o/60),r.minutes=i%60,s=Sa(i/60),r.hours=s%24,t+=Sa(s/24),c=Sa(Cje(t)),n+=c,t-=$Q(xM(c)),a=Sa(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function Cje(e){return e*4800/146097}function xM(e){return e*146097/4800}function jLt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Xa(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Cje(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(xM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function TLt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ft(this._months/12)*31536e6:NaN}function dd(e){return function(){return this.as(e)}}var ALt=dd("ms"),DLt=dd("s"),ILt=dd("m"),PLt=dd("h"),OLt=dd("d"),RLt=dd("w"),$Lt=dd("M"),MLt=dd("Q"),FLt=dd("y");function LLt(){return zl(this)}function BLt(e){return e=Xa(e),this.isValid()?this[e+"s"]():NaN}function jm(e){return function(){return this.isValid()?this._data[e]:NaN}}var NLt=jm("milliseconds"),zLt=jm("seconds"),VLt=jm("minutes"),HLt=jm("hours"),ULt=jm("days"),WLt=jm("months"),YLt=jm("years");function qLt(){return Sa(this.days()/7)}var au=Math.round,Hg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function GLt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function KLt(e,t,n,r){var o=zl(e).abs(),i=au(o.as("s")),s=au(o.as("m")),a=au(o.as("h")),c=au(o.as("d")),u=au(o.as("M")),d=au(o.as("w")),f=au(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,GLt.apply(null,p)}function ZLt(e){return e===void 0?au:typeof e=="function"?(au=e,!0):!1}function XLt(e,t){return Hg[e]===void 0?!1:t===void 0?Hg[e]:(Hg[e]=t,e==="s"&&(Hg.ss=t-1),!0)}function QLt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Hg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Hg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=KLt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var VP=Math.abs;function Km(e){return(e>0)-(e<0)||+e}function YT(){if(!this.isValid())return this.localeData().invalidDate();var e=VP(this._milliseconds)/1e3,t=VP(this._days),n=VP(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Sa(e/60),o=Sa(r/60),e%=60,r%=60,i=Sa(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Km(this._months)!==Km(a)?"-":"",d=Km(this._days)!==Km(a)?"-":"",f=Km(this._milliseconds)!==Km(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var nn=UT.prototype;nn.isValid=U4t;nn.abs=_Lt;nn.add=SLt;nn.subtract=kLt;nn.as=jLt;nn.asMilliseconds=ALt;nn.asSeconds=DLt;nn.asMinutes=ILt;nn.asHours=PLt;nn.asDays=OLt;nn.asWeeks=RLt;nn.asMonths=$Lt;nn.asQuarters=MLt;nn.asYears=FLt;nn.valueOf=TLt;nn._bubble=ELt;nn.clone=LLt;nn.get=BLt;nn.milliseconds=NLt;nn.seconds=zLt;nn.minutes=VLt;nn.hours=HLt;nn.days=ULt;nn.weeks=qLt;nn.months=WLt;nn.years=YLt;nn.humanize=QLt;nn.toISOString=YT;nn.toString=YT;nn.toJSON=YT;nn.locale=uje;nn.localeData=fje;nn.toIsoString=Za("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",YT);nn.lang=dje;rt("X",0,0,"unix");rt("x",0,0,"valueOf");Ue("x",NT);Ue("X",xFt);$n("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});$n("x",function(e,t,n){n._d=new Date(Ft(e))});//! moment.js
Le.version="2.29.4";JMt(lr);Le.fn=De;Le.min=N4t;Le.max=z4t;Le.now=V4t;Le.utc=Nc;Le.unix=gLt;Le.months=yLt;Le.isDate=zw;Le.locale=yf;Le.invalid=$T;Le.duration=zl;Le.isMoment=Ol;Le.weekdays=xLt;Le.parseZone=vLt;Le.localeData=ud;Le.isDuration=uS;Le.monthsShort=bLt;Le.weekdaysMin=CLt;Le.defineLocale=a7;Le.updateLocale=v4t;Le.locales=y4t;Le.weekdaysShort=wLt;Le.normalizeUnits=Xa;Le.relativeTimeRounding=ZLt;Le.relativeTimeThreshold=XLt;Le.calendarFormat=h6t;Le.prototype=De;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function qT(e,t){return Le(e).format(t)}function g7(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}var JLt=$_e,e8t=D0,MQ=fT;function t8t(e,t,n){var r=e.length;if(r<2)return r?MQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=JLt(i[o]||s,e[a],t,n));return MQ(e8t(i,1),t,n)}var n8t=t8t,r8t=KCe,o8t=P0,i8t=n8t,s8t=Gj,a8t=o8t(function(e){return i8t(r8t(e,s8t))}),l8t=a8t;const c8t=Pe(l8t);var u8t=Kj,d8t=J8,f8t=Object.prototype,h8t=f8t.hasOwnProperty,p8t=d8t(function(e,t,n){h8t.call(e,n)?e[n].push(t):u8t(e,n,[t])}),m8t=p8t;const v7=Pe(m8t);function g8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function z0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function y7(e){return"nodeType"in e}function Ts(e){var t,n;return e?z0(e)?e:y7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function b7(e){const{Document:t}=Ts(e);return e instanceof t}function Ww(e){return z0(e)?!1:e instanceof Ts(e).HTMLElement}function _je(e){return e instanceof Ts(e).SVGElement}function V0(e){return e?z0(e)?e.document:y7(e)?b7(e)?e:Ww(e)||_je(e)?e.ownerDocument:document:document:document}const Rl=GT?h.useLayoutEffect:h.useEffect;function x7(e){const t=h.useRef(e);return Rl(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function v8t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function xx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Rl(()=>{n.current!==e&&(n.current=e)},t),n}function Yw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function zE(e){const t=x7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function wM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let HP={};function qw(e,t){return h.useMemo(()=>{if(t)return t;const n=HP[e]==null?0:HP[e]+1;return HP[e]=n,e+"-"+n},[e,t])}function Sje(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const pv=Sje(1),wx=Sje(-1);function y8t(e){return"clientX"in e&&"clientY"in e}function w7(e){if(!e)return!1;const{KeyboardEvent:t}=Ts(e.target);return t&&e instanceof t}function b8t(e){if(!e)return!1;const{TouchEvent:t}=Ts(e.target);return t&&e instanceof t}function CM(e){if(b8t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return y8t(e)?{x:e.clientX,y:e.clientY}:null}const Cx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Cx.Translate.toString(e),Cx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),FQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function x8t(e){return e.matches(FQ)?e:e.querySelector(FQ)}const w8t={display:"none"};function C8t(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:w8t},n)}function _8t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function S8t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const kje=h.createContext(null);function k8t(e){const t=h.useContext(kje);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function E8t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const j8t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},T8t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function A8t(e){let{announcements:t=T8t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=j8t}=e;const{announce:i,announcement:s}=S8t(),a=qw("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),k8t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ie.createElement(ie.Fragment,null,ie.createElement(C8t,{id:r,value:o.draggable}),ie.createElement(_8t,{id:a,announcement:s}));return n?fc.createPortal(d,n):d}var wo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(wo||(wo={}));function VE(){}function LQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function D8t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const $l=Object.freeze({x:0,y:0});function Eje(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function I8t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function BQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Tje(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function NQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const P8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=NQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=Eje(NQ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(jje)},O8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=BQ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=BQ(c),d=o.reduce((p,m,v)=>p+Eje(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(jje)};function R8t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const $8t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=R8t(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(I8t)};function M8t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Aje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$l}function F8t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const L8t=F8t(1);function B8t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function N8t(e,t,n){const r=B8t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const z8t={ignoreTransform:!1};function H0(e,t){t===void 0&&(t=z8t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ts(e).getComputedStyle(e);u&&(n=N8t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function zQ(e){return H0(e,{ignoreTransform:!0})}function V8t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function H8t(e,t){return t===void 0&&(t=Ts(e).getComputedStyle(e)),t.position==="fixed"}function U8t(e,t){t===void 0&&(t=Ts(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function KT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(b7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ww(o)||_je(o)||n.includes(o))return n;const i=Ts(e).getComputedStyle(o);return o!==e&&U8t(o,i)&&n.push(o),H8t(o,i)?n:r(o.parentNode)}return e?r(e):n}function Dje(e){const[t]=KT(e,1);return t??null}function UP(e){return!GT||!e?null:z0(e)?e:y7(e)?b7(e)||e===V0(e).scrollingElement?window:Ww(e)?e:null:null}function Ije(e){return z0(e)?e.scrollX:e.scrollLeft}function Pje(e){return z0(e)?e.scrollY:e.scrollTop}function _M(e){return{x:Ije(e),y:Pje(e)}}var Ro;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ro||(Ro={}));function Oje(e){return!GT||!e?!1:e===document.scrollingElement}function Rje(e){const t={x:0,y:0},n=Oje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const W8t={x:.2,y:.2};function Y8t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=W8t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=Rje(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Ro.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Ro.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=Ro.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Ro.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function q8t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function $je(e){return e.reduce((t,n)=>pv(t,_M(n)),$l)}function G8t(e){return e.reduce((t,n)=>t+Ije(n),0)}function K8t(e){return e.reduce((t,n)=>t+Pje(n),0)}function Z8t(e,t){if(t===void 0&&(t=H0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Dje(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const X8t=[["x",["left","right"],G8t],["y",["top","bottom"],K8t]];let C7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=KT(n),o=$je(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of X8t)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class fb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Q8t(e){const{EventTarget:t}=Ts(e);return e instanceof t?e:V0(e)}function WP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var wa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wa||(wa={}));function VQ(e){e.preventDefault()}function J8t(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const Mje={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},e9t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class _7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new fb(V0(n)),this.windowListeners=new fb(Ts(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Z8t(r),n($l)}handleKeyDown(t){if(w7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Mje,coordinateGetter:s=e9t,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:$l;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=wx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=Rje(g),k=q8t(g),j={x:Math.min(y===Xt.Right?k.right-k.width/2:k.right,Math.max(y===Xt.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(y===Xt.Down?k.bottom-k.height/2:k.bottom,Math.max(y===Xt.Down?k.top:k.top+k.height/2,f.y))},E=y===Xt.Right&&!b||y===Xt.Left&&!w,T=y===Xt.Down&&!C||y===Xt.Up&&!x;if(E&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Xt.Right&&A<=_.x||y===Xt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Xt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Xt.Down&&A<=_.y||y===Xt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Xt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,pv(wx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Mje,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function HQ(e){return!!(e&&"distance"in e)}function UQ(e){return!!(e&&"delay"in e)}class S7{constructor(t,n,r){var o;r===void 0&&(r=Q8t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=V0(s),this.documentListeners=new fb(this.document),this.listeners=new fb(r),this.windowListeners=new fb(Ts(s)),this.initialCoordinates=(o=CM(i))!=null?o:$l,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(wa.Resize,this.handleCancel),this.windowListeners.add(wa.DragStart,VQ),this.windowListeners.add(wa.VisibilityChange,this.handleCancel),this.windowListeners.add(wa.ContextMenu,VQ),this.documentListeners.add(wa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(UQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(HQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(wa.Click,J8t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=CM(t))!=null?n:$l,u=wx(o,c);if(!r&&a){if(HQ(a)){if(a.tolerance!=null&&WP(u,a.tolerance))return this.handleCancel();if(WP(u,a.distance))return this.handleStart()}return UQ(a)&&WP(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const t9t={move:{name:"pointermove"},end:{name:"pointerup"}};class k7 extends S7{constructor(t){const{event:n}=t,r=V0(n.target);super(t,t9t,r)}}k7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const n9t={move:{name:"mousemove"},end:{name:"mouseup"}};var SM;(function(e){e[e.RightClick=2]="RightClick"})(SM||(SM={}));class r9t extends S7{constructor(t){super(t,n9t,V0(t.event.target))}}r9t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===SM.RightClick?!1:(r==null||r({event:n}),!0)}}];const YP={move:{name:"touchmove"},end:{name:"touchend"}};class o9t extends S7{constructor(t){super(t,YP)}static setup(){return window.addEventListener(YP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(YP.move.name,t)};function t(){}}}o9t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var hb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hb||(hb={}));var HE;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(HE||(HE={}));function i9t(e){let{acceleration:t,activator:n=hb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=HE.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=a9t({delta:f,disabled:!i}),[v,g]=v8t(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case hb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case hb.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const k=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(k,j)},[]),_=h.useMemo(()=>a===HE.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const k=u.indexOf(S),j=d[k];if(!j)continue;const{direction:E,speed:T}=Y8t(S,j,b,t,p);for(const A of["x","y"])m[A][E[A]]||(T[A]=0,E[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=E;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const s9t={x:{[Ro.Backward]:!1,[Ro.Forward]:!1},y:{[Ro.Backward]:!1,[Ro.Forward]:!1}};function a9t(e){let{delta:t,disabled:n}=e;const r=wM(t);return Yw(o=>{if(n||!r||!o)return s9t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ro.Backward]:o.x[Ro.Backward]||i.x===-1,[Ro.Forward]:o.x[Ro.Forward]||i.x===1},y:{[Ro.Backward]:o.y[Ro.Backward]||i.y===-1,[Ro.Forward]:o.y[Ro.Forward]||i.y===1}}},[n,t,r])}function l9t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Yw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function c9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var _x;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(_x||(_x={}));var kM;(function(e){e.Optimized="optimized"})(kM||(kM={}));const WQ=new Map;function u9t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=xx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=Yw(x=>{if(f&&!n)return WQ;if(!x||x===WQ||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new C7(c(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case _x.Always:return!1;case _x.BeforeDragging:return n;default:return!n}}}function Fje(e,t){return Yw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function d9t(e,t){return Fje(e,t)}function f9t(e){let{callback:t,disabled:n}=e;const r=x7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ZT(e){let{callback:t,disabled:n}=e;const r=x7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function h9t(e){return new C7(H0(e),e)}function YQ(e,t,n){t===void 0&&(t=h9t);const[r,o]=h.useReducer(a,null),i=f9t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=ZT({callback:o});return Rl(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function p9t(e){const t=Fje(e);return Aje(e,t)}const qQ=[];function m9t(e){const t=h.useRef(e),n=Yw(r=>e?r&&r!==qQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:KT(e):qQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function g9t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=UP(i.target);s&&n(a=>a?(a.set(s,_M(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=UP(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,_M(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=UP(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>pv(i,s),$l):$je(e):$l,[e,t])}function GQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==$l;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?wx(e,n.current):$l}function v9t(e){h.useEffect(()=>{if(!GT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function y9t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Lje(e){return h.useMemo(()=>e?V8t(e):null,[e])}const qP=[];function b9t(e,t){t===void 0&&(t=H0);const[n]=e,r=Lje(n?Ts(n):null),[o,i]=h.useReducer(a,qP),s=ZT({callback:i});return e.length>0&&o===qP&&i(),Rl(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>Oje(c)?r:new C7(t(c),c)):qP}}function x9t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ww(t)?t:e}function w9t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Ww(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=ZT({callback:o}),s=h.useCallback(u=>{const d=x9t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=zE(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const C9t=[{sensor:k7,options:{}},{sensor:_7,options:{}}],_9t={current:{}},fS={draggable:{measure:zQ},droppable:{measure:zQ,strategy:_x.WhileDragging,frequency:kM.Optimized},dragOverlay:{measure:H0}};class pb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const S9t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:VE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fS,measureDroppableContainers:VE,windowRect:null,measuringScheduled:!1},k9t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:VE,draggableNodes:new Map,over:null,measureDroppableContainers:VE},XT=h.createContext(k9t),Bje=h.createContext(S9t);function E9t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pb}}}function j9t(e,t){switch(t.type){case wo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case wo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case wo.DragEnd:case wo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new pb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case wo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new pb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case wo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new pb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function T9t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(XT),i=wM(r),s=wM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!w7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=x8t(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function A9t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function D9t(e){return h.useMemo(()=>({draggable:{...fS.draggable,...e==null?void 0:e.draggable},droppable:{...fS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...fS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function I9t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Rl(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Aje(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=Dje(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const Nje=h.createContext({...$l,scaleX:1,scaleY:1});var $d;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})($d||($d={}));const P9t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=C9t,collisionDetection:f=$8t,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(j9t,void 0,E9t),[y,x]=g,[b,w]=E8t(),[C,_]=h.useState($d.Uninitialized),S=C===$d.Initialized,{draggable:{active:k,nodes:j,translate:E},droppable:{containers:T}}=y,A=k?j.get(k):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Ln;return k!=null?{id:k,data:(Ln=A==null?void 0:A.data)!=null?Ln:_9t,rect:D}:null},[k,A]),P=h.useRef(null),[$,R]=h.useState(null),[V,N]=h.useState(null),H=xx(v,Object.values(v)),G=qw("DndDescribedBy",s),U=h.useMemo(()=>T.getEnabled(),[T]),q=D9t(p),{droppableRects:Z,measureDroppableContainers:B,measuringScheduled:W}=u9t(U,{dragging:S,dependencies:[E.x,E.y],config:q.droppable}),z=l9t(j,k),X=h.useMemo(()=>V?CM(V):null,[V]),Q=As(),ne=d9t(z,q.draggable.measure);I9t({activeNode:k?j.get(k):null,config:Q.layoutShiftCompensation,initialRect:ne,measure:q.draggable.measure});const K=YQ(z,q.draggable.measure,ne),J=YQ(z?z.parentElement:null),oe=h.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fe=T.getNodeFor((n=oe.current.over)==null?void 0:n.id),ae=w9t({measure:q.dragOverlay.measure}),ge=(r=ae.nodeRef.current)!=null?r:z,xe=S?(o=ae.rect)!=null?o:K:null,ce=!!(ae.nodeRef.current&&ae.rect),ve=p9t(ce?null:K),$e=Lje(ge?Ts(ge):null),Ae=m9t(S?fe??z:null),st=b9t(Ae),et=A9t(m,{transform:{x:E.x-ve.x,y:E.y-ve.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:K,containerNodeRect:J,draggingNodeRect:xe,over:oe.current.over,overlayNodeRect:ae.rect,scrollableAncestors:Ae,scrollableAncestorRects:st,windowRect:$e}),lt=X?pv(X,E):null,Oe=g9t(Ae),we=GQ(Oe),We=GQ(Oe,[K]),ze=pv(et,we),Ze=xe?L8t(xe,et):null,Ct=I&&Ze?f({active:I,collisionRect:Ze,droppableRects:Z,droppableContainers:U,pointerCoordinates:lt}):null,Ee=Tje(Ct,"id"),[Be,dt]=h.useState(null),li=ce?et:pv(et,We),rn=M8t(li,(i=Be==null?void 0:Be.rect)!=null?i:null,K),Uo=h.useCallback((Ln,Nn)=>{let{sensor:Wr,options:Ge}=Nn;if(P.current==null)return;const _t=j.get(P.current);if(!_t)return;const Jn=Ln.nativeEvent,Bn=new Wr({active:P.current,activeNode:_t,event:Jn,options:Ge,context:oe,onStart(Sr){const To=P.current;if(To==null)return;const Ds=j.get(To);if(!Ds)return;const{onDragStart:fa}=H.current,Nm={active:{id:To,data:Ds.data,rect:D}};fc.unstable_batchedUpdates(()=>{fa==null||fa(Nm),_($d.Initializing),x({type:wo.DragStart,initialCoordinates:Sr,active:To}),b({type:"onDragStart",event:Nm})})},onMove(Sr){x({type:wo.DragMove,coordinates:Sr})},onEnd:da(wo.DragEnd),onCancel:da(wo.DragCancel)});fc.unstable_batchedUpdates(()=>{R(Bn),N(Ln.nativeEvent)});function da(Sr){return async function(){const{active:Ds,collisions:fa,over:Nm,scrollAdjustedTranslate:kC}=oe.current;let ql=null;if(Ds&&kC){const{cancelDrop:qc}=H.current;ql={activatorEvent:Jn,active:Ds,collisions:fa,delta:kC,over:Nm},Sr===wo.DragEnd&&typeof qc=="function"&&await Promise.resolve(qc(ql))&&(Sr=wo.DragCancel)}P.current=null,fc.unstable_batchedUpdates(()=>{x({type:Sr}),_($d.Uninitialized),dt(null),R(null),N(null);const qc=Sr===wo.DragEnd?"onDragEnd":"onDragCancel";if(ql){const p1=H.current[qc];p1==null||p1(ql),b({type:qc,event:ql})}})}}},[j]),Yt=h.useCallback((Ln,Nn)=>(Wr,Ge)=>{const _t=Wr.nativeEvent,Jn=j.get(Ge);if(P.current!==null||!Jn||_t.dndKit||_t.defaultPrevented)return;const Bn={active:Jn};Ln(Wr,Nn.options,Bn)===!0&&(_t.dndKit={capturedBy:Nn.sensor},P.current=Ge,Uo(Wr,Nn))},[j,Uo]),Jr=c9t(d,Yt);v9t(d),Rl(()=>{K&&C===$d.Initializing&&_($d.Initialized)},[K,C]),h.useEffect(()=>{const{onDragMove:Ln}=H.current,{active:Nn,activatorEvent:Wr,collisions:Ge,over:_t}=oe.current;if(!Nn||!Wr)return;const Jn={active:Nn,activatorEvent:Wr,collisions:Ge,delta:{x:ze.x,y:ze.y},over:_t};fc.unstable_batchedUpdates(()=>{Ln==null||Ln(Jn),b({type:"onDragMove",event:Jn})})},[ze.x,ze.y]),h.useEffect(()=>{const{active:Ln,activatorEvent:Nn,collisions:Wr,droppableContainers:Ge,scrollAdjustedTranslate:_t}=oe.current;if(!Ln||P.current==null||!Nn||!_t)return;const{onDragOver:Jn}=H.current,Bn=Ge.get(Ee),da=Bn&&Bn.rect.current?{id:Bn.id,rect:Bn.rect.current,data:Bn.data,disabled:Bn.disabled}:null,Sr={active:Ln,activatorEvent:Nn,collisions:Wr,delta:{x:_t.x,y:_t.y},over:da};fc.unstable_batchedUpdates(()=>{dt(da),Jn==null||Jn(Sr),b({type:"onDragOver",event:Sr})})},[Ee]),Rl(()=>{oe.current={activatorEvent:V,active:I,activeNode:z,collisionRect:Ze,collisions:Ct,droppableRects:Z,draggableNodes:j,draggingNode:ge,draggingNodeRect:xe,droppableContainers:T,over:Be,scrollableAncestors:Ae,scrollAdjustedTranslate:ze},D.current={initial:xe,translated:Ze}},[I,z,Ct,Ze,j,ge,xe,Z,T,Be,Ae,ze]),i9t({...Q,delta:E,draggingRect:Ze,pointerCoordinates:lt,scrollableAncestors:Ae,scrollableAncestorRects:st});const tl=h.useMemo(()=>({active:I,activeNode:z,activeNodeRect:K,activatorEvent:V,collisions:Ct,containerNodeRect:J,dragOverlay:ae,draggableNodes:j,droppableContainers:T,droppableRects:Z,over:Be,measureDroppableContainers:B,scrollableAncestors:Ae,scrollableAncestorRects:st,measuringConfiguration:q,measuringScheduled:W,windowRect:$e}),[I,z,K,V,Ct,J,ae,j,T,Z,Be,B,Ae,st,q,W,$e]),nl=h.useMemo(()=>({activatorEvent:V,activators:Jr,active:I,activeNodeRect:K,ariaDescribedById:{draggable:G},dispatch:x,draggableNodes:j,over:Be,measureDroppableContainers:B}),[V,Jr,I,K,x,G,j,Be,B]);return ie.createElement(kje.Provider,{value:w},ie.createElement(XT.Provider,{value:nl},ie.createElement(Bje.Provider,{value:tl},ie.createElement(Nje.Provider,{value:rn},u)),ie.createElement(T9t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement(A8t,{...a,hiddenTextDescribedById:G}));function As(){const Ln=($==null?void 0:$.autoScrollEnabled)===!1,Nn=typeof c=="object"?c.enabled===!1:c===!1,Wr=S&&!Ln&&!Nn;return typeof c=="object"?{...c,enabled:Wr}:{enabled:Wr}}}),O9t=h.createContext(null),KQ="button",R9t="Droppable";function $9t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=qw(R9t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(XT),{role:m=KQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?Nje:O9t),[b,w]=zE(),[C,_]=zE(),S=y9t(s,t),k=xx(n);Rl(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:k}),()=>{const E=f.get(t);E&&E.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===KQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function M9t(){return h.useContext(Bje)}const F9t="Droppable",L9t={timeout:25};function B9t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=qw(F9t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(XT),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...L9t,...o},x=xx(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=ZT({callback:b,disabled:v||!s}),C=h.useCallback((j,E)=>{w&&(E&&(w.unobserve(E),f.current=!1),j&&w.observe(j))},[w]),[_,S]=zE(C),k=xx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Rl(()=>(a({type:wo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:k}}),()=>a({type:wo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:wo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function zje(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function N9t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function I_(e){return e!==null&&e>=0}function z9t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function V9t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const P_={scaleX:1,scaleY:1},H9t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=U9t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...P_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...P_}:s<o&&s>=i?{x:a.width+c,y:0,...P_}:{x:0,y:0,...P_}};function U9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const Vje=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=zje(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},O_={scaleX:1,scaleY:1},W9t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...O_}:null}const c=Y9t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...O_}:o<n&&o>=s?{x:0,y:a.height+c,...O_}:{x:0,y:0,...O_}};function Y9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Hje="Sortable",Uje=ie.createContext({activeIndex:-1,containerId:Hje,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Vje,disabled:{draggable:!1,droppable:!1}});function q9t(e){let{children:t,id:n,items:r,strategy:o=Vje,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=M9t(),f=qw(Hje,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!z9t(m,x.current),w=y!==-1&&g===-1||b,C=V9t(i);Rl(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:N9t(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,c,p,o]);return ie.createElement(Uje.Provider,{value:_},t)}const G9t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return zje(n,r,o).indexOf(t)},K9t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},Z9t={duration:200,easing:"ease"},Wje="transform",X9t=Cx.Transition.toString({property:Wje,duration:0,easing:"linear"}),Q9t={roleDescription:"sortable"};function J9t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Rl(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=H0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function Yje(e){let{animateLayoutChanges:t=K9t,attributes:n,disabled:r,data:o,getNewIndex:i=G9t,id:s,strategy:a,resizeObserverConfig:c,transition:u=Z9t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(Uje),w=e7t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:k,node:j,isOver:E,setNodeRef:T}=B9t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:$,listeners:R,isDragging:V,over:N,setActivatorNodeRef:H,transform:G}=$9t({id:s,data:_,attributes:{...Q9t,...n},disabled:w.draggable}),U=g8t(T,$),q=!!A,Z=q&&!v&&I_(p)&&I_(y),B=!x&&V,W=B&&Z?G:null,X=Z?W??(a??b)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:y,index:C}):null,Q=I_(p)&&I_(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,ne=A==null?void 0:A.id,K=h.useRef({activeId:ne,items:d,newIndex:Q,containerId:f}),J=d!==K.current.items,oe=t({active:A,containerId:f,isDragging:V,isSorting:q,id:s,index:C,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),fe=J9t({disabled:!oe,index:C,node:j,rect:k});return h.useEffect(()=>{q&&K.current.newIndex!==Q&&(K.current.newIndex=Q),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[q,Q,f,d]),h.useEffect(()=>{if(ne===K.current.activeId)return;if(ne&&!K.current.activeId){K.current.activeId=ne;return}const ge=setTimeout(()=>{K.current.activeId=ne},50);return()=>clearTimeout(ge)},[ne]),{active:A,activeIndex:p,attributes:P,data:_,rect:k,index:C,newIndex:Q,items:d,isOver:E,isSorting:q,isDragging:V,listeners:R,node:j,overIndex:y,over:N,setNodeRef:U,setActivatorNodeRef:H,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:fe??X,transition:ae()};function ae(){if(fe||J&&K.current.newIndex===C)return X9t;if(!(B&&!w7(D)||!u)&&(q||oe))return Cx.Transition.toString({...u,property:Wje})}}function e7t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function UE(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const t7t=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],n7t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(t7t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&c.push(f);break;case Xt.Up:r.top>p.top&&c.push(f);break;case Xt.Left:r.left>p.left&&c.push(f);break;case Xt.Right:r.left<p.left&&c.push(f);break}});const u=O8t({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=Tje(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=KT(v).some((S,k)=>a[k]!==S),x=qje(f,p),b=r7t(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:wx(C,w)}}}};function qje(e,t){return!UE(e)||!UE(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function r7t(e,t){return!UE(e)||!UE(t)||!qje(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const o7t=e=>{let{transform:t}=e;return{...t,y:0}},i7t=e=>{let{transform:t}=e;return{...t,x:0}};var s7t=sm;function a7t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!s7t(s):n(s,a)))var a=s,c=i}return c}var Gje=a7t;function l7t(e,t){return e<t}var c7t=l7t,u7t=Gje,d7t=c7t,f7t=wm;function h7t(e){return e&&e.length?u7t(e,f7t,d7t):void 0}var p7t=h7t;const m7t=Pe(p7t);function g7t(e,t){return e>t}var v7t=g7t,y7t=Gje,b7t=v7t,x7t=wm;function w7t(e){return e&&e.length?y7t(e,x7t,b7t):void 0}var C7t=w7t;const _7t=Pe(C7t);var EM={exports:{}},GP,ZQ;function S7t(){if(ZQ)return GP;ZQ=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;GP=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return GP}function k7t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=S7t(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var k=m[b];C=S.call(g,k),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var E7t=k7t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=E7t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(EM,EM.exports);var j7t=EM.exports;const T7t=Pe(j7t),A7t=/[0-9]/,D7t=/^[a-zA-Z0-9_]$/,I7t=/^[a-zA-Z_]$/,Kje={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},P7t=Object.keys(Kje);class O7t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(I7t)?r:null):r.match(D7t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(A7t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of P7t){const r=Kje[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function R7t(e){return new O7t(e).tokenize()}class $7t{constructor(t){this.tokens=R7t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function Zje(e){const t=new $7t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function M7t(e){const[t,n]=Xje(e);if(!t)throw new Error("Head cannot be null");return L7t(t,n)}function Xje(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function F7t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function L7t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=Xje(n);return[r,F7t(o,t)]}return[n,t]})}function Qje(e){return hg(e,!1)}function hg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(hg(e.rhs,!1)):"",r="".concat(hg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(Qje(o));const i=r[0];i&&hg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>hg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(hg(e.term,!1))}}class Hs{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=KP(r,t);let o="end"in this.expr&&this.expr.end||n();o=KP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return XQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return XQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Hs({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return M7t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Hs(n):null,tail:r?new Hs(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Hs(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[KP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return Qje(this.expr)}static fromPath(t){const n=Zje(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Hs(n)}static attributeReference(t){return new Hs({type:"attribute",name:t})}static indexReference(t){return new Hs({type:"index",value:t})}}function XQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function KP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Ug{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=In(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Ug(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Ug(new Hs({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Ug(t.head,t.tail)):[new Ug(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class op{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new op(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Hs({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new op(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new op([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Hs.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Hs.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=Zje(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Ug(null,new Hs(n));return new op(r.descend())}}function hS(e){return e!==null&&typeof e=="object"}class WE{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new WE(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return hS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return hS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!hS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new WE(this._value[t],this.path.concat(t)):null}get(){return this._value}}function B7t(e,t){const n=[],r=op.fromPath(e).setPayload(function(s){n.push(...s)}),o=new WE(t);return Jje(r,o),n}function Jje(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{QQ(o.target,t).forEach(i=>{Jje(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(QQ(o,t))})}function QQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return wT(n)}function N7t(e,t){return B7t(e,t).map(r=>({path:r.path,value:r.get()}))}const z7t=/^[a-z_$]+/;function eTe(e){let t="";return e.forEach((n,r)=>{t+=V7t(n,r===0)}),t}function V7t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(hS(e)){const n=e;return Object.keys(e).map(r=>H7t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&z7t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function H7t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class tTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function JQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class eJ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,JQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),JQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function QT(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class U7t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=W7t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=Y7t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=QT(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function W7t(e,t){let n=m7t(QT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function Y7t(e,t){let n=_7t(QT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class nTe{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class q7t{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(QT(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function tJ(e,t){if(typeof t!="string")return t;const[n]=A5e(e,t,{allowExceedingIndices:!0});return n}class G7t{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=I5e(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=tJ(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=tJ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function rTe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(rTe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new nTe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new tTe(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new q7t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new G7t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new eJ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new eJ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new U7t(e.id,u,d,f.items))}return t}class sc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new sc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return H1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return H1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!H1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new sc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new sc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new sc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new sc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new sc(r,this.path)}setAttribute(t,n){if(!H1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new sc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!H1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new sc(n,this.path)}}function H1(e){return e!==null&&typeof e=="object"}let K7t=class{constructor(t){this.patches=rTe(t)}apply(t){const n=new sc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=op.fromPath(i.path).setPayload(i);n=jM(s,n)}return n}};function jM(e,t){const n=e.payload instanceof tTe||e.payload instanceof nTe;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,jM(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=jM(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&Z7t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function Z7t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const X7t=ld,Nt=T7t("mutator-document");class Sc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=X7t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new K7t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Nt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Nt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Sc({mutations:r})}}let Q7t=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Nt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Nt.enabled&&Nt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Nt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Nt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Nt.enabled&&(Nt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Nt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Nt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Nt("needRebase === %s",n)),n}return Nt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Nt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Nt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Nt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Nt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Sc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ht(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class R_{constructor(t){this.out=[],t?Nt("Reset mutation buffer to rev %s",t._rev):Nt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Nt("Purged mutation buffer"),n=new Sc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Nt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Nt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=N7t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=D5e(T5e(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=eTe(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Sc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Sc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const J7t=1e3*60;class eBt{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Sc.applyAll(t,this.mutations)}squash(t){const n=Sc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const nJ=(e,t)=>e.concat(t.mutations);class tBt{constructor(t){this.committerRunning=!1,this.buffer=new R_(t),this.document=new Q7t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Nt("Document state reset to revision %s",t._rev):Nt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Nt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Nt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Nt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Nt("Committing local changes");const r=this.buffer.purge();this.commits.push(new eBt(r?[r]:[],{resolve:t,reject:n})),this.buffer=new R_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Nt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Nt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,J7t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new R_(this.LOCAL),this.committerRunning=!1}};Nt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Nt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Nt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new R_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Nt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Nt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ht(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(nJ,[]),n.reduce(nJ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}function oTe(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(nBt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function nBt(e){return typeof e=="object"&&typeof e._key=="string"}class _y extends Error{constructor(t,n,r){const o=oTe(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const rBt=/^[a-z0-9][a-z0-9_.-]+$/i,oBt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,iBt=/^[a-z_]/i;function rJ(e,t,n){if(!iBt.test(e))throw new _y("Keys must start with a letter (a-z)",n.concat(e),t);if(!oBt.test(e))throw new _y("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new _y("Keys must be strings",n.concat(e),t);if(!rBt.test(t))throw new _y("Invalid key - use less exotic characters",n.concat(e),t)}return e}const sBt=["_id","_type","_createdAt","_updatedAt","_rev"],TM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function aBt(e){return{...TM,...e,diffMatchPatch:{...TM.diffMatchPatch,...e.diffMatchPatch||{}}}}function JT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:TM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=aBt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?cBt(e,t,u,r,o):lBt(e,t,u,r,o):fBt(e,t,u,r,o)}function lBt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?oJ:sJ).map(d=>rJ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?oJ:sJ).map(d=>rJ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];JT(e[f],t[f],n,r.concat([f]),o)}return o}function cBt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>E7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);mBt(n)||!ZP(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new _y("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return ZP(s)&&ZP(a)?uBt(s,a,n,r,o):iTe(s,a,n,r,o)}function iTe(e,t,n,r,o){for(let i=0;i<e.length;i++)JT(e[i],E7(t[i],r,i,n),n,r.concat(i),o);return o}function uBt(e,t,n,r,o){const i=iJ(e),s=iJ(t);if(!pBt(i.keys,s.keys))return iTe(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=E7(s.index[c],r,a,n);JT(u,d,n,r.concat({_key:c}),o)}return o}function dBt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Nw(e,t),d=q9(u);c=D5e(T5e(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function fBt(e,t,n,r,o){const i=dBt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function oJ(e){return sBt.indexOf(e)===-1}function ZP(e){const t=[];for(let n=0;n<e.length;n++){const r=hBt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function hBt(e){return typeof e=="object"&&e!==null&&e._key}function iJ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function pBt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function E7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=oTe(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function mBt(e){return!!e.ifRevisionID}function sJ(e){return!0}var sTe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(vs)})(sTe);var gBt=sTe.ExifReader,vBt=function(e){var t=new gBt;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[yBt(o)]=n[o].description;return r};function yBt(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const bBt=Pe(vBt);var xBt=Jf,wBt=Xf,CBt=Qf;function _Bt(e){return function(t,n,r){var o=Object(t);if(!wBt(t)){var i=xBt(n);t=CBt(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var SBt=_Bt,kBt=SBt,EBt=qEe,jBt=kBt(EBt),TBt=jBt;const aTe=Pe(TBt);var ABt=Math.ceil,DBt=Math.max;function IBt(e,t,n,r){for(var o=-1,i=DBt(ABt((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var PBt=IBt,OBt=PBt,RBt=d8,XP=YEe;function $Bt(e){return function(t,n,r){return r&&typeof r!="number"&&RBt(t,n,r)&&(n=r=void 0),t=XP(t),n===void 0?(n=t,t=0):n=XP(n),r=r===void 0?t<n?1:-1:XP(r),OBt(t,n,r,e)}}var MBt=$Bt,FBt=MBt,LBt=FBt(),BBt=LBt;const j7=Pe(BBt);var lTe={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],o={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},i={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},s={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,k,j,E,T,A,D,I,P,$,R,V,N,H,G="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,I=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,E=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,E&&(G+=a),T&&(G+=c),A&&(G+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},I=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(U){_[U+""]=U+""}),k=!0):k=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(U){_[U+""]=U+""}),Object.keys(_).forEach(function(U){var q;U.length>1?q=new RegExp("\\b"+p(U)+"\\b","gi"):q=new RegExp(p(U),"gi"),g=g.replace(q,_[U])});for(R in _)G+=R}for(G+=x,G=p(G),g=g.replace(/(^\s+|\s+$)/g,""),N=!1,H=!1,$=0,V=g.length;$<V;$++)R=g[$],m(R,_)?N=!1:I[R]?(R=N&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],N=!1):R in n?($+1<V&&r.indexOf(g[$+1])>=0?(w+=R,R=""):H===!0?(R=o[w]+n[R],w=""):R=N&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],N=!1,H=!1):R in o?(w+=R,R="",$===V-1&&(R=o[w]),H=!0):D[R]&&!(E&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=N||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",N=!0):(H===!0?(R=o[w]+R,w="",H=!1):N&&(/[A-Za-z0-9]/.test(R)||b.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),N=!1),b+=R.replace(new RegExp("[^\\w\\s"+G+"_-]","g"),x);return k&&(b=b.replace(/(\w)(\S*)/g,function(U,q,Z){var B=q.toUpperCase()+(Z!==null?Z:"");return Object.keys(_).indexOf(B.toLowerCase())<0?B:B.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(P=b.charAt(j)===x,b=b.slice(0,j),P||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!k&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(vs)})(lTe);var NBt=lTe.exports,zBt=NBt;const cTe=Pe(zBt);var VBt=P0,HBt=d8;function UBt(e){return VBt(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&HBt(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var WBt=UBt,YBt=R0,qBt=WBt,GBt=Qf,KBt=qBt(function(e,t,n,r){YBt(t,GBt(t),e,r)}),ZBt=KBt;const XBt=Pe(ZBt);var QBt=Mc;function JBt(e,t){return QBt(t,function(n){return e[n]})}var eNt=JBt,tNt=eNt,nNt=Qf;function rNt(e){return e==null?[]:tNt(e,nNt(e))}var uTe=rNt;const oNt=Pe(uTe);var Zp={};Object.defineProperty(Zp,"__esModule",{value:!0});Zp.SKIP=fTe;var dTe=Zp.reduce=hTe;Zp.withCustomPathSegment=Zp.SKIP_MARKER=void 0;function T7(e,t){return aNt(e)||sNt(e,t)||iNt()}function iNt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function sNt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function aNt(e){if(Array.isArray(e))return e}function pS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pS=function(n){return typeof n}:pS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pS(e)}function eA(e,t,n){return t}function lNt(e){return Array.isArray(e)?"array":e===null?"null":pS(e)}var A7={_:"SKIP_MARKER"};Zp.SKIP_MARKER=A7;function fTe(e){return[A7,e]}function D7(e,t,n,r){var o=t(e,n,r);return o===fTe?[!0,e]:Array.isArray(o)&&o[0]===A7?[!0,o[1]]:[!1,o]}function cNt(e,t,n,r){var o=D7(e,t,n,r),i=T7(o,2),s=i[1];return s}function uNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:eA,i=D7(e,t,n,r),s=T7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return I7(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function dNt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:eA,i=D7(e,t,n,r),s=T7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return I7(u,t,d,r.concat(o(d,f,n)),o)},c)}function I7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:eA,i=lNt(n);return i==="object"?uNt(e,t,n,r,o):i==="array"?dNt(e,t,n,r,o):cNt(e,t,n,r)}function hTe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:eA;return I7(n,t,e,[],r)}var fNt=function(t){return function(n,r,o){return hTe(n,r,o,t)}};Zp.withCustomPathSegment=fNt;function P7(e){return t=>uo(()=>{const n=new wr;return t.pipe(NCe(()=>n,{leading:!0,trailing:!0}),$Ce((r,o)=>kCe(e(r,o),Al).pipe(MCe(()=>{n.next()}))))})}var hNt=Object.defineProperty,pNt=(e,t,n)=>t in e?hNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aJ=(e,t,n)=>(pNt(e,typeof t!="symbol"?t+"":t,n),n);function mNt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gNt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(mNt(n));return new RegExp("^".concat(t.join("."),"$"))}class pTe{constructor(t){aJ(this,"pattern"),aJ(this,"patternRe"),this.pattern=t,this.patternRe=gNt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var vNt=Object.defineProperty,yNt=(e,t,n)=>t in e?vNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U1=(e,t,n)=>(yNt(e,typeof t!="symbol"?t+"":t,n),n);class Qd{constructor(t){U1(this,"type","stream"),U1(this,"generator"),U1(this,"ticker"),U1(this,"isDone"),U1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const bNt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function xNt(e){return bNt.test(e)?new Date(e):null}function wNt(e){const t=wh(e.getUTCFullYear(),4),n=wh(e.getUTCMonth()+1,2),r=wh(e.getUTCDate(),2),o=wh(e.getUTCHours(),2),i=wh(e.getUTCMinutes(),2),s=wh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(wh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function wh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var CNt=Object.defineProperty,_Nt=(e,t,n)=>t in e?CNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,AM=(e,t,n)=>(_Nt(e,typeof t!="symbol"?t+"":t,n),n);class fd{constructor(t,n){AM(this,"data"),AM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield rr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Me=new fd(null,"null"),Po=new fd(!0,"boolean"),io=new fd(!1,"boolean");class Xv{constructor(t){AM(this,"date"),this.date=t}static parseToValue(t){const n=xNt(t);return n?new fd(new Xv(n),"datetime"):Me}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Xv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return wNt(this.date)}toJSON(){return this.toString()}}function $a(e){return Number.isFinite(e)?new fd(e,"number"):Me}function Ma(e){return new fd(e,"string")}function DM(e){return new fd(e,"datetime")}function SNt(e){return new fd(e,"path")}function kNt(e){return e&&typeof e.next=="function"}function rr(e){return kNt(e)?new Qd(async function*(){for await(const t of e)yield rr(t)}):e==null?Me:new fd(e,Qv(e))}function Qv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof pTe?"path":e instanceof Xv?"datetime":typeof e}function QP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const ENt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,jNt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,mTe=/(\b\.+|\.+\b)/g,TNt=1024;function ANt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function gTe(e){return e.replace(mTe,"").match(ENt)||[]}function DNt(e){return vTe(e).map(n=>r=>r.some(o=>n.test(o)))}function vTe(e){return(e.replace(mTe,"").match(jNt)||[]).map(n=>new RegExp("^".concat(n.slice(0,TNt).replace(/\*/g,".*"),"$"),"i"))}async function YE(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const lJ={datetime:1,number:2,string:3,boolean:4};function ip(e,t){const n=Qv(e),r=Qv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function INt(e,t){const n=Qv(e),r=Qv(t),o=lJ[n]||100,i=lJ[r]||100;if(o!==i)return o-i;let s=ip(e,t);return s===null&&(s=0),s}const PNt={"==":function(t,n){return QP(t,n)?Po:io},"!=":function(t,n){return QP(t,n)?io:Po},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=ip(t.data,n.data);return r===null?Me:r>0?Po:io},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=ip(t.data,n.data);return r===null?Me:r>=0?Po:io},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=ip(t.data,n.data);return r===null?Me:r<0?Po:io},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=ip(t.data,n.data);return r===null?Me:r<=0?Po:io},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Me:n.data.matches(t.data)?Po:io;if(n.isArray()){for await(const r of n)if(QP(t,r))return Po;return io}return Me},match:async function(t,n){let r=[],o=[];return await YE(t,a=>{r=r.concat(gTe(a))}),await YE(n,a=>{o=o.concat(DNt(a))})&&ANt(r,o)?Po:io},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?DM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?$a(t.data+n.data):t.type==="string"&&n.type==="string"?Ma(t.data+n.data):t.type==="object"&&n.type==="object"?rr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?rr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Qd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Me},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?DM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?$a(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?$a(t.data-n.data):Me},"*":$_((e,t)=>e*t),"/":$_((e,t)=>e/t),"%":$_((e,t)=>e%t),"**":$_((e,t)=>Math.pow(e,t))};function $_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return $a(r)}return Me}}var ONt=Object.defineProperty,RNt=(e,t,n)=>t in e?ONt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zm=(e,t,n)=>(RNt(e,typeof t!="symbol"?t+"":t,n),n);class Sx{constructor(t,n,r,o,i){Zm(this,"params"),Zm(this,"source"),Zm(this,"value"),Zm(this,"parent"),Zm(this,"context"),Zm(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new Sx(this.params,this.source,t,this.context,this.parent):new Sx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function O7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O7;const r=$Nt[e.type];return r(e,t,n)}function cJ(e,t){return"then"in e?e.then(t):t(e)}const $Nt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return rr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Me;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Me;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=PNt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Me},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=ip(await a.get(),await c.get());if(d===null)return Me;const f=ip(await a.get(),await u.get());return f===null?Me:s?d>=0&&f<=0?Po:io:d>=0&&f<0?Po:io},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Qd(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):Me},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Me;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?rr(i.data[o]):Me},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Me;const s=await i.get(),a=o<0?o+s.length:o;return rr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Me;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),rr(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Me;const i=o.data._ref;if(typeof i!="string")return Me;if(t.context.dereference)return rr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Me},Value(e){let{value:t}=e;return rr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return rr(o)},Array(e,t,n){let{elements:r}=e;return new Qd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Po:i.type!=="boolean"||s.type!=="boolean"?Me:io},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?io:i.type!=="boolean"||s.type!=="boolean"?Me:Po},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Me:o.data?io:Po},Neg(e,t,n){let{base:r}=e;return cJ(n(r,t),o=>o.type!=="number"?Me:$a(-o.data))},Pos(e,t,n){let{base:r}=e;return cJ(n(r,t),o=>o.type!=="number"?Me:$a(o.data))},Asc(){return Me},Desc(){return Me},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Me},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Qd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Me},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Qd(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):Me}};function yTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=rr(t.root),r=rr(t.dataset),o={...t.params},i=new Sx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?rr(t.after):null,before:t.before?rr(t.before):null,dereference:t.dereference},null);return O7(e,i)}function Sy(e){switch(e.type){case"Group":return Sy(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Sy(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Sy(e.left)&&Sy(e.right);default:return!1}default:return!1}}const MNt=new Sx({},Me,Me,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function JP(e){return Sy(e)?bTe(e):null}function bTe(e){const t=O7(e,MNt,bTe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function FNt(e){if(e.type==="object")return wTe(e.data);if(e.isArray()){const t=await xTe(e);if(t.length>0)return t.join(`

`)}return null}async function xTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=wTe(n.data);r!==null&&t.push(r)}else n.isArray()&&await xTe(n,t);return t}function wTe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const uJ=1.2;async function pg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return LNt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await pg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r+o}case"And":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function LNt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await YE(o,d=>{s=s.concat(gTe(d))}),!await YE(i,d=>{a=a.concat(vTe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(uJ+1)/(f+uJ)}return u}function IM(e,t){switch(Qv(e)){case"array":for(const n of e)if(IM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(IM(n,t))return!0;break}return!1}function BNt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Mn={};Mn.anywhere=async function(){throw new Error("not implemented")};Mn.anywhere.arity=1;Mn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Me};Mn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Me;let i=0;for await(const s of o)i++;return $a(i)};Mn.count.arity=1;Mn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Me:Xv.parseToValue(o.data)};Mn.dateTime.arity=1;Mn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?io:Po};Mn.defined.arity=1;Mn.identity=async function(t,n){return Ma(n.context.identity)};Mn.identity.arity=0;Mn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return $a(BNt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return $a(i)}return Me};Mn.length.arity=1;Mn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Me:SNt(new pTe(o.data))};Mn.path.arity=1;Mn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Ma("".concat(o.data));default:return Me}};Mn.string.arity=1;Mn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return io;const i=await n.value.get();return IM(i,o)?Po:io};Mn.references.arity=e=>e>=1;Mn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Me;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Me;s=a.data}return s===0?i<0?$a(-Math.round(-i)):$a(Math.round(i)):$a(Number(i.toFixed(s)))};Mn.round.arity=e=>e>=1&&e<=2;Mn.now=async function(t,n){return Ma(n.context.timestamp.toISOString())};Mn.now.arity=0;Mn.boost=async function(){throw new Error("unexpected boost call")};Mn.boost.arity=2;const Vl={};Vl.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Ma(r.data.toLowerCase())};Vl.lower.arity=1;Vl.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Ma(r.data.toUpperCase())};Vl.upper.arity=1;Vl.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.length===0?rr([]):o.data.length===0?rr(Array.from(r.data)):rr(r.data.split(o.data))};Vl.split.arity=2;Mn.lower=Vl.lower;Mn.upper=Vl.upper;Vl.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.startsWith(o.data)?Po:io};Vl.startsWith.arity=2;const Tm={};Tm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;const o=await n(e[1],t);if(o.type!=="string")return Me;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Me}s=!0}return rr(i)};Tm.join.arity=2;Tm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Qd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Me};Tm.compact.arity=1;Tm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Qd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Me};Tm.unique.arity=1;const R7={};R7.text=async function(e,t,n){const r=await n(e[0],t),o=await FNt(r);return o===null?Me:Ma(o)};R7.text.arity=1;const $7={};$7.projectId=async function(e,t){return t.context.sanity?Ma(t.context.sanity.projectId):Me};$7.dataset=async function(e,t){return t.context.sanity?Ma(t.context.sanity.dataset):Me};const Gw={};Gw.order=async function(t,n,r,o){if(await!0,!t.isArray())return Me;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=INt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),rr(c.map(d=>d[0]))};Gw.order.arity=e=>e>=1;Gw.score=async function(t,n,r,o){if(!t.isArray())return Me;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await pg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),rr(s)};Gw.score.arity=e=>e>=1;const oh={};oh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Ma("update"):r?Ma("create"):n?Ma("delete"):Me};oh.changedAny=()=>{throw new Error("not implemented")};oh.changedAny.arity=1;oh.changedAny.mode="delta";oh.changedOnly=()=>{throw new Error("not implemented")};oh.changedOnly.arity=1;oh.changedOnly.mode="delta";const Kw={};Kw.changedAny=()=>{throw new Error("not implemented")};Kw.changedAny.arity=3;Kw.changedOnly=()=>{throw new Error("not implemented")};Kw.changedOnly.arity=3;const hd={};hd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data<o)&&(o=i.data)}return rr(o)};hd.min.arity=1;hd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data>o)&&(o=i.data)}return rr(o)};hd.max.arity=1;hd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;o+=i.data}return rr(o)};hd.sum.arity=1;hd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Me;o+=s.data,i++}return i===0?Me:rr(o/i)};hd.avg.arity=1;const M7={};M7.now=async function(t,n,r){return DM(new Xv(n.context.timestamp))};M7.now.arity=0;const NNt={global:Mn,string:Vl,array:Tm,pt:R7,delta:oh,diff:Kw,sanity:$7,math:hd,dateTime:M7};var zNt=Object.defineProperty,VNt=(e,t,n)=>t in e?zNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W1=(e,t,n)=>(VNt(e,typeof t!="symbol"?t+"":t,n),n);class HNt{constructor(t,n,r){W1(this,"string"),W1(this,"marks"),W1(this,"index"),W1(this,"parseOptions"),W1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const UNt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,eO=/^\d+/,sp=/^[a-zA-Z_][a-zA-Z_0-9]*/,M_=1,F_=2,L_=3,eo=4,Xm=4,B_=6,N_=6,z_=7,V_=7,H_=7,U_=8,WNt=10,YNt=10,qNt=8;function GNt(e){let t=0;t=tt(e,t);let n=Tn(e,t,0);return n.type==="error"?n:(t=tt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function Tn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=Tn(e,tt(e,t+1),WNt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=Tn(e,tt(e,t+1),qNt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=Tn(e,tt(e,t+1),0);if(u.type==="error")return u;switch(t=tt(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=tt(e,t+1);;){if(u=Tn(e,t,0),u.type==="error")return u;if(t=tt(e,u.position),e[t]!==",")break;t=tt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=Tn(e,tt(e,t+1),YNt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=PM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=tt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=tt(e,t+3));let u=Tn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=tt(e,t),e[t]!==","||(t=tt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=KNt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=cc(e,t+1,sp);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=cc(e,t,eO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=cc(e,t+1,eO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=cc(e,t,eO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=cc(e,t,sp);if(d){switch(t+=d,e[t]){case":":case"(":{let f=fJ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=tt(e,t);if(u===e.length){t=u;break}if(a=dJ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=dJ(e,tt(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>M_||s<=M_)break e;let p=Tn(e,tt(e,u+2),M_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=M_;break}case"=":{if(n>eo||s<=eo)break e;let p=Tn(e,tt(e,u+2),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=eo;break}default:break e}break}case"+":{if(n>B_||s<B_)break e;let f=Tn(e,tt(e,u+1),B_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=B_;break}case"-":{if(n>N_||s<N_)break e;let f=Tn(e,tt(e,u+1),N_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=N_;break}case"*":{if(e[u+1]==="*"){if(n>U_||s<=U_)break e;let p=Tn(e,tt(e,u+2),U_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=U_;break}if(n>z_||s<z_)break e;let f=Tn(e,tt(e,u+1),z_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=z_;break}case"/":{if(n>V_||s<V_)break e;let f=Tn(e,tt(e,u+1),V_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=V_;break}case"%":{if(n>H_||s<H_)break e;let f=Tn(e,tt(e,u+1),H_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=H_;break}case"<":case">":{if(n>eo||s<=eo)break e;let f=u+1;e[f]==="="&&f++;let p=Tn(e,tt(e,f),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=eo;break}case"|":{if(e[u+1]==="|"){if(n>F_||s<F_)break e;let f=Tn(e,tt(e,u+2),F_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=F_}else{if(n>11||s<11)break e;let f=tt(e,u+1),p=cc(e,f,sp);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=fJ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>L_||s<L_)break e;let f=Tn(e,tt(e,u+2),L_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=L_;break}case"!":{if(e[u+1]!=="="||n>eo||s<=eo)break e;let f=Tn(e,tt(e,u+2),eo+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=eo;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Xm||s<Xm)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Xm;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Xm||s<Xm)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Xm;break}default:switch(ZNt(e,u,sp)){case"in":{if(n>eo||s<=eo)break e;t=tt(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=tt(e,t+1));let m=t,v=Tn(e,t,eo+1);if(v.type==="error")return v;if(t=tt(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=tt(e,t+3)):t=tt(e,t+2);let y=Tn(e,t,eo+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=tt(e,t),e[t]!==")")return{type:"error",position:t};t++}s=eo;break}case"match":{if(n>eo||s<=eo)break e;let p=Tn(e,tt(e,u+5),eo+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function dJ(e,t){let n=t;switch(e[t]){case".":{t=tt(e,t+1);let s=t,a=cc(e,t,sp);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=tt(e,t),i=cc(e,o,sp);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=tt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=Tn(e,t,0);if(a.type==="error")return a;if(t=tt(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=tt(e,t);let u=Tn(e,t,0);return u.type==="error"?u:(t=tt(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=tt(e,t+1),e[t]==="{"){let s=PM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=PM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function fJ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+2);let i=cc(e,n,sp);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=tt(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=tt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=Tn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=tt(e,i.position),e[n]!==","||(n=tt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function PM(e,t){let n=[{name:"object",position:t}];for(t=tt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=tt(e,t+3),e[t]!=="}"&&e[t]!==","){let o=Tn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=Tn(e,t,0);if(o.type==="error")return o;let i=tt(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=Tn(e,tt(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=tt(e,t),e[t]!==",")break;t=tt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function KNt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function tt(e,t){return t+cc(e,t,UNt)}function cc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function ZNt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Da(e,t){return n=>t(e(n))}function OM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function XNt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function mS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Da(e,t.build)};case"a-b":return{type:"a-b",build:Da(e,t.build)};case"b-b":return{type:"a-a",build:Da(e,OM(t.build))};case"b-a":return{type:"a-a",build:Da(e,XNt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function tO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Da(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function QNt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Da(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function JNt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Da(OM(e),t.build)};case"a-b":return{type:"a-b",build:Da(OM(e),t.build)};case"b-a":return{type:"b-a",build:Da(e,t.build)};case"b-b":return{type:"b-b",build:Da(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var ezt=Object.defineProperty,tzt=(e,t,n)=>t in e?ezt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RM=(e,t,n)=>(tzt(e,typeof t!="symbol"?t+"":t,n),n);const nzt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function rzt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Ni extends Error{constructor(){super(...arguments),RM(this,"name","GroqQueryError")}}const ut={group(e){return{type:"Group",base:e.process(ut)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(ut).n+1}},traverse(e){const t=e.process(ut),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(CTe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=mS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(ut)}},pos(e){return{type:"Pos",base:e.process(ut)}},add(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(ut),n=e.processString(),r=e.process(ut);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(ut),n=e.getMark().name==="inc_range";e.shift();const r=e.process(ut),o=e.process(ut);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=nzt[r];break}case"unicode_hex":e.shift(),t+=rzt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(ozt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(ut);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(ut));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Ni("unexpected argument to select()");e.shift();const a=e.process(ut),c=e.process(ut);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Ni("unexpected argument to select()");const a=e.process(ut);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)izt(t,n,r.length)?(e.process($M),r.push({type:"Selector"})):r.push(e.process(ut));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Ni("unexpected boost");const o=NNt[t];if(!o)throw new Ni("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Ni("Undefined function: ".concat(n));if(i.arity!==void 0&&hJ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Ni("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(ut);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Ni("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(ut)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(ut)});continue}}o.push(e.process(ut))}e.shift(),e.allowBoost=i;const s=Gw[r];if(!s)throw new Ni("Undefined pipe function: ".concat(r));return s.arity&&hJ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Ni("unexpected =>")},and(e){const t=e.process(ut),n=e.process(ut);return{type:"And",left:t,right:n}},or(e){const t=e.process(ut),n=e.process(ut);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(ut)}},asc(e){throw new Ni("unexpected asc")},desc(e){throw new Ni("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},ozt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(ut),r=e.process(ut);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(ut);return{type:"ObjectAttributeValue",name:_Te(t),value:t}},object_pair(e){const t=e.process(ut);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(ut);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(ut)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},CTe={square_bracket(e){const t=e.process(ut),n=JP(t);return n&&n.type==="number"?r=>QNt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>tO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>mS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(ut),r=e.process(ut),o=JP(n),i=JP(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Ni("slicing must use constant numbers");return s=>mS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(ut);return n=>JNt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>tO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>tO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>mS(n=>({type:"ArrayCoerce",base:n}),t)}},$M={group(e){return e.process($M),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process($M);e.getMark().name!=="traversal_end";)e.process(CTe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=ut.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function _Te(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return _Te(e.base);throw new Ni("Cannot determine property key for type: ".concat(e.type))}function hJ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Ni("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Ni("Incorrect number of arguments to function ".concat(e,"()."))}function izt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class szt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),RM(this,"position"),RM(this,"name","GroqSyntaxError"),this.position=t}}function STe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=GNt(e);if(n.type==="error")throw new szt(n.position);return new HNt(e,n.marks,t).process(ut)}function azt(e,t=Ott){return n=>{const r=n;let o=null,i=null;const s=new wr,a=s.pipe(ea((c,u)=>c+u,0),it(c=>c===0?Bo(e,t).pipe(xn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Bo(0,t).pipe(xn(()=>{o||(o=r.connect())})):qL));return wnt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var lzt=Object.defineProperty,czt=(e,t,n)=>t in e?lzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t,n)=>(czt(e,typeof t!="symbol"?t+"":t,n),n);const uzt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class kTe{constructor(t,n,r){Qm(this,"model"),Qm(this,"root"),Qm(this,"patch"),Qm(this,"i"),Qm(this,"inputStack"),Qm(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=uzt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Zw(e){return e>>16?4:e>>11?3:e>>7?2:1}function MM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Zw(r);o==4&&n++,t+=o}return t}function pJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Zw(i);s===4&&o++,r+=s}return o}function dzt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Zw(i);r+=a,o+=a===4?2:1}return r}function fzt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=Zw(s);o+=c,i+=c===4?2:1}return o}var hzt=Object.defineProperty,pzt=(e,t,n)=>t in e?hzt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mzt=(e,t,n)=>(pzt(e,typeof t!="symbol"?t+"":t,n),n);class FM{constructor(t){mzt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:MM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(du(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=Zw(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function gzt(e,t){return{data:e,startMeta:t,endMeta:t}}function du(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>du(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=du(o)}}return e.data=t,t}function LM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function BM(e,t){let n=LM(e),r=LM(t);if(n!==r)return t;let o=new FM(e.endMeta),i=new FM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=BM(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=BM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(du(e)===du(t))return e;break}case"string":{let s=du(e),a=du(t);if(s===a)return e;let c=i.copyString(null),u=dzt(s,a),d=fzt(s,a,u),f=MM(a),p=MM(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(du(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function vzt(e,t,n){let r=new FM(n);return new kTe(r,e,t).process()}var sl=Object.freeze({__proto__:null,applyPatch:vzt,getType:LM,rebaseValue:BM,unwrap:du,wrap:gzt});class yzt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=pJ(i,r),a=pJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function NM(e,t){let n=e;return new kTe(new yzt,n,t).process()}function ih(e,t,n){return delete e[t],e[t]=n,n}function bzt(e,t){const n=xzt(e,t);return wzt(n,e,t)}function xzt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function wzt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function Czt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=mJ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return ih(this,"items",c)}}}const r=vJ(e),o=vJ(t);if(r&&o)return Szt(e,r,t,o);const i=mJ(e,t);return i?F7(e,t,i,!1):_zt(e,t)}function F7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function mJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=tA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function _zt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:i.annotation})}return F7(e,t,r,!0)}function Szt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){gJ(t.index,u,d),gJ(r.index,u,f);const m=e.at(d),v=n.at(f),g=tA(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=bzt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Am(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Dm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(kzt),F7(e,n,i,s)}function kzt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function gJ(e,t,n){const r=e.get(t);Ezt(r,n),r.length===0&&e.delete(t)}function Ezt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function vJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function jzt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:e.annotationAt(o)})}return ih(this,"items",r)}}}function Tzt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:e.annotationAt(o)})}return ih(this,"items",r)}}}function Azt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=Dzt(e,t);return ih(this,"segments",i)}}}function Dzt(e,t){const n=[],r=Y9(Nw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case jt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Zn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function Izt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return ih(this,"segments",r)}}}function Pzt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return ih(this,"segments",r)}}}function Ozt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Am(e,void 0),toType:t.type,toValue:t.value,toDiff:Dm(t,void 0),annotation:t.annotation}}const yJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function Rzt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(yJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=tA(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Am(c,void 0),o=!0}for(const a of t.keys){if(yJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Dm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function $zt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Am(i,void 0)}return ih(this,"fields",r)}}}function Mzt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Dm(i,void 0)}return ih(this,"fields",r)}}}function Fzt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function Lzt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function tA(e,t){return e.type!==t.type?e.type==="null"?Dm(t,null):t.type==="null"?Am(e,null):Ozt(e,t):Bzt(e.type,e,t)}function Bzt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return Lzt(t,n);case"number":return Fzt(t,n);case"string":return Azt(t,n);case"array":return Czt(t,n);case"object":return Rzt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Am(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return Izt(e,t);case"array":return jzt(e,t);case"object":return $zt(e,t);default:throw new Error("Unhandled diff type")}}function Dm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return Pzt(e,t);case"array":return Tzt(e,t);case"object":return Mzt(e,t);default:throw new Error("Unhandled diff type")}}class Nzt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=L7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class zzt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=L7(r,this.annotation)}}let Vzt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class nO{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function L7(e,t){if(Array.isArray(e))return new Nzt(e,t);if(e===null)return new nO("null",e,t);const n=typeof e;switch(n){case"number":return new nO(n,e,t);case"boolean":return new nO(n,e,t);case"object":return new zzt(e,t);case"string":return new Vzt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var Hzt=Math.floor,Uzt=Math.random;function Wzt(e,t){return e+Hzt(Uzt()*(t-e+1))}var Yzt=Wzt,qzt=Yzt;function Gzt(e){var t=e.length;return t?e[qzt(0,t-1)]:void 0}var ETe=Gzt,Kzt=ETe,Zzt=uTe;function Xzt(e){return Kzt(Zzt(e))}var Qzt=Xzt,Jzt=ETe,eVt=Qzt,tVt=Qr;function nVt(e){var t=tVt(e)?Jzt:eVt;return t(e)}var rVt=nVt;const oVt=Pe(rVt);var iVt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=cVt(r),this._batchScheduleFn=uVt(r),this._cacheKeyFn=dVt(r),this._cacheMap=fVt(r),this._batch=null,this.name=hVt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=aVt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!jTe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),sVt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){rO||(rO=Promise.resolve()),rO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},rO;function aVt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){lVt(e,n)}),n}function lVt(e,t){if(t.hasDispatched=!0,t.keys.length===0){zM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return oO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return oO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!jTe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));zM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){oO(e,t,r)})}function oO(e,t,n){zM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function zM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function cVt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function uVt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return sVt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function dVt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function fVt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function hVt(e){return e&&e.name?e.name:null}function jTe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var pVt=iVt;const mVt=Pe(pVt);var nA={exports:{}},ky={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?ky.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(ky.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(ky.exports=function(){return Date.now()-n},n=Date.now()):(ky.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(vs);var gVt=ky.exports,vVt=gVt,ku=typeof window>"u"?vs:window,W_=["moz","webkit"],mv="AnimationFrame",Jv=ku["request"+mv],kx=ku["cancel"+mv]||ku["cancelRequest"+mv];for(var Y1=0;!Jv&&Y1<W_.length;Y1++)Jv=ku[W_[Y1]+"Request"+mv],kx=ku[W_[Y1]+"Cancel"+mv]||ku[W_[Y1]+"CancelRequest"+mv];if(!Jv||!kx){var iO=0,bJ=0,Ch=[],yVt=1e3/60;Jv=function(e){if(Ch.length===0){var t=vVt(),n=Math.max(0,yVt-(t-iO));iO=n+t,setTimeout(function(){var r=Ch.slice(0);Ch.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(iO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Ch.push({handle:++bJ,callback:e,cancelled:!1}),bJ},kx=function(e){for(var t=0;t<Ch.length;t++)Ch[t].handle===e&&(Ch[t].cancelled=!0)}}nA.exports=function(e){return Jv.call(ku,e)};nA.exports.cancel=function(){kx.apply(ku,arguments)};nA.exports.polyfill=function(e){e||(e=ku),e.requestAnimationFrame=Jv,e.cancelAnimationFrame=kx};var bVt=nA.exports;const xVt=Pe(bVt);function mb(e,t,n){return Math.min(Math.max(e,n),t)}class wVt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ey=wVt;function TTe(e){if(typeof e!="string")throw new Ey(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=AVt.test(e)?SVt(e):e;const n=kVt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Ex(a,2),16)),parseInt(Ex(s[3]||"f",2),16)/255]}const r=EVt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=jVt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=TVt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(mb(0,100,a)!==a)throw new Ey(e);if(mb(0,100,c)!==c)throw new Ey(e);return[...DVt(s,a,c),Number.isNaN(u)?1:u]}throw new Ey(e)}function CVt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const xJ=e=>parseInt(e.replace(/_/g,""),36),_Vt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=xJ(t.substring(0,3)),r=xJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function SVt(e){const t=e.toLowerCase().trim(),n=_Vt[CVt(t)];if(!n)throw new Ey(e);return`#${n}`}const Ex=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),kVt=new RegExp(`^#${Ex("([a-f0-9])",3)}([a-f0-9])?$`,"i"),EVt=new RegExp(`^#${Ex("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),jVt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ex(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),TVt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,AVt=/^[a-z]+$/i,wJ=e=>Math.round(e*255),DVt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(wJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(wJ)};function IVt(e){const[t,n,r,o]=TTe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function PVt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${mb(0,100,t*100).toFixed()}%, ${mb(0,100,n*100).toFixed()}%, ${parseFloat(mb(0,1,r).toFixed(3))})`}function ATe(e,t){const[n,r,o,i]=IVt(e);return PVt(n,r,o-t,i)}function VM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=TTe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function OVt(e,t){const n=VM(e),r=VM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const RVt={decorative:1.5,readable:3,aa:4.5,aaa:7};function CJ(e,t="aa",n="#fff"){return OVt(e,n)<RVt[t]}function $Vt(e,t){return ATe(e,-t)}function MVt(e){return VM(e)>.179}function FVt(e){return MVt(e)?"#000":"#fff"}var DTe,_J=fc;DTe=_J.createRoot,_J.hydrateRoot;var U0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ITe=h;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cs=Object.prototype.hasOwnProperty,LVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SJ={},kJ={};function PTe(e){return cs.call(kJ,e)?!0:cs.call(SJ,e)?!1:LVt.test(e)?kJ[e]=!0:(SJ[e]=!0,!1)}function rs(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oi[e]=new rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oi[t]=new rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oi[e]=new rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oi[e]=new rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oi[e]=new rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oi[e]=new rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oi[e]=new rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oi[e]=new rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oi[e]=new rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var B7=/[\-:]([a-z])/g;function N7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B7,N7);oi[t]=new rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B7,N7);oi[t]=new rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B7,N7);oi[t]=new rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oi[e]=new rs(e,1,!1,e.toLowerCase(),null,!1,!1)});oi.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oi[e]=new rs(e,1,!1,e.toLowerCase(),null,!0,!0)});var gS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BVt=["Webkit","ms","Moz","O"];Object.keys(gS).forEach(function(e){BVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gS[t]=gS[e]})});var NVt=/["'&<>]/;function Wi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=NVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var zVt=/([A-Z])/g,VVt=/^ms-/,HM=Array.isArray;function Qc(e,t){return{insertionMode:e,selectedValue:t}}function HVt(e,t,n){switch(t){case"select":return Qc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Qc(2,null);case"math":return Qc(3,null);case"foreignObject":return Qc(1,null);case"table":return Qc(4,null);case"thead":case"tbody":case"tfoot":return Qc(5,null);case"colgroup":return Qc(7,null);case"tr":return Qc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Qc(1,null):e}var EJ=new Map;function OTe(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(cs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Wi(r);o=Wi((""+o).trim())}else{i=r;var s=EJ.get(i);s!==void 0||(s=Wi(i.replace(zVt,"-$1").toLowerCase().replace(VVt,"-ms-")),EJ.set(i,s)),i=s,o=typeof o=="number"?o===0||cs.call(gS,r)?""+o:o+"px":Wi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function Os(e,t,n,r){switch(n){case"style":OTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=oi.hasOwnProperty(n)?oi[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Wi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Wi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Wi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Wi(r),'"')}}else if(PTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Wi(r),'"')}}}function vS(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(""+t)}}function UVt(e){var t="";return ITe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function sO(e,t,n,r){e.push(ec(n));var o=n=null,i;for(i in t)if(cs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Os(e,r,i,s)}}return e.push(">"),vS(e,o,n),typeof n=="string"?(e.push(Wi(n)),null):n}var WVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,jJ=new Map;function ec(e){var t=jJ.get(e);if(t===void 0){if(!WVt.test(e))throw Error(Et(65,e));t="<"+e,jJ.set(e,t)}return t}function YVt(e,t,n,r,o){switch(t){case"select":e.push(ec("select"));var i=null,s=null;for(d in n)if(cs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Os(e,r,d,a)}}return e.push(">"),vS(e,s,i),i;case"option":s=o.selectedValue,e.push(ec("option"));var c=a=null,u=null,d=null;for(i in n)if(cs.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Os(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:UVt(a),HM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),vS(e,d,a),a;case"textarea":e.push(ec("textarea")),d=s=i=null;for(a in n)if(cs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:Os(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(Et(92));if(HM(d)&&1<d.length)throw Error(Et(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Wi(""+i)),null;case"input":e.push(ec("input")),c=d=a=i=null;for(s in n)if(cs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Os(e,r,s,u)}return d!==null?Os(e,r,"checked",d):c!==null&&Os(e,r,"checked",c),i!==null?Os(e,r,"value",i):a!==null&&Os(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(ec("menuitem"));for(var p in n)if(cs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:Os(e,r,p,i)}return e.push(">"),null;case"title":e.push(ec("title")),i=null;for(f in n)if(cs.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:Os(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(ec(t)),s=i=null;for(c in n)if(cs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Os(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(Et(60));if(typeof s!="object"||!("__html"in s))throw Error(Et(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ec(t));for(var m in n)if(cs.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:Os(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return sO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),sO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return sO(e,n,t,r);e.push(ec(t)),s=i=null;for(u in n)if(cs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":OTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:PTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Wi(a),'"')}return e.push(">"),vS(e,s,i),i}}function TJ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Et(395));return e.push(n),e.push('"></template>')}function qVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Et(397))}}function GVt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Et(397))}}var KVt=/[<\u2028\u2029]/g;function aO(e){return JSON.stringify(e).replace(KVt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function ZVt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function AJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Wi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Wi(t)),e=!0),e)}var gb=Object.assign,XVt=Symbol.for("react.element"),RTe=Symbol.for("react.portal"),$Te=Symbol.for("react.fragment"),MTe=Symbol.for("react.strict_mode"),FTe=Symbol.for("react.profiler"),LTe=Symbol.for("react.provider"),BTe=Symbol.for("react.context"),NTe=Symbol.for("react.forward_ref"),zTe=Symbol.for("react.suspense"),VTe=Symbol.for("react.suspense_list"),HTe=Symbol.for("react.memo"),z7=Symbol.for("react.lazy"),QVt=Symbol.for("react.scope"),JVt=Symbol.for("react.debug_trace_mode"),eHt=Symbol.for("react.legacy_hidden"),tHt=Symbol.for("react.default_value"),DJ=Symbol.iterator;function UM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $Te:return"Fragment";case RTe:return"Portal";case FTe:return"Profiler";case MTe:return"StrictMode";case zTe:return"Suspense";case VTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BTe:return(e.displayName||"Context")+".Consumer";case LTe:return(e._context.displayName||"Context")+".Provider";case NTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HTe:return t=e.displayName||null,t!==null?t:UM(e.type)||"Memo";case z7:t=e._payload,e=e._init;try{return UM(e(t))}catch{}}return null}var UTe={};function IJ(e,t){if(e=e.contextTypes,!e)return UTe;var n={},r;for(r in e)n[r]=t[r];return n}var ap=null;function rA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));rA(e,n)}t.context._currentValue2=t.value}}function WTe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&WTe(e)}function YTe(e){var t=e.parent;t!==null&&YTe(t),e.context._currentValue2=e.value}function qTe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?rA(e,t):qTe(e,t)}function GTe(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?rA(e,n):GTe(e,n),t.context._currentValue2=t.value}function qE(e){var t=ap;t!==e&&(t===null?YTe(e):e===null?WTe(t):t.depth===e.depth?rA(t,e):t.depth>e.depth?qTe(t,e):GTe(t,e),ap=e)}var PJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function OJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=PJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:gb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&PJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=gb({},i,a)):gb(i,a))}e.state=i}else i.queue=null}var nHt={id:1,overflow:""};function WM(e,t,n){var r=e.id;e=e.overflow;var o=32-yS(r)-1;r&=~(1<<o),n+=1;var i=32-yS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-yS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var yS=Math.clz32?Math.clz32:iHt,rHt=Math.log,oHt=Math.LN2;function iHt(e){return e>>>=0,e===0?32:31-(rHt(e)/oHt|0)|0}function sHt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aHt=typeof Object.is=="function"?Object.is:sHt,Yu=null,V7=null,bS=null,Hn=null,jy=!1,GE=!1,jx=0,Jd=null,oA=0;function Wh(){if(Yu===null)throw Error(Et(321));return Yu}function RJ(){if(0<oA)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function H7(){return Hn===null?bS===null?(jy=!1,bS=Hn=RJ()):(jy=!0,Hn=bS):Hn.next===null?(jy=!1,Hn=Hn.next=RJ()):(jy=!0,Hn=Hn.next),Hn}function U7(){V7=Yu=null,GE=!1,bS=null,oA=0,Hn=Jd=null}function KTe(e,t){return typeof t=="function"?t(e):t}function $J(e,t,n){if(Yu=Wh(),Hn=H7(),jy){var r=Hn.queue;if(t=r.dispatch,Jd!==null&&(n=Jd.get(r),n!==void 0)){Jd.delete(r),r=Hn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Hn.memoizedState=r,[r,t]}return[Hn.memoizedState,t]}return e=e===KTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Hn.memoizedState=e,e=Hn.queue={last:null,dispatch:null},e=e.dispatch=lHt.bind(null,Yu,e),[Hn.memoizedState,e]}function MJ(e,t){if(Yu=Wh(),Hn=H7(),t=t===void 0?null:t,Hn!==null){var n=Hn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!aHt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Hn.memoizedState=[e,t],e}function lHt(e,t,n){if(25<=oA)throw Error(Et(301));if(e===Yu)if(GE=!0,e={action:n,next:null},Jd===null&&(Jd=new Map),n=Jd.get(t),n===void 0)Jd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function cHt(){throw Error(Et(394))}function Y_(){}var FJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Wh(),e._currentValue2},useMemo:MJ,useReducer:$J,useRef:function(e){Yu=Wh(),Hn=H7();var t=Hn.memoizedState;return t===null?(e={current:e},Hn.memoizedState=e):t},useState:function(e){return $J(KTe,e)},useInsertionEffect:Y_,useLayoutEffect:function(){},useCallback:function(e,t){return MJ(function(){return e},t)},useImperativeHandle:Y_,useEffect:Y_,useDebugValue:Y_,useDeferredValue:function(e){return Wh(),e},useTransition:function(){return Wh(),[!1,cHt]},useId:function(){var e=V7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-yS(e)-1)).toString(32)+t;var n=xS;if(n===null)throw Error(Et(404));return t=jx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Wh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},xS=null,lO=ITe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function uHt(e){return console.error(e),null}function Ty(){}function dHt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?uHt:o,onAllReady:i===void 0?Ty:i,onShellReady:s===void 0?Ty:s,onShellError:a===void 0?Ty:a,onFatalError:c===void 0?Ty:c},n=KE(t,0,null,n,!1,!1),n.parentFlushed=!0,e=W7(t,e,null,n,d,UTe,null,nHt),u.push(e),t}function W7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&QTe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function KE(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Tx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ZE(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function LJ(e,t,n,r,o){for(Yu={},V7=t,jx=0,e=n(r,o);GE;)GE=!1,jx=0,oA+=1,Hn=null,e=n(r,o);return U7(),e}function BJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Et(108,UM(r)||"Unknown",a));r=gb({},s,n)}t.legacyContext=r,Ls(e,t,o),t.legacyContext=s}else Ls(e,t,o)}function NJ(e,t){if(e&&e.defaultProps){t=gb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function YM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=IJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),OJ(i,n,r,o),BJ(e,t,i,n)}else{i=IJ(n,t.legacyContext),o=LJ(e,t,n,r,i);var s=jx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)OJ(o,n,r,i),BJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=WM(r,1,0);try{Ls(e,t,o)}finally{t.treeContext=r}}else Ls(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=YVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=HVt(s,n,r),qM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case eHt:case JVt:case MTe:case FTe:case $Te:Ls(e,t,r.children);return;case VTe:Ls(e,t,r.children);return;case QVt:throw Error(Et(343));case zTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=KE(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=KE(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(qM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,XE(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Tx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=W7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case NTe:if(r=LJ(e,t,n.render,r,o),jx!==0){n=t.treeContext,t.treeContext=WM(n,1,0);try{Ls(e,t,r)}finally{t.treeContext=n}}else Ls(e,t,r);return;case HTe:n=n.type,r=NJ(n,r),YM(e,t,n,r,o);return;case LTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=ap,ap=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ls(e,t,o),e=ap,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue2=r===tHt?e.context._defaultValue:r,e=ap=e.parent,t.context=e;return;case BTe:r=r.children,r=r(n._currentValue2),Ls(e,t,r);return;case z7:o=n._init,n=o(n._payload),r=NJ(n,r),YM(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Ls(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case XVt:YM(e,t,n.type,n.props,n.ref);return;case RTe:throw Error(Et(257));case z7:var r=n._init;n=r(n._payload),Ls(e,t,n);return}if(HM(n)){zJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=DJ&&n[DJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);zJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=AJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=AJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function zJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=WM(i,r,o);try{qM(e,t,n[o])}finally{t.treeContext=i}}}function qM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ls(e,t,n)}catch(c){if(U7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=KE(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=W7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,qE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,qE(i),c}}function fHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,XTe(this,t,e)}function ZTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return ZTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function XE(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&XE(e,n)}else e.completedSegments.push(t)}function XTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ty,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&XE(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(fHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(XE(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function QTe(e){if(e.status!==2){var t=ap,n=lO.current;lO.current=FJ;var r=xS;xS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){qE(s.context);try{Ls(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,XTe(a,s.blockedBoundary,c)}catch(v){if(U7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Tx(a,f);if(d===null?ZE(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&Y7(e,e.destination)}catch(v){Tx(e,v),ZE(e,v)}finally{xS=r,lO.current=n,n===FJ&&qE(t)}}}function q_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=iA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(Et(390))}}function iA(e,t,n){var r=n.boundary;if(r===null)return q_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Wi(r),t.push(r),t.push('"')),t.push("></template>")),q_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,TJ(t,e.responseState,r),q_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),TJ(t,e.responseState,r.id),q_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Et(391));return iA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function VJ(e,t,n){return qVt(t,e.responseState,n.formatContext,n.id),iA(e,t,n),GVt(t,n.formatContext)}function HJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)JTe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Et(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function JTe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return VJ(e,t,r)}return VJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function Y7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){iA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(Et(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=aO(u||"");r.push(p)}if(d||f){r.push(",");var m=aO(d||"");r.push(m)}if(f){r.push(",");var v=aO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!HJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!JTe(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!HJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function hHt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return ZTe(r,e,t)}),n.clear(),e.destination!==null&&Y7(e,e.destination)}catch(r){Tx(e,r),ZE(e,r)}}function pHt(){}function eAe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=dHt(e,ZVt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,pHt,void 0,function(){c=!0},void 0,void 0),QTe(e),hHt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{Y7(e,a)}catch(u){Tx(e,u),ZE(e,u)}}if(o)throw i;if(!c)throw Error(Et(426));return s}U0.renderToNodeStream=function(){throw Error(Et(207))};U0.renderToStaticMarkup=function(e,t){return eAe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};U0.renderToStaticNodeStream=function(){throw Error(Et(208))};U0.renderToString=function(e,t){return eAe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};U0.version="18.2.0";var q7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tAe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bs=null,Ns=0;function Qe(e,t){if(t.length!==0)if(512<t.length)0<Ns&&(e.enqueue(new Uint8Array(Bs.buffer,0,Ns)),Bs=new Uint8Array(512),Ns=0),e.enqueue(t);else{var n=Bs.length-Ns;n<t.length&&(n===0?e.enqueue(Bs):(Bs.set(t.subarray(0,n),Ns),e.enqueue(Bs),t=t.subarray(n)),Bs=new Uint8Array(512),Ns=0),Bs.set(t,Ns),Ns+=t.length}}function or(e,t){return Qe(e,t),!0}function UJ(e){Bs&&0<Ns&&(e.enqueue(new Uint8Array(Bs.buffer,0,Ns)),Bs=null,Ns=0)}var nAe=new TextEncoder;function Mt(e){return nAe.encode(e)}function Fe(e){return nAe.encode(e)}function rAe(e,t){typeof e.error=="function"?e.error(t):e.close()}var us=Object.prototype.hasOwnProperty,mHt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WJ={},YJ={};function oAe(e){return us.call(YJ,e)?!0:us.call(WJ,e)?!1:mHt.test(e)?YJ[e]=!0:(WJ[e]=!0,!1)}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var G7=/[\-:]([a-z])/g;function K7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G7,K7);ii[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G7,K7);ii[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G7,K7);ii[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var wS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gHt=["Webkit","ms","Moz","O"];Object.keys(wS).forEach(function(e){gHt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wS[t]=wS[e]})});var vHt=/["'&<>]/;function Qo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=vHt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var yHt=/([A-Z])/g,bHt=/^ms-/,GM=Array.isArray,xHt=Fe("<script>"),wHt=Fe("<\/script>"),CHt=Fe('<script src="'),_Ht=Fe('<script type="module" src="'),qJ=Fe('" async=""><\/script>'),SHt=/(<\/|<)(s)(cript)/gi;function kHt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function EHt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?xHt:Fe('<script nonce="'+Qo(t)+'">');var i=[];if(n!==void 0&&i.push(t,Mt((""+n).replace(SHt,kHt)),wHt),r!==void 0)for(n=0;n<r.length;n++)i.push(CHt,Mt(Qo(r[n])),qJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(_Ht,Mt(Qo(o[r])),qJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function tc(e,t){return{insertionMode:e,selectedValue:t}}function jHt(e){return tc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function THt(e,t,n){switch(t){case"select":return tc(1,n.value!=null?n.value:n.defaultValue);case"svg":return tc(2,null);case"math":return tc(3,null);case"foreignObject":return tc(1,null);case"table":return tc(4,null);case"thead":case"tbody":case"tfoot":return tc(5,null);case"colgroup":return tc(7,null);case"tr":return tc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?tc(1,null):e}var Z7=Fe("<!-- -->");function GJ(e,t,n,r){return t===""?r:(r&&e.push(Z7),e.push(Mt(Qo(t))),!0)}var KJ=new Map,AHt=Fe(' style="'),ZJ=Fe(":"),DHt=Fe(";");function iAe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(us.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Mt(Qo(r));o=Mt(Qo((""+o).trim()))}else{i=r;var s=KJ.get(i);s!==void 0||(s=Fe(Qo(i.replace(yHt,"-$1").toLowerCase().replace(bHt,"-ms-"))),KJ.set(i,s)),i=s,o=typeof o=="number"?o===0||us.call(wS,r)?Mt(""+o):Mt(o+"px"):Mt(Qo((""+o).trim()))}t?(t=!1,e.push(AHt,i,ZJ,o)):e.push(DHt,i,ZJ,o)}}t||e.push(Yh)}var kd=Fe(" "),mg=Fe('="'),Yh=Fe('"'),XJ=Fe('=""');function Rs(e,t,n,r){switch(n){case"style":iAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ii.hasOwnProperty(n)?ii[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Mt(t.attributeName),t.type){case 3:r&&e.push(kd,n,XJ);break;case 4:r===!0?e.push(kd,n,XJ):r!==!1&&e.push(kd,n,mg,Mt(Qo(r)),Yh);break;case 5:isNaN(r)||e.push(kd,n,mg,Mt(Qo(r)),Yh);break;case 6:!isNaN(r)&&1<=r&&e.push(kd,n,mg,Mt(Qo(r)),Yh);break;default:t.sanitizeURL&&(r=""+r),e.push(kd,n,mg,Mt(Qo(r)),Yh)}}else if(oAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(kd,Mt(n),mg,Mt(Qo(r)),Yh)}}}var Ed=Fe(">"),QJ=Fe("/>");function CS(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push(Mt(""+t))}}function IHt(e){var t="";return tAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var cO=Fe(' selected=""');function uO(e,t,n,r){e.push(nc(n));var o=n=null,i;for(i in t)if(us.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Rs(e,r,i,s)}}return e.push(Ed),CS(e,o,n),typeof n=="string"?(e.push(Mt(Qo(n))),null):n}var dO=Fe(`
`),PHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,JJ=new Map;function nc(e){var t=JJ.get(e);if(t===void 0){if(!PHt.test(e))throw Error(Ot(65,e));t=Fe("<"+e),JJ.set(e,t)}return t}var OHt=Fe("<!DOCTYPE html>");function RHt(e,t,n,r,o){switch(t){case"select":e.push(nc("select"));var i=null,s=null;for(d in n)if(us.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Rs(e,r,d,a)}}return e.push(Ed),CS(e,s,i),i;case"option":s=o.selectedValue,e.push(nc("option"));var c=a=null,u=null,d=null;for(i in n)if(us.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Rs(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:IHt(a),GM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(cO);break}}else""+s===n&&e.push(cO);else u&&e.push(cO);return e.push(Ed),CS(e,d,a),a;case"textarea":e.push(nc("textarea")),d=s=i=null;for(a in n)if(us.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:Rs(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Ed),d!=null){if(i!=null)throw Error(Ot(92));if(GM(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(dO),i!==null&&e.push(Mt(Qo(""+i))),null;case"input":e.push(nc("input")),c=d=a=i=null;for(s in n)if(us.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Rs(e,r,s,u)}return d!==null?Rs(e,r,"checked",d):c!==null&&Rs(e,r,"checked",c),i!==null?Rs(e,r,"value",i):a!==null&&Rs(e,r,"value",a),e.push(QJ),null;case"menuitem":e.push(nc("menuitem"));for(var p in n)if(us.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:Rs(e,r,p,i)}return e.push(Ed),null;case"title":e.push(nc("title")),i=null;for(f in n)if(us.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:Rs(e,r,f,s)}return e.push(Ed),i;case"listing":case"pre":e.push(nc(t)),s=i=null;for(c in n)if(us.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Rs(e,r,c,a)}if(e.push(Ed),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(dO,Mt(n)):e.push(Mt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(dO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(nc(t));for(var m in n)if(us.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:Rs(e,r,m,i)}return e.push(QJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return uO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(OHt),uO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return uO(e,n,t,r);e.push(nc(t)),s=i=null;for(u in n)if(us.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":iAe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:oAe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(kd,Mt(u),mg,Mt(Qo(a)),Yh)}return e.push(Ed),CS(e,s,i),i}}var $Ht=Fe("</"),MHt=Fe(">"),FHt=Fe('<template id="'),LHt=Fe('"></template>'),BHt=Fe("<!--$-->"),NHt=Fe('<!--$?--><template id="'),zHt=Fe('"></template>'),VHt=Fe("<!--$!-->"),HHt=Fe("<!--/$-->"),UHt=Fe("<template"),WHt=Fe('"'),YHt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var qHt=Fe("></template>");function eee(e,t,n){if(Qe(e,NHt),n===null)throw Error(Ot(395));return Qe(e,n),or(e,zHt)}var GHt=Fe('<div hidden id="'),KHt=Fe('">'),ZHt=Fe("</div>"),XHt=Fe('<svg aria-hidden="true" style="display:none" id="'),QHt=Fe('">'),JHt=Fe("</svg>"),eUt=Fe('<math aria-hidden="true" style="display:none" id="'),tUt=Fe('">'),nUt=Fe("</math>"),rUt=Fe('<table hidden id="'),oUt=Fe('">'),iUt=Fe("</table>"),sUt=Fe('<table hidden><tbody id="'),aUt=Fe('">'),lUt=Fe("</tbody></table>"),cUt=Fe('<table hidden><tr id="'),uUt=Fe('">'),dUt=Fe("</tr></table>"),fUt=Fe('<table hidden><colgroup id="'),hUt=Fe('">'),pUt=Fe("</colgroup></table>");function mUt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Qe(e,GHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,KHt);case 2:return Qe(e,XHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,QHt);case 3:return Qe(e,eUt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,tUt);case 4:return Qe(e,rUt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,oUt);case 5:return Qe(e,sUt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,aUt);case 6:return Qe(e,cUt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,uUt);case 7:return Qe(e,fUt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),or(e,hUt);default:throw Error(Ot(397))}}function gUt(e,t){switch(t.insertionMode){case 0:case 1:return or(e,ZHt);case 2:return or(e,JHt);case 3:return or(e,nUt);case 4:return or(e,iUt);case 5:return or(e,lUt);case 6:return or(e,dUt);case 7:return or(e,pUt);default:throw Error(Ot(397))}}var vUt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),yUt=Fe('$RS("'),bUt=Fe('","'),xUt=Fe('")<\/script>'),wUt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),CUt=Fe('$RC("'),_Ut=Fe('","'),SUt=Fe('")<\/script>'),kUt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),EUt=Fe('$RX("'),jUt=Fe('"'),TUt=Fe(")<\/script>"),fO=Fe(","),AUt=/[<\u2028\u2029]/g;function hO(e){return JSON.stringify(e).replace(AUt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var vb=Object.assign,DUt=Symbol.for("react.element"),sAe=Symbol.for("react.portal"),aAe=Symbol.for("react.fragment"),lAe=Symbol.for("react.strict_mode"),cAe=Symbol.for("react.profiler"),uAe=Symbol.for("react.provider"),dAe=Symbol.for("react.context"),fAe=Symbol.for("react.forward_ref"),hAe=Symbol.for("react.suspense"),pAe=Symbol.for("react.suspense_list"),mAe=Symbol.for("react.memo"),X7=Symbol.for("react.lazy"),IUt=Symbol.for("react.scope"),PUt=Symbol.for("react.debug_trace_mode"),OUt=Symbol.for("react.legacy_hidden"),RUt=Symbol.for("react.default_value"),tee=Symbol.iterator;function KM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case aAe:return"Fragment";case sAe:return"Portal";case cAe:return"Profiler";case lAe:return"StrictMode";case hAe:return"Suspense";case pAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dAe:return(e.displayName||"Context")+".Consumer";case uAe:return(e._context.displayName||"Context")+".Provider";case fAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mAe:return t=e.displayName||null,t!==null?t:KM(e.type)||"Memo";case X7:t=e._payload,e=e._init;try{return KM(e(t))}catch{}}return null}var gAe={};function nee(e,t){if(e=e.contextTypes,!e)return gAe;var n={},r;for(r in e)n[r]=t[r];return n}var lp=null;function sA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));sA(e,n)}t.context._currentValue=t.value}}function vAe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&vAe(e)}function yAe(e){var t=e.parent;t!==null&&yAe(t),e.context._currentValue=e.value}function bAe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?sA(e,t):bAe(e,t)}function xAe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?sA(e,n):xAe(e,n),t.context._currentValue=t.value}function QE(e){var t=lp;t!==e&&(t===null?yAe(e):e===null?vAe(t):t.depth===e.depth?sA(t,e):t.depth>e.depth?bAe(t,e):xAe(t,e),lp=e)}var ree={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function oee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=ree,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:vb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&ree.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=vb({},i,a)):vb(i,a))}e.state=i}else i.queue=null}var $Ut={id:1,overflow:""};function ZM(e,t,n){var r=e.id;e=e.overflow;var o=32-_S(r)-1;r&=~(1<<o),n+=1;var i=32-_S(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-_S(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var _S=Math.clz32?Math.clz32:LUt,MUt=Math.log,FUt=Math.LN2;function LUt(e){return e>>>=0,e===0?32:31-(MUt(e)/FUt|0)|0}function BUt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NUt=typeof Object.is=="function"?Object.is:BUt,qu=null,Q7=null,SS=null,Un=null,Ay=!1,JE=!1,Ax=0,ef=null,aA=0;function qh(){if(qu===null)throw Error(Ot(321));return qu}function iee(){if(0<aA)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function J7(){return Un===null?SS===null?(Ay=!1,SS=Un=iee()):(Ay=!0,Un=SS):Un.next===null?(Ay=!1,Un=Un.next=iee()):(Ay=!0,Un=Un.next),Un}function eB(){Q7=qu=null,JE=!1,SS=null,aA=0,Un=ef=null}function wAe(e,t){return typeof t=="function"?t(e):t}function see(e,t,n){if(qu=qh(),Un=J7(),Ay){var r=Un.queue;if(t=r.dispatch,ef!==null&&(n=ef.get(r),n!==void 0)){ef.delete(r),r=Un.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Un.memoizedState=r,[r,t]}return[Un.memoizedState,t]}return e=e===wAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Un.memoizedState=e,e=Un.queue={last:null,dispatch:null},e=e.dispatch=zUt.bind(null,qu,e),[Un.memoizedState,e]}function aee(e,t){if(qu=qh(),Un=J7(),t=t===void 0?null:t,Un!==null){var n=Un.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!NUt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Un.memoizedState=[e,t],e}function zUt(e,t,n){if(25<=aA)throw Error(Ot(301));if(e===qu)if(JE=!0,e={action:n,next:null},ef===null&&(ef=new Map),n=ef.get(t),n===void 0)ef.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function VUt(){throw Error(Ot(394))}function G_(){}var lee={readContext:function(e){return e._currentValue},useContext:function(e){return qh(),e._currentValue},useMemo:aee,useReducer:see,useRef:function(e){qu=qh(),Un=J7();var t=Un.memoizedState;return t===null?(e={current:e},Un.memoizedState=e):t},useState:function(e){return see(wAe,e)},useInsertionEffect:G_,useLayoutEffect:function(){},useCallback:function(e,t){return aee(function(){return e},t)},useImperativeHandle:G_,useEffect:G_,useDebugValue:G_,useDeferredValue:function(e){return qh(),e},useTransition:function(){return qh(),[!1,VUt]},useId:function(){var e=Q7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-_S(e)-1)).toString(32)+t;var n=kS;if(n===null)throw Error(Ot(404));return t=Ax++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},kS=null,pO=tAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function HUt(e){return console.error(e),null}function Dy(){}function UUt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?HUt:o,onAllReady:i===void 0?Dy:i,onShellReady:s===void 0?Dy:s,onShellError:a===void 0?Dy:a,onFatalError:c===void 0?Dy:c},n=e5(t,0,null,n,!1,!1),n.parentFlushed=!0,e=tB(t,e,null,n,d,gAe,null,$Ut),u.push(e),t}function tB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&SAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function e5(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Dx(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function t5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,rAe(e.destination,t)):(e.status=1,e.fatalError=t)}function cee(e,t,n,r,o){for(qu={},Q7=t,Ax=0,e=n(r,o);JE;)JE=!1,Ax=0,aA+=1,Un=null,e=n(r,o);return eB(),e}function uee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,KM(r)||"Unknown",a));r=vb({},s,n)}t.legacyContext=r,zs(e,t,o),t.legacyContext=s}else zs(e,t,o)}function dee(e,t){if(e&&e.defaultProps){t=vb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function XM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=nee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),oee(i,n,r,o),uee(e,t,i,n)}else{i=nee(n,t.legacyContext),o=cee(e,t,n,r,i);var s=Ax!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)oee(o,n,r,i),uee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=ZM(r,1,0);try{zs(e,t,o)}finally{t.treeContext=r}}else zs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=RHt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=THt(s,n,r),QM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push($Ht,Mt(n),MHt)}o.lastPushedText=!1}else{switch(n){case OUt:case PUt:case lAe:case cAe:case aAe:zs(e,t,r.children);return;case pAe:zs(e,t,r.children);return;case IUt:throw Error(Ot(343));case hAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=e5(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=e5(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(QM(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(Z7),u.status=1,n5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Dx(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=tB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case fAe:if(r=cee(e,t,n.render,r,o),Ax!==0){n=t.treeContext,t.treeContext=ZM(n,1,0);try{zs(e,t,r)}finally{t.treeContext=n}}else zs(e,t,r);return;case mAe:n=n.type,r=dee(n,r),XM(e,t,n,r,o);return;case uAe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=lp,lp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,zs(e,t,o),e=lp,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===RUt?e.context._defaultValue:r,e=lp=e.parent,t.context=e;return;case dAe:r=r.children,r=r(n._currentValue),zs(e,t,r);return;case X7:o=n._init,n=o(n._payload),r=dee(n,r),XM(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function zs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case DUt:XM(e,t,n.type,n.props,n.ref);return;case sAe:throw Error(Ot(257));case X7:var r=n._init;n=r(n._payload),zs(e,t,n);return}if(GM(n)){fee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=tee&&n[tee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);fee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=GJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=GJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function fee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=ZM(i,r,o);try{QM(e,t,n[o])}finally{t.treeContext=i}}}function QM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return zs(e,t,n)}catch(c){if(eB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=e5(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=tB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,QE(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,QE(i),c}}function WUt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,_Ae(this,t,e)}function CAe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return CAe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function n5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&n5(e,n)}else e.completedSegments.push(t)}function _Ae(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Dy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&n5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(WUt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(n5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function SAe(e){if(e.status!==2){var t=lp,n=pO.current;pO.current=lee;var r=kS;kS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){QE(s.context);try{zs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(Z7),s.abortSet.delete(s),c.status=1,_Ae(a,s.blockedBoundary,c)}catch(v){if(eB(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Dx(a,f);if(d===null?t5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&nB(e,e.destination)}catch(v){Dx(e,v),t5(e,v)}finally{kS=r,pO.current=n,n===lee&&QE(t)}}}function K_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Qe(t,FHt),Qe(t,e.placeholderPrefix),e=Mt(r.toString(16)),Qe(t,e),or(t,LHt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Qe(t,r[i]);o=lA(e,t,o)}for(;i<r.length-1;i++)Qe(t,r[i]);return i<r.length&&(o=or(t,r[i])),o;default:throw Error(Ot(390))}}function lA(e,t,n){var r=n.boundary;if(r===null)return K_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,or(t,VHt),Qe(t,UHt),r&&(Qe(t,YHt),Qe(t,Mt(Qo(r))),Qe(t,WHt)),or(t,qHt),K_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,eee(t,e.responseState,r),K_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),eee(t,e.responseState,r.id),K_(e,t,n);else{if(or(t,BHt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));lA(e,t,n[0])}return or(t,HHt)}function hee(e,t,n){return mUt(t,e.responseState,n.formatContext,n.id),lA(e,t,n),gUt(t,n.formatContext)}function pee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)kAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Qe(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Qe(t,CUt):(e.sentCompleteBoundaryFunction=!0,Qe(t,wUt)),r===null)throw Error(Ot(395));return n=Mt(n.toString(16)),Qe(t,r),Qe(t,_Ut),Qe(t,e.segmentPrefix),Qe(t,n),or(t,SUt)}function kAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return hee(e,t,r)}return hee(e,t,r),e=e.responseState,Qe(t,e.startInlineScript),e.sentCompleteSegmentFunction?Qe(t,yUt):(e.sentCompleteSegmentFunction=!0,Qe(t,vUt)),Qe(t,e.segmentPrefix),o=Mt(o.toString(16)),Qe(t,o),Qe(t,bUt),Qe(t,e.placeholderPrefix),Qe(t,o),or(t,xUt)}function nB(e,t){Bs=new Uint8Array(512),Ns=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){lA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Qe(t,r[n]);n<r.length&&or(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Qe(r,a.startInlineScript),a.sentClientRenderFunction?Qe(r,EUt):(a.sentClientRenderFunction=!0,Qe(r,kUt)),c===null)throw Error(Ot(395));Qe(r,c),Qe(r,jUt),(u||d||f)&&(Qe(r,fO),Qe(r,Mt(hO(u||"")))),(d||f)&&(Qe(r,fO),Qe(r,Mt(hO(d||"")))),f&&(Qe(r,fO),Qe(r,Mt(hO(f)))),or(r,TUt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)pee(e,t,p[i]);p.splice(0,i),UJ(t),Bs=new Uint8Array(512),Ns=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!kAe(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)pee(e,t,x[i]);x.splice(0,i)}finally{UJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function mee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return CAe(r,e,t)}),n.clear(),e.destination!==null&&nB(e,e.destination)}catch(r){Dx(e,r),t5(e,r)}}q7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=UUt(e,EHt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),jHt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,rAe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{nB(a,f)}catch(p){Dx(a,p),t5(a,p)}}},cancel:function(){mee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){mee(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}SAe(a)})};q7.version="18.2.0";var W0,EAe;W0=U0,EAe=q7;W0.version;var YUt=W0.renderToString;W0.renderToStaticMarkup;W0.renderToNodeStream;W0.renderToStaticNodeStream;EAe.renderToReadableStream;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:pe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:pe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:pe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:pe.purple[300].hex})]})});const qUt={light:[pe.red[200].hex,pe.red[300].hex,pe.red[500].hex],dark:[pe.gray[500].hex,pe.gray[300].hex,xa.hex]},GUt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=qUt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),KUt={bg1:pe.red[500].hex,bg2:pe.red[200].hex,fg:xa.hex},ZUt=h.forwardRef(function(t,n){const{color:r=KUt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var XUt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),QUt=()=>{try{return!!(XUt&&import.meta.webpackHot)}catch{return!1}};function JUt(e){if(QUt)return typeof import.meta.webpackHot>"u"?tWt(e):eWt(e)}function eWt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function tWt(e){h.useEffect(()=>{},[e])}function nWt(e){return typeof e=="function"}function gee(e){return nWt(e)?e():e}const rWt=()=>{};function oWt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ie.useContext(e),c=ie.useRef();ie.useLayoutEffect(()=>{if(n===null)return rWt;const u=gee(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ie.useLayoutEffect(()=>{const u=gee(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function iWt(){const e=new Map,{publish:t,subscribe:n}=S4(),r=ew(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let e0=!1;const mO=e=>{e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),e0=!0};function sWt(){return e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),e0=!0,[]}const aWt=()=>(e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),e0=!0,()=>{}),lWt={add:mO,update:mO,remove:mO,subscribe:aWt,read:sWt};let cWt=0;const uWt=()=>++cWt;function jAe(){const e=ie.createContext(lWt);function t(){const o=ie.useContext(e),[i,s]=ie.useState(o.read());return ie.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ie.useMemo(()=>iWt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=oWt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ie.useRef(uWt()).current),o,i)}}}const Ps=4,dWt=16,vee=8,pt=8,ka=2,Z_=4,xi=12,Jm=2,fWt=!1,hWt=!1,rB=jAe(),pWt=rB.Tracker,oB=rB.useReportedValues,TAe=rB.useReporter,Im=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),mWt=e=>{const t=ie.useRef(null),{onSetFocus:n}=ie.useContext(Im),[r,o]=ie.useState(!1),i=ie.useCallback(()=>{o(!0)},[]),s=ie.useCallback(()=>{o(!1)},[]);TAe("change-".concat(Lr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),_4);const a=h.useCallback(c=>{gWt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function gWt(e,t,n){e.stopPropagation(),t(n)}function Zo(e){const t=h.useRef(e);return Ht(t.current,e)||(t.current=e),t.current}function sh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Zo(i),a=mo(()=>be(s).pipe(it(c=>Vr(be({type:"loading"}),e(c).pipe(ue(u=>({type:"value",value:u}))))),ea((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Qn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ue(c=>({type:"tuple",tuple:c})),On(c=>be({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function po(e){return e!=null}const vWt="drafts",iB="".concat(vWt,".");function sB(e){return e.startsWith(iB)}function AAe(e){return{draftId:si(e),publishedId:Rn(e)}}function si(e){return sB(e)?e:iB+e}function Rn(e){return sB(e)?e.slice(iB.length):e}function cA(e){const t=e.reduce((n,r)=>{const o=Rn(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function yWt(e){return cA(e).map(t=>t.draft||t.published).filter(po)}const bWt=Object.freeze({}),dn=Object.freeze([]);function xWt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const wWt=xWt();function yee(e){return Array.isArray(e)}function wt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function gv(e){return typeof e=="string"}const CWt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:f_e,_Wt=()=>{const e=S4(),t=new CWt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},SWt=_Wt(),kWt=["sanity.imageAsset","sanity.fileAsset"];function EWt(e){return e.type==="document"&&kWt.includes(e.name)}function uMn(e){return e.type==="document"&&!EWt(e)}const jWt=["match","in","asc","desc","true","false","null"],TWt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,DAe=e=>!TWt.test(e)||jWt.includes(e),aB=e=>'["'.concat(e,'"]'),AWt=e=>"@".concat(aB(e)),DWt=e=>Array.isArray(e)&&e.length===0,IWt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(DWt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;DAe(r)?t=o?AWt(r):"".concat(t).concat(aB(r)):t=o?r:"".concat(t,".").concat(r)}return t},Xp=PWt();function PWt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const OWt={isLoading:!0,value:void 0,error:null};function IAe(e,t){return mo(()=>e.pipe(RWt()),[e],typeof t>"u"?OWt:{isLoading:!1,value:t,error:null})}function RWt(){return e=>e.pipe(ue(t=>({isLoading:!1,value:t,error:null})),On(t=>be({isLoading:!1,value:void 0,error:t})))}function $Wt(e,t,n){return h.useMemo(()=>Yj(e,t,n),[e,n,t])}function PAe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var bee=Object.freeze,MWt=Object.defineProperty,yu=(e,t)=>bee(MWt(e,"raw",{value:bee(t||e.slice())})),xee,wee,Cee,_ee,See,kee,Eee,jee,Tee;const FWt=250,LWt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?he(xee||(xee=yu([`
        `,` {
          display: none;
        }
      `])),JM):he(_ee||(_ee=yu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&he(wee||(wee=yu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),JM),r&&he(Cee||(Cee=yu([`
        `,` {
          opacity: 0;
        }
      `])),OAe))}),BWt=O.div(See||(See=yu([`
  flex-grow: 1;
  min-width: 0;
`]))),JM=O.div(kee||(kee=yu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),NWt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return he(Eee||(Eee=yu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),OAe=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return he(Tee||(Tee=yu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),FWt,r,n&&he(jee||(jee=yu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function zWt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ie.useContext(Im),{zIndex:a}=la(),c=h.useMemo(()=>n||!r?null:l.jsxs(JM,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(NWt,{"data-testid":"change-bar__marker"}),l.jsx(OAe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(LWt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(BWt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const VWt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=dn,withHoverEffect:u,...d}=t,f=la(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return TAe(r?null:"field-".concat(Lr(c)),()=>({element:y.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),_4),l.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:l.jsx(zWt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ai(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(VWt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ie.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const eF=ie.createContext(null);function HWt(e){const t=ie.useContext(eF);ie.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Aee=()=>{},uA=ie.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=ur(n),a=h.useContext(eF),c=h.useMemo(()=>S4(),[]);return h.useEffect(()=>o?c.subscribe(o):Aee,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):Aee,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(eF.Provider,{value:c,children:ie.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function UWt(e){let{onScroll:t,children:n}=e;return HWt(t),l.jsx(l.Fragment,{children:n})}function Dee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=kl(r),i="".concat(e,"-").concat(Lr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=kFe(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&Sl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function WWt(e){return e[0]!=="changePanel"}function RAe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function YWt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&RAe(e)}const qWt=-15;function Iee(e){let n=e.element;for(;!YWt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+qWt,left:0,behavior:"smooth"})}const Pee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),RAe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function X_(e,t,n){return["M ".concat(e-Z_," ").concat(t-Z_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+Z_," ").concat(t-Z_*n)].join("")}function gO(e,t){return"M".concat(e," ").concat(t)}function to(e,t){return"L".concat(e," ").concat(t)}function GWt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function ss(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function KWt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Ps,Math.abs(o-s)/2);return t.isAbove?a.push(gO(r+pt,o-xi+ka),to(r+pt,o-Ps),ss(r+pt,o,r+pt+Ps,o)):t.isBelow?a.push(gO(r+pt,o+xi-ka),to(r+pt,o+Ps),ss(r+pt,o,r+pt+Ps,o)):a.push(gO(r,o)),n.isAbove?o<n.bounds.top?a.push(to(n.bounds.left-8-c,o),ss(n.bounds.left-8,o,n.bounds.left-8,o+c),to(n.bounds.left-8,s-c),ss(n.bounds.left-8,s,n.bounds.left-8+c,s),to(n.bounds.left+pt-Ps,s),ss(n.bounds.left+pt,s,n.bounds.left+pt,s-Ps),to(n.bounds.left+pt,s-xi+ka)):a.push(to(n.bounds.left+pt-Ps,o),ss(n.bounds.left+pt,o,n.bounds.left+pt,o-Ps),to(n.bounds.left+pt,s-xi+ka)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(to(n.bounds.left-pt-c,o),ss(n.bounds.left-pt,o,n.bounds.left-pt,o-c),to(n.bounds.left-pt,s+c),ss(n.bounds.left-pt,s,n.bounds.left-pt+c,s),to(n.bounds.left+pt-Ps,s),ss(n.bounds.left+pt,s,n.bounds.left+pt,s+Ps),to(n.bounds.left+pt,s+xi-ka)):a.push(to(n.bounds.left+pt-Ps,o),ss(n.bounds.left+pt,o,n.bounds.left+pt,o+Ps),to(n.bounds.left+pt,s+xi-ka)):o<s?a.push(to(n.bounds.left+pt-c,o),ss(n.bounds.left+pt,o,n.bounds.left+pt,o+c),to(n.bounds.left+pt,s-c),ss(n.bounds.left+pt,s,n.bounds.left+pt+c,s),to(i,s)):a.push(to(n.bounds.left+pt-c,o),ss(n.bounds.left+pt,o,n.bounds.left+pt,o-c),to(n.bounds.left+pt,s+c),ss(n.bounds.left+pt,s,n.bounds.left+pt+c,s),to(i,s)),GWt(a)}function Oee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+ka,o=e.top>t.top+t.height-ka;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+vee,endY:e.top+e.height-vee,isAbove:r,isBelow:o,outOfBounds:r||o}}function ZWt(e){const t={top:e.from.bounds.top+xi,bottom:e.from.bounds.top+e.from.bounds.height-xi,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-xi*2},n=Oee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+xi,bottom:e.to.bounds.top+e.to.bounds.height-xi,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-xi*2},o=Oee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function XWt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var Ree=Object.freeze,QWt=Object.defineProperty,dA=(e,t)=>Ree(QWt(e,"raw",{value:Ree(t||e.slice())})),$ee,Mee,Fee,Lee;O.rect($ee||($ee=dA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const q1=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Mee||(Mee=dA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),JWt=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Fee||(Fee=dA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),eYt=O(XWt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Lee||(Lee=dA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),tYt=h.memo(function(t){let{from:n,to:r}=t;const o=ZWt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=KWt(o);return l.jsxs(l.Fragment,{children:[l.jsx(JWt,{d:i,strokeWidth:dWt}),l.jsx(q1,{d:i,strokeWidth:Jm}),l.jsx(eYt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:Jm,bounds:r.bounds}),o.from.isAbove&&l.jsx(q1,{d:X_(o.from.left+pt,o.from.bounds.top-xi+ka,-1),strokeWidth:Jm}),o.from.isBelow&&l.jsx(q1,{d:X_(o.from.left+pt,o.from.bounds.top+o.from.bounds.height+xi-ka,1),strokeWidth:Jm}),o.to.isAbove&&l.jsx(q1,{d:X_(o.to.bounds.left+pt,o.to.bounds.top-xi+ka,-1),strokeWidth:Jm}),o.to.isBelow&&l.jsx(q1,{d:X_(o.to.bounds.left+pt,o.to.bounds.top+o.to.bounds.height+xi-ka,1),strokeWidth:Jm}),fWt]})});function nYt(e,t){h.useEffect(()=>SWt.observe(e,t),[e,t])}var Bee=Object.freeze,rYt=Object.defineProperty,oYt=(e,t)=>Bee(rYt(e,"raw",{value:Bee(t||e.slice())})),Nee;const iYt=O.svg(Nee||(Nee=oYt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function zee(e,t,n,r){const o=[],i=[];for(const u of e){if(!WWt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=Dee("field",d,n),p=Dee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(po).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...Pee(d.element,r)},change:{...f,...Pee(f.element,r)}}}),isHoverConnector:s}}function sYt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ie.useState(null),i=oB(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>zee(i,r,s,t)),u=h.useMemo(()=>Cm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(zee(i,r,s,t))},[s,i,r,t]);return nYt(t,d),l.jsx(UWt,{onScroll:d,children:l.jsx(iYt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(aYt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function aYt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{Iee(n),Iee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(tYt,{from:c,to:u})}),hWt]})}function lYt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ie.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Im.Provider,{value:u,children:l.jsx(pWt,{children:l.jsxs(uA,{...s,ref:c,className:n,children:[t,a&&l.jsx(sYt,{rootElement:a,onSetFocus:i})]})})})}const cYt=lYt;function uYt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function lB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&uYt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Vee=Object.freeze,dYt=Object.defineProperty,fA=(e,t)=>Vee(dYt(e,"raw",{value:Vee(t||e.slice())})),Hee,Uee,Wee,Yee;const fYt="data-active",vO="a,button",hYt=O.div(e=>{let{theme:t,offset:n}=e;return he(Hee||(Hee=fA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ye(t.sanity.radius[1]),-n,-n,-n,$Ae,lB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),pYt=O.div(Uee||(Uee=fA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),$Ae=O(M)(Wee||(Wee=fA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),mYt=O(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Yee||(Yee=fA([`
  position: relative;
  width: 100%;
`]))),ah=h.forwardRef(function(t,n){let{activeItemDataAttr:r=fYt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:k=!0,...j}=t;const E=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,$]=h.useState(!1),[R,V]=h.useState(null),[N,H]=h.useState(null),G=h.useCallback(we=>{if(!b)return;const[We]=[...we.getVirtualItems()].reverse();if(!We)return;We.index>=x.length-w-1&&E.current&&b()},[b,x.length,w]),U=O_e({count:x.length,getItemKey:f,getScrollElement:()=>N,estimateSize:()=>y,onChange:G,overscan:_}),q=h.useMemo(()=>{let we=-1;return x.reduce((We,ze,Ze)=>{var Ct,Ee;const Be=(Ct=d==null?void 0:d(Ze))!=null?Ct:!1,dt=(Ee=p==null?void 0:p(Ze))!=null?Ee:!1;return Be||(we+=1),We[Ze]={activeIndex:Be?null:we,disabled:Be,selected:dt},We},[])},[d,p,x]),Z=h.useMemo(()=>q.filter(we=>!we.disabled).length,[q]),B=h.useCallback(we=>R==null?void 0:R.setAttribute("data-enabled",(!we).toString()),[R]),W=h.useCallback(we=>"".concat(T.current,"-item-").concat(we),[]),z=h.useCallback(()=>"".concat(T.current,"-children"),[]),X=h.useCallback(()=>{const we=[g,N].some(ze=>document.activeElement===ze);if(C&&!we&&!P)return;const We=Array.from((D==null?void 0:D.children)||[]);We==null||We.forEach(ze=>{var Ze,Ct,Ee;const Be=Number((Ze=ze.dataset)==null?void 0:Ze.index),dt=(Ct=q[Be])==null?void 0:Ct.activeIndex;(Ee=ze.querySelector(vO))==null||Ee.toggleAttribute(r,dt===A.current)})},[r,D==null?void 0:D.children,P,g,q,C,N]),Q=h.useCallback(()=>{const we=Array.from((D==null?void 0:D.children)||[]);we==null||we.forEach(We=>{var ze;(ze=We.querySelector(vO))==null||ze.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),ne=h.useMemo(()=>Yj(X,200),[X]),K=h.useCallback(()=>{const we=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",W(we)),N==null||N.setAttribute("aria-activedescendant",W(we))):(g==null||g.removeAttribute("aria-activedescendant"),N==null||N.removeAttribute("aria-activedescendant"))},[W,g,x.length,N]),J=h.useCallback(()=>{var we,We;const ze=D==null?void 0:D.parentElement;if(D&&ze){const Ze=ze.getBoundingClientRect().top-D.getBoundingClientRect().top;return(We=(we=U.getVirtualItemForOffset(Ze))==null?void 0:we.index)!=null?We:-1}return-1},[D,U]),oe=h.useCallback(we=>{let{index:We,scrollAlign:ze,scrollIntoView:Ze=!0}=we;if(A.current=We,K(),X(),Ze){const Ct=q.findIndex(Ee=>Ee.activeIndex===We);Ct>-1&&U.scrollToIndex(Ct,ze?{align:ze}:{})}},[K,q,X,U]),fe=h.useCallback(we=>{let We=-1;const ze=Z-1;if(we==="next"){const Ze=k?0:ze;We=A.current<Z-1?A.current+1:Ze}if(we==="previous"){const Ze=k?ze:0;We=A.current>0?A.current-1:Ze}oe({index:We,scrollIntoView:!0}),B(!1)},[Z,B,oe,k]),ae=h.useCallback(we=>{switch(we){case"input":g==null||g.focus();break;case"list":N==null||N.focus();break}},[g,N]),ge=h.useCallback(()=>{g==null||g.focus()},[g]),xe=h.useCallback(()=>{N==null||N.focus()},[N]),ce=h.useCallback(we=>()=>{oe({index:we,scrollIntoView:!1})},[oe]),ve=h.useCallback(()=>{X()},[X]),$e=h.useCallback(we=>We=>{const ze=Array.from((D==null?void 0:D.children)||[]);if(ze.length&&(We.key==="ArrowDown"&&(We.preventDefault(),ae(we),fe("next")),We.key==="ArrowUp"&&(We.preventDefault(),ae(we),fe("previous")),We.key==="Enter")){We.preventDefault(),ae(we);const Ze=ze.find(Ct=>Number(Ct.dataset.index)===q.findIndex(Ee=>Ee.activeIndex===A.current));if(Ze){const Ct=Ze==null?void 0:Ze.querySelector(vO);Ct==null||Ct.click()}}},[D==null?void 0:D.children,ae,q,fe]),Ae=h.useCallback(we=>$e("input")(we),[$e]),st=h.useCallback(we=>$e("list")(we),[$e]),et=h.useCallback(()=>{C&&(X(),$(!0))},[C,X]),lt=h.useCallback(()=>{C&&(Q(),$(!1))},[Q,C]);h.useImperativeHandle(n,()=>({focusInputElement(){ge()},focusListElement(){xe()},getTopIndex(){return J()},scrollToIndex(we){oe({index:we}),B(!0)}}),[B,ge,xe,J,oe]),h.useEffect(()=>{typeof m<"u"&&!E.current&&oe({index:m,scrollAlign:v,scrollIntoView:!0}),E.current=!0},[m,v,C,oe]),h.useEffect(()=>{function we(){B(!0)}return N==null||N.addEventListener("mousemove",we),N==null||N.addEventListener("wheel",we,{passive:!0}),()=>{N==null||N.removeEventListener("mousemove",we),N==null||N.removeEventListener("wheel",we)}},[B,N]),h.useEffect(()=>(g==null||g.addEventListener("focus",ve),g==null||g.addEventListener("keydown",Ae),N==null||N.addEventListener("focus",ve),N==null||N.addEventListener("keydown",st),()=>{g==null||g.removeEventListener("focus",ve),g==null||g.removeEventListener("keydown",Ae),N==null||N.removeEventListener("focus",ve),N==null||N.removeEventListener("keydown",st)}),[a,ve,$e,Ae,st,Q,g,X,N]),h.useEffect(()=>{K()},[K,x]),h.useEffect(()=>{const we=new MutationObserver(ne);return D&&we.observe(D,{childList:!0,subtree:!0}),()=>{we.disconnect()}},[D,ne]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",z()),g==null||g.setAttribute("role","combobox")},[z,g]),h.useEffect(()=>{s&&ae(s)},[s,a,xe,ge,ae]);const Oe=a?0:-1;return l.jsxs($Ae,{id:z(),onMouseEnter:et,onMouseLeave:lt,ref:H,sizing:"border",tabIndex:Oe,...j,children:[a&&l.jsx(hYt,{offset:u}),l.jsx(pYt,{"aria-hidden":"true","data-enabled":!0,ref:V}),U&&l.jsx(mYt,{forwardedAs:"ul",$height:U.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:U.getVirtualItems().map(we=>{const We=we.index,{activeIndex:ze,disabled:Ze,selected:Ct}=q[We],Ee=S(x[We],{activeIndex:ze,disabled:Ze,selected:Ct,virtualIndex:We}),Be=h.cloneElement(Ee,{tabIndex:-1}),dt=typeof ze=="number"&&!Ze?{"aria-posinset":ze+1,...i?{"aria-selected":Ct.toString()}:{},"aria-setsize":Z,id:W(ze),role:"option",onMouseEnter:ce(ze)}:{};return l.jsx(re,{as:"li","data-index":We,ref:c?void 0:U.measureElement,style:{flex:1,...c?{height:"".concat(we.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(we.start,"px)"),width:"100%"},tabIndex:-1,...dt,children:Be},we.key)})})]})}),qee=new WeakMap;let gYt=0;function Gee(e){const t=qee.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(gYt++);return qee.set(e,n),n}function vYt(e){const t=h.useRef(void 0);return zu(e,t.current)||(t.current=e),[t.current]}function yYt(e,t){h.useEffect(e,vYt(t))}const bYt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return yYt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),xYt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},wYt=e=>clearTimeout(e),CYt=typeof requestIdleCallback>"u"?xYt:requestIdleCallback,_Yt=typeof cancelIdleCallback>"u"?wYt:cancelIdleCallback,SYt={trailing:!0};function MAe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&_Yt(d.current),d.current=CYt(()=>{d.current=null,a(x=>x+1)})},[]),p=$Wt(f,60,SYt),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>Gee(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(po),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const b=Gee(x),w=c[b]||0;return l.jsx(bYt,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function cB(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(kYt):n;return l.jsx($L,{...r,keys:o})}const Kee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function kYt(e){const t=e.toLowerCase();return t==="alt"&&Kee?Zee(e,"option"):t==="option"&&!Kee?Zee(e,"alt"):e}function Zee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Ic(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(kf,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(Gt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",EYt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function EYt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const jYt=O(Xr)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return vt(r,e.$width,o=>({width:o==="auto"?"none":ye(n[o]),maxWidth:"100%"}))}),TYt=ie.forwardRef(function(t,n){const{width:r,...o}=t,i=Ce(r);return l.jsx(jYt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Xee=Object.freeze,AYt=Object.defineProperty,FAe=(e,t)=>Xee(AYt(e,"raw",{value:Xee(t||e.slice())})),Qee,Jee;const DYt=O(en)(()=>he(Qee||(Qee=FAe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),IYt=O(es)(e=>{const t=e.theme.sanity.radius[3];return he(Jee||(Jee=FAe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function PYt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(TYt,{width:s,children:l.jsx(eh,{autoFocus:!0,children:l.jsxs(re,{ref:i,children:[l.jsx(IYt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(se,{icon:Ei,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(DYt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var ete=Object.freeze,OYt=Object.defineProperty,RYt=(e,t)=>ete(OYt(e,"raw",{value:ete(t||e.slice())})),tte;const $Yt=O(ee)(()=>he(tte||(tte=RYt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),LAe=h.createContext({selected:!1});function MYt(){const e=h.useContext(LAe);if(!e)throw new Error("PreviewCard: missing context value");return e}const Cp=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx($Yt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(LAe.Provider,{value:{selected:o},children:r})})}),Xi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},FYt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var nte=Object.freeze,LYt=Object.defineProperty,BYt=(e,t)=>nte(LYt(e,"raw",{value:nte(t||e.slice())})),rte;const BAe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=FYt[n];return he(rte||(rte=BYt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we cant use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg>  icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ye(i),o?"100%":ye(s),o?void 0:ye(i),c=>{let{theme:u}=c;return ye(u.sanity.radius[r])},a)});BAe.displayName="MediaWrapper";function Xw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(BAe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[NYt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function NYt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Nl.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function zYt(e,t,n){return Nl.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Mo(e,t,n){return typeof e=="string"?e:Nl.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var ote=Object.freeze,VYt=Object.defineProperty,uB=(e,t)=>ote(VYt(e,"raw",{value:ote(t||e.slice())})),ite,ste,ate;const HYt={...Xi.default,aspect:1,fit:"crop",dpr:Sm()},lte=O(Y)(ite||(ite=uB([`
  height: `,`;
`])),ye(Xi.default.height)),UYt=O(Ti).attrs({animated:!0,radius:1})(ste||(ste=uB([`
  max-width: `,`;
  width: 80%;
`])),ye(160)),WYt=O(Ti).attrs({animated:!0,radius:1,size:1})(ate||(ate=uB([`
  max-width: `,`;
  width: 60%;
`])),ye(120));function NAe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=Umt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Mo(o,"default")});return i?l.jsxs(lte,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(_0,{animated:!0,marginRight:2,radius:2,style:Xi.default}),l.jsxs(re,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(UYt,{}),l.jsx(WYt,{})]}),u]}):l.jsxs(lte,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(Xw,{dimensions:HYt,layout:"default",media:r,styles:a}),l.jsxs(re,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Mo(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Mo(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var cte=Object.freeze,YYt=Object.defineProperty,Pm=(e,t)=>cte(YYt(e,"raw",{value:cte(t||e.slice())})),ute,dte,fte,hte,pte,mte,gte;const vte=O(Y).attrs({align:"center"})(ute||(ute=Pm([`
  height: `,`;
`])),ye(Xi.detail.height)),qYt=O(M)(dte||(dte=Pm([`
  white-space: nowrap;
`]))),GYt=O(_0).attrs({animated:!0,radius:2})(fte||(fte=Pm([`
  width: `,`;
  height: `,`;
`])),ye(Xi.detail.width),ye(Xi.detail.height)),KYt=O(Ti).attrs({animated:!0,radius:1})(hte||(hte=Pm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ye(160)),ZYt=O(Ti).attrs({animated:!0,radius:1,size:1})(pte||(pte=Pm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ye(120)),XYt=O(Ti).attrs({animated:!0,radius:1,size:1})(mte||(mte=Pm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ye(180)),QYt=O(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return he(gte||(gte=Pm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ye(i),o)}),JYt={...Xi.detail,fit:"crop",aspect:1,dpr:Sm()};function eqt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=JYt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(qYt,{marginLeft:3,paddingRight:1,children:Mo(s,"detail")});return c?l.jsxs(vte,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(GYt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(Y,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(re,{flex:1,space:2,children:[l.jsx(KYt,{}),l.jsx(ZYt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(XYt,{})})]})]}):l.jsxs(vte,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(Xw,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(Y,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(re,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Mo(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Mo(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(QYt,{muted:!0,size:1,children:Mo(r,"detail")})})]}),a]})}var yte=Object.freeze,tqt=Object.defineProperty,dB=(e,t)=>yte(tqt(e,"raw",{value:yte(t||e.slice())})),bte,xte,wte;const al=43,fB=3,nqt=O.svg(bte||(bte=dB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),al,al),rqt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(xte||(xte=dB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),pe.gray[n.dark?900:100].hex,fB)}),oqt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(wte||(wte=dB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),pe.blue[n.dark?400:500].hex,fB)});function iqt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=al/2-fB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(al/2," ").concat(al/2," ").concat(al," ").concat(al);return l.jsxs(nqt,{viewBox:s,children:[l.jsx(rqt,{cx:al,cy:al,r}),l.jsx(oqt,{cx:al,cy:al,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Cte=Object.freeze,sqt=Object.defineProperty,zAe=(e,t)=>Cte(sqt(e,"raw",{value:Cte(t||e.slice())})),_te,Ste;const aqt=.5,lqt=O(ee)(_te||(_te=zAe([`
  overflow: hidden;
  overflow: clip;
`]))),cqt=O(ee)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(Ste||(Ste=zAe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),aqt,pe.blue[n.dark?400:500].hex)});function uqt(e){const{value:t}=e;return l.jsx(lqt,{radius:5,children:l.jsx(cqt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var kte=Object.freeze,dqt=Object.defineProperty,Qw=(e,t)=>kte(dqt(e,"raw",{value:kte(t||e.slice())})),Ete,jte,Tte,Ate,Dte;const fqt=O(M)(Ete||(Ete=Qw([`
  position: relative;
`]))),hqt=O(Y).attrs({align:"center",justify:"center"})(jte||(jte=Qw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),pqt=O(_0).attrs({animated:!0,radius:2})(Tte||(Tte=Qw([`
  width: 100%;
  height: 100%;
`]))),mqt=O(Y).attrs({align:"center",justify:"center"})(Ate||(Ate=Qw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),gqt=O(re).attrs({padding:2,space:2})(Dte||(Dte=Qw([`
  max-width: `,`;
`])),ye(200)),vqt={...Xi.media,aspect:1,fit:"crop",dpr:Sm()};function yqt(e){const{media:t,mediaDimensions:n=vqt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(gqt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Mo(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Mo(s,"media")})]}),[s,a]);return l.jsxs(fqt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(at,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(hqt,{children:[o?l.jsx(pqt,{}):l.jsx(Xw,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(mqt,{children:l.jsx(iqt,{value:i})})]})}),r]})}var Ite=Object.freeze,bqt=Object.defineProperty,hB=(e,t)=>Ite(bqt(e,"raw",{value:Ite(t||e.slice())})),Pte,Ote,Rte;const xqt=O(Y).attrs({align:"center"})(Pte||(Pte=hB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ye(Xi.block.height)),wqt=O(ee)(Ote||(Ote=hB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),Cqt=O(M).attrs({overflow:"hidden"})(Rte||(Rte=hB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),_qt={...Xi.blockImage,fit:"fillmax",dpr:Sm()},Sqt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function kqt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=_qt,media:a,children:c,status:u}=e;return l.jsxs(Cqt,{children:[l.jsxs(re,{children:[l.jsxs(xqt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(re,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Mo(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Mo(r,"block")})]}),l.jsxs(Y,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Mo(u,"block")}),t]})]}),l.jsx(wqt,{$ratio:Sqt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(Xw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Mo(o,"block")})}),c&&l.jsx("div",{children:c})]})}var $te=Object.freeze,Eqt=Object.defineProperty,jqt=(e,t)=>$te(Eqt(e,"raw",{value:$te(t||e.slice())})),Mte;const Tqt={...Xi.block,aspect:1,fit:"crop",dpr:Sm()},Aqt=O(Y).attrs({align:"center"})(Mte||(Mte=jqt([`
  min-height: `,`;
`])),ye(Xi.block.height));function Dqt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=Tqt,media:s,status:a,children:c}=e;return l.jsxs(re,{"data-testid":"block-preview",space:1,children:[l.jsxs(Aqt,{"data-testid":"block-preview__header",children:[s&&l.jsx(Xw,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Mo(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Mo(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Mo(o,"block")})})]}),l.jsxs(Y,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Mo(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var Fte=Object.freeze,Iqt=Object.defineProperty,pB=(e,t)=>Fte(Iqt(e,"raw",{value:Fte(t||e.slice())})),Lte,Bte,Nte;const Pqt=O.span(Lte||(Lte=pB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),Oqt=O.span(Bte||(Bte=pB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])},e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),Rqt=O(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return he(Nte||(Nte=pB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),$qt={...Xi.inline,fit:"crop",aspect:1,dpr:Sm()};function Mqt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=$qt}=e;return l.jsxs(Pqt,{"data-testid":"inline-preview",children:[r&&l.jsxs(Oqt,{"data-testid":"inline-preview-media",children:[zYt(r,"inline",o),l.jsx("span",{})]}),l.jsx(Rqt,{"data-testid":"inline-preview-title",size:1,children:Mo(t,"inline",n)})]})}var zte=Object.freeze,Fqt=Object.defineProperty,hA=(e,t)=>zte(Fqt(e,"raw",{value:zte(t||e.slice())})),Vte,Hte,Ute,Wte;({...Xi.default,dpr:Sm()});O(M)(Vte||(Vte=hA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(Y).attrs({align:"center"})(Hte||(Hte=hA([`
  height: `,`;
`])),ye(Xi.default.height));O(Ti).attrs({animated:!0,radius:1})(Ute||(Ute=hA([`
  max-width: `,`;
  width: 80%;
`])),ye(160));O(Ti).attrs({animated:!0,radius:1,size:1})(Wte||(Wte=hA([`
  max-width: `,`;
  width: 60%;
`])),ye(120));const Lqt=["aria-hidden","disabled","href"],Bqt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Nqt(e){return[...e.querySelectorAll(Bqt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function VAe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=Nqt(s);d(b)}},[s]),y=h.useCallback(b=>{c(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:Lqt}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const zqt=O(M)({position:"relative"}),Vqt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),lh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=js(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(Y,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(cB,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(at,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(se,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(Y,{gap:u,children:[l.jsxs(zqt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,Nl.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(Vqt,{style:y})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var Yte=Object.freeze,Hqt=Object.defineProperty,Uqt=(e,t)=>Yte(Hqt(e,"raw",{value:Yte(t||e.slice())})),qte;const Wqt=O(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return he(qte||(qte=Uqt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),ar=ie.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(Wqt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),Jw=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(at,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),mB=h.forwardRef((e,t)=>{const{push:n}=Vo();return h.useImperativeHandle(t,()=>({push:n})),null});mB.displayName="ImperativeToast";const Yqt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},qqt=h.createContext(Yqt);function HAe(){return h.useContext(qqt)}function Gu(e){let{children:t,zOffset:n}=e;const o=HAe()[n];return l.jsx(Bu,{zOffset:o,children:t})}function Gqt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const UAe=h.createContext(null);function Kqt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||Gqt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(UAe.Provider,{value:n,children:t})}function pd(){const e=h.useContext(UAe);if(!e)throw new Error("Could not find `cache` context");return e}class gB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const vB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),yB={};function WAe(e,t){vB?localStorage[e]=t:yB[e]=t}function Zqt(e){return vB?localStorage[e]:yB[e]}function YAe(e){vB?localStorage.removeItem(e):delete yB[e]}function Xqt(e){const t=typeof window>"u"?be():Ai(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new wr,o=sn(r,t.pipe(mt(s=>s.key===n),ue(s=>s.newValue),mt(po),ue(s=>JSON.parse(s)))).pipe(Eo(1));function i(s){try{WAe(n,JSON.stringify(s)),YAe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Gte=/sid=([^&]{20,})&?/;function Qqt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Gte)||[];if(!t)return null;const n=e.replace(Gte,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Kte=Qqt();const Jqt=()=>{const e=Kte;return e&&(Kte=null),e};var Zte=Object.freeze,eGt=Object.defineProperty,qAe=(e,t)=>Zte(eGt(e,"raw",{value:Zte(t||e.slice())})),Xte,Qte;const tGt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return he(Xte||(Xte=qAe([`
    fill: `,`;
  `])),n)}),nGt=O.img(Qte||(Qte=qAe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),rGt=()=>l.jsx(tGt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),oGt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function iGt(e){const{provider:t}=e;return t.logo?l.jsx(nGt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const sGt={google:oGt,github:rGt};async function aGt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Jte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function lGt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=sh(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&aGt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Jte({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?l.jsxs(Y,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading"}),l.jsx(dr,{muted:!0})]}):l.jsxs(re,{space:4,children:[l.jsx(zo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(re,{space:2,children:d.map((x,b)=>l.jsx(se,{as:"a",icon:sGt[x.name]||l.jsx(iGt,{provider:x}),href:Jte({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const bB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},ene=e=>{try{const t=Zqt(bB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},GAe=e=>{try{YAe(bB(e))}catch(t){console.error(t)}},cGt=e=>{let{token:t,projectId:n}=e;try{WAe(bB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},tne=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return GAe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new gB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function uGt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=Xqt("dual_mode_auth_".concat(n)),u=t??pSe,d=c.pipe(ri(i==="dual"?ene(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ue(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),it(x=>uo(async()=>{const b=await tne(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Qn((x,b)=>Ht(x.currentUser,b.currentUser)),Eo(1));async function m(){const x=Jqt();if(!x){a(i==="cookie"?null:ene(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await tne(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return cGt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});GAe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=lGt({...s,getClient:()=>p.pipe(ue(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function KAe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,KAe(r)]})))}const dGt=qj(uGt,KAe);function fGt(e){return wt(e)&&"state"in e&&wt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function ZAe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function hGt(e){return t=>{let n=[];const r=On((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(xn(()=>{n=[]}),r)}}const nne=typeof window>"u"?be({}):Ai(window,"online"),pGt=typeof window>"u"?be({}):Ai(window,"offline"),mGt=e=>Math.pow(2,e)*100,gGt={type:"connecting"},XAe=HCe(),vGt=XAe[0];XAe[1];const yGt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function bGt(e){let{bifur:t}=e;return{connectionStatus$:sn(t.heartbeats,pGt.pipe(zp(Nu(new Error("The browser went offline"))))).pipe(ue(r=>({type:"connected",lastHeartbeat:r})),hGt((r,o,i)=>{const s=Math.min(24e4,mGt(o)),a=new Date(new Date().getTime()+s),c=Bo(a),u=!navigator.onLine,d=yGt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=qL.pipe(XL(u?nne:sn(c,nne,vGt)));return Vr(be(d),f.pipe(Ci(1)),i)}),ri(gGt))}}const xGt=l0e(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}}),QAe=h.createContext(null);function xB(){const e=h.useContext(QAe);if(!e)throw new Error("UserColorManager: missing context value");return e}function wGt(e){const t=xB();return mo(e?t.listen(e):$tt(),[e],t.get(null))}const CGt="purple",_Gt=["green","red","gray"],SGt=u0e.filter(e=>!_Gt.includes(e)),JAe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},kGt=e=>{const{background:t,border:n,text:r}=JAe(e);return SGt.reduce((o,i)=>(o[i]={name:i,background:pe[i][t].hex,border:pe[i][n].hex,text:pe[i][r].hex,tints:pe[i]},o),{})},EGt=e=>{const{background:t,border:n,text:r}=JAe(e);return{name:"gray",background:pe.gray[t].hex,border:pe.gray[n].hex,text:pe.gray[r].hex,tints:pe.gray}};function jGt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||kGt(o),s=t||EGt(o),a=r||CGt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((E,T)=>(E[T]=0,E),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(E=>k(E?E.id:null)),{get:v,listen:y};function v(E){return E?i[g(E)]:s}function g(E){if(E===m)return a;const T=p.get(E);if(T)return T;const A=d.get(E);if(A&&(f[A]===0||!C()))return x(E,A);const D=j(E);return f[D]===0?x(E,D):x(E,_(A))}function y(E){let T=u.get(E);if(T)return T;const A=g(E);return T=S(E,A),u.set(E,T),T}function x(E,T){return p.set(E,T),d.set(E,T),f[T]++,T}function b(E,T){p.delete(E),f[T]--}function w(){return c.find(E=>f[E]===0)}function C(){return!!w()}function _(E){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),E&&A.includes(E)?E:A[0]}function S(E,T){return new gt(A=>{const D=i[T];return A.next(D),()=>{u.delete(E),b(E,T)}}).pipe(Eo({refCount:!0}))}function k(E){m=E,f[a]+=E?1:-1}function j(E){let T=0;for(let A=0;A<E.length;A++)T=(T<<5)-T+E.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function TGt(e){let{children:t,manager:n}=e;const{scheme:r}=Uc(),o=h.useMemo(()=>n||jGt({scheme:r}),[n,r]);return l.jsx(QAe.Provider,{value:o,children:t})}function rne(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(dT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function eDe(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return rne(r),r}}return rne(e),()=>e}const AGt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},DGt=[];const bf=class tDe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new tDe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function IGt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function wB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Sl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function PGt(e){return e!==null||e!==void 0}function yb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>yb(i,t,n)).filter(PGt);if(typeof e=="string")return yb(new bf(e),t,n);if(!(e instanceof bf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(wB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return yb(new bf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const OGt={}.toString,one=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function RGt(e){for(let t=0;t<one.length;t++)if(one[t]===e)return!0;return!1}function nDe(e){const t=OGt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!RGt(n)?n.name:t}function Ix(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Ix(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Ix(e[o],t[o]))return!1}return!0}return!1}const ine=5e3,sne=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new bf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Om={type:(e,t,n)=>{const r=nDe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?sne({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:sne({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),""):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Ix(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(wB(r.path)," has taken more than ").concat(ine,"ms to respond"))},ine);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},$Gt={...Om,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},MGt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,FGt={...Om,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(MGt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},yO="http://sanity",LGt=e=>/^\.*\//.test(e),BGt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,NGt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,yO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==yO)return n||"Only relative URLs are allowed";if(!a&&c.origin===yO&&LGt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||BGt.test(r)?!0:n||"Must be a valid email address"}},zGt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Ix(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new bf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Ix(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new bf(n||"Can't be a duplicate",{paths:o}):!0}},VGt=["_key","_type","_weak"],HGt={...Om,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!VGt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!ed(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function ane(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const UGt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,lne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Jo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Jo(new Date(t),r))};function Q_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const WGt={...Om,type:(e,t,n)=>!"".concat(t)||UGt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=Q_(t);if(!o||!t||o>=Q_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=ane(r.type.options)?r.type.options:{},s=lne(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=Q_(t);if(!o||!t||o<=Q_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=ane(r.type.options)?r.type.options:{},s=lne(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var vo;const YGt={Boolean:$Gt,Number:FGt,String:NGt,Array:zGt,Object:HGt,Date:WGt},rDe=e=>e&&e.type?rDe(e.type):e,qGt=e=>typeof e!="object"||!e?!1:e.type===tF.FIELD_REF,GGt=[],cne=Symbol("FIELD_REF"),KGt=["Array","Boolean","Date","Number","Object","String"],tF=(vo=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=vo.valueOfField.bind(vo),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new vo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=gkt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!KGt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(IGt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=rDe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return GGt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&YGt[this._type]||Om;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;qGt(c)&&(c=Wn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new bf("".concat(wB(t.path),": Exception occurred while validating value: ").concat(d.message));return yb(f,"error",t)}return yb(u,this._level,t)}))).flat()}},vo.FIELD_REF=cne,vo.array=e=>new vo(e).type("Array"),vo.object=e=>new vo(e).type("Object"),vo.string=e=>new vo(e).type("String"),vo.number=e=>new vo(e).type("Number"),vo.boolean=e=>new vo(e).type("Boolean"),vo.dateTime=e=>new vo(e).type("Date"),vo.valueOfField=e=>({type:cne,path:e}),vo),ZGt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},XGt=function(t){return window.clearTimeout(t)},r5=typeof window>"u"?void 0:window,QGt=(r5==null?void 0:r5.requestIdleCallback)||ZGt,JGt=(r5==null?void 0:r5.cancelIdleCallback)||XGt,eKt=qj(nKt);function tKt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function une(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=Sl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const dne=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=tKt(r._id),d=r._type,f=une(o.concat("current"));!a&&f.includes("[]")&&eKt(une(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function nKt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const rKt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||dne,s={...t,parent:t.parent,type:t.type,defaultIsUnique:dne};return await i(r,s)?!0:"Slug is already in use"},oKt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},iKt=e=>e in oKt;function oDe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?oDe(e.type,t):[],e]):[]}function sKt(e,t){let n=e;iKt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>aKt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(rKt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function iDe(e){return e?!("fields"in e)&&e.type?iDe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function aKt(e,t){return t.jsonType==="object"&&iDe(t)||e.value===void 0?e:e.value}function Px(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Px({...e,validation:r}));if(t instanceof tF)return[t];const n=Object.values(oDe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(sKt,new tF(e));return t?Px({...e,validation:t(n)}):[n]}const fne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),lKt=e=>e!=null;function cKt(e,t){if(t.length===1)return t[0];const n=p4(e)&&e._type,r=e==null||!n&&nDe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const uKt=[];function dKt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),be(uKt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return nF(i).pipe(On(s=>(console.error(s),be([{type:"validation",level:"error",path:[],item:new bf(s==null?void 0:s.message)}]))))}function nF(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Px(n),a=s.map(p=>uo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(lKt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return Px({...y,validation:g}).map(x=>{const b=fne(t)?t[v]:void 0;return uo(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),c=c.concat(n.fields.map(m=>nF({...i,parent:t,value:fne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>nF({...i,parent:t,value:p,path:r.concat(Sl(p)?{_key:p._key}:m),type:cKt(p,n.of)})))),uo(()=>sn([...a,...c])).pipe(ht(p=>Vr(fKt(),p),40),Pj(),DCe(),ue(In),ue(p=>s.some(m=>m._fieldRules)?Ff(p,m=>JSON.stringify(m)):p))}function fKt(e){return new gt(t=>{const n=QGt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>JGt(n)})}function hKt(e){return ES(e,new Set),e}function ES(e,t){if(!t.has(e)){if(t.add(e),e.validation=Px(e),"fields"in e)for(const n of e.fields)ES(n.type,t);if("of"in e)for(const n of e.of)ES(n,t);if(e.annotations)for(const n of e.annotations)ES(n,t)}}function pKt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&hKt(r)}),e}var mKt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},gKt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},vKt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},yKt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},bKt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},xKt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},wKt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},CKt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},_Kt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},SKt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},kKt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const EKt=e=>e.severity==="error",jKt=[bKt,mKt,gKt,xKt,kKt,vKt,yKt,SKt,_Kt,wKt,CKt];function TKt(e){const t=akt(e.types).getTypes(),n=aSt(t),r=n.some(i=>i.problems.some(EKt)),o=K8.compile({name:e.name,types:r?[]:[...e.types,...jKt].filter(Boolean)});return o._validation=n,pKt(o)}function _p(e){return typeof e.title=="string"?e.title:e.type?_p(e.type):e.name||e.jsonType}const ln={apiVersion:"2022-09-09"};var hne=Object.freeze,AKt=Object.defineProperty,DKt=(e,t)=>hne(AKt(e,"raw",{value:hne(t||e.slice())})),pne;const IKt=O(es)(pne||(pne=DKt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function PKt(){return l.jsx(IKt,{children:l.jsx(Y,{height:"fill",align:"center",justify:"center",children:l.jsx(dr,{})})})}function OKt(e){const{text:t}=e;return l.jsxs(Y,{direction:"row",justify:"center",align:"center",children:[l.jsx(dr,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const mne={referringDocuments:[],isLoading:!0};function RKt(e){const t=Ja();return mo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ue(n=>({referringDocuments:n,isLoading:!1})),ri(mne)),[t,e],mne)}const $Kt=()=>h.createElement(h.Fragment);function MKt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:$Kt})}}function Hl(e){const{options:t}=Fn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...HA(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return MKt(n,s)},[n,t,r])}function yc(e,t){return t.name===e||!!(t.type&&yc(e,t.type))}const FKt={default:NAe,media:yqt,detail:eqt,inline:Mqt,block:Dqt,blockImage:kqt};function LKt(){return l.jsx(Ef,{className:"sanity-studio__preview-fallback-icon"})}function ch(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=hr(ln),c=h.useMemo(()=>xT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:gv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||LKt),[t]),f=h.useMemo(()=>t===!1?!1:Nl.isValidElementType(r)||h.isValidElement(r)?r:ab(r)?u:gv(o)?l.jsx("img",{src:o,alt:gv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=FKt[n||"default"];return h.createElement(m,p)}const BKt=typeof window>"u"?Xn:Ai(window,"resize").pipe(Eo(1)),NKt=typeof window>"u"?Xn:Ai(window,"scroll",{passive:!0,capture:!0}).pipe(Eo(1)),zKt=typeof window>"u"?Xn:Ai(window,"orientationchange").pipe(Eo(1)),sDe=150;function VKt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const HKt=VKt()?UKt():WKt();function UKt(){const e=new wr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(sDe,"px")});return function(r){return new gt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ht(()=>e.asObservable()),mt(o=>o.target===r),ue(o=>({isIntersecting:o.isIntersecting})))}}function WKt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),sDe)}return function(o){const i=n(o);return sn(be(i()),BKt,NKt,zKt).pipe(ue(i),ue(s=>({isIntersecting:s})))}}const YKt=typeof window>"u"?Xn:Ai(document,"visibilitychange").pipe(Eo(1));function qKt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Vr(be(!document.hidden),YKt.pipe(ue(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Qn()),s=HKt(t).pipe(ue(u=>u.isIntersecting)),c=i.pipe(it(u=>u?s:be(!1)),it(u=>u?be(!0):be(!1).pipe(OCe(n))),Qn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const GKt={isLoading:!0},KKt={isLoading:!1};function CB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Mi();return mo(()=>!t||!o||!r?be(KKt):i(o,r,{ordering:n}).pipe(ue(s=>({isLoading:!1,value:s.snapshot||void 0})),On(s=>be({isLoading:!1,error:s}))),[t,i,n,r,o],GKt)}function ZKt(e){return XKt(e==null?void 0:e._upload)}function G1(e){return gv(e)?e:void 0}function XKt(e){var t,n;if(!wt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=G1(e.initiated||e.createdAt),i=G1(e.updated||e.updatedAt),s=G1((t=e==null?void 0:e.file)==null?void 0:t.name),a=G1((n=e==null?void 0:e.file)==null?void 0:n.type),c=G1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const QKt=1e3*2;function _B(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=qKt({element:s?null:c,hideDelay:QKt}),f=CB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>ZKt(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function SB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const JKt=e=>e.liveEdit===!0;function pA(e,t,n,r){const o=JKt(t)?be({snapshot:null}):e.observeForPreview({_type:"reference",_ref:si(n)},t),i=e.observeForPreview({_type:"reference",_ref:Rn(n)},t);return Lo([o,i]).pipe(ue(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ri({draft:null,isLoading:!0,published:null}))}const eZt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx($r,{})}),kB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?XBt({},o,t,(i,s)=>typeof s>"u"?i:s):eZt(t)},aDe=["_id","_rev","_type"],tZt=[...aDe,"_key"],gne={available:!0,reason:"READABLE"},nZt={available:!1,reason:"PERMISSION_DENIED"},rZt={available:!1,reason:"NOT_FOUND"},oZt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx($r,{})};function iZt(e){return Array.isArray(e)&&(e.length===0||e.some(ju))}function sZt(e){const t=Array.isArray(e)&&e.find(ju);return!t||!t.children?"":t.children.filter(qs).map(n=>n.text).join("")}function lDe(e){return Object.keys(e)}const aZt=["_id","_type","_upload","_createdAt","_updatedAt"],t0=[],rF=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),lZt=ew(()=>{const e=rF.getAll(),n=In(Object.keys(e).map(r=>{const o=e[r];return Ff(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Ff(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),rF.clear())},1e3),K1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?t0:[jB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(EB(t))))]},cZt={media:()=>t0,title:K1("title"),subtitle:K1("subtitle"),description:K1("description"),imageUrl:K1("imageUrl"),date:K1("date")};function EB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(wt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>EB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function uZt(e,t){if(typeof t>"u")return t0;const n=cZt[e];return n&&n(t)||t0}function jB(e,t){return Object.assign(t,{type:e})}function dZt(e){return!_r(e)||e===null?[jB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(EB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...uZt(r,o)]},t0)}function fZt(e){return{...e,errors:[...e.errors||[],...dZt(e.returnValue)]}}function hZt(e){return lDe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:iZt(r)?sZt(r):r}},{})}function oF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):hZt(t),errors:t0}}catch(i){return{returnValue:null,errors:[jB("prepareError",i)]}}}function vne(e,t,n){return e.errors.forEach(r=>rF.add(t,n,r)),lZt(),oZt}function pZt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function mZt(e){return pZt(e)?e.options.list.map(n=>v4(n)?n:{title:n,value:n}):void 0}function o5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&mZt(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Wn(e,s[p]));f[p]=b?b.value:Wn(e,s[p])}else f[p]=Wn(e,s[p]);return f},{}),u=oF(t,c,n);if(u.errors.length>0)return vne(u,t,c);const d=fZt(oF(t,c,n));return d.errors.length>0?vne(d,t,c):{...kt(e,aZt),...u.returnValue}}function jS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new gt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(po);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const gZt=11164;function vZt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=gZt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function yZt(e,t){return e.push(...t),e}function cDe(e,t){function n(s){const a=si(s),c=Rn(s);return Lo([r(a),r(c)]).pipe(Qn(zu),ue(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ue(a=>wt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Qn(),it(a=>a?be(gne):o(s)))}const o=jS(function(a){const c=[...new Set(In(a))];return Cr(vZt(c)).pipe(ht(i,10),ACe(yZt,[]),ue(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return uo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ue(c=>{const u=g9(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return gne;if(f.reason==="existence")return rZt;if(f.reason==="permission")return nZt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function yne(e,t,n){return{...e,[t]:n}}function bZt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new gt(n=>t.subscribe(n)).pipe(it(n=>{const r=lDe(n).map(o=>{const i=n[o];return Ztt(i)?Cr(i).pipe(ue(s=>[o,s])):be([o,i])});return e.wait?Lo(r).pipe(ue(o=>o.reduce((i,s)=>{let[a,c]=s;return yne(i,a,c)},{}))):Cr(r).pipe(Pj(),ea((o,i)=>{let[s,a]=i;return yne(o,s,a)},{}))}))}function xZt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function wZt(e,t){return t.filter(n=>!(n[0]in e))}function CZt(e){return ed(e)?e._ref:"_id"in e?e._id:void 0}function iF(e,t,n,r){if(!e||typeof e!="object")return be(e);const o=CZt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=wZt(i,t);if(o&&s.length>0){const u=fo(s.map(f=>f[0])),d=Eve(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(it(f=>f===null?be(null):iF({...xZt(u),...ed(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=wt(e)?e[d]:void 0:u[d]=iF(e[d],f,n,r),u},i);return be(c).pipe(bZt({wait:!0}))}function _Zt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function SZt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return iF(n,_Zt(r),t,o)}}}function kZt(e){return _r(e)}function EZt(e){return _r(e)}function jZt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(g4(i)){if(!Eve(o))return be({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(it(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return be({snapshot:void 0})}))}if(Tu(i))return EZt(o)?t(o._ref).pipe(it(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return be({snapshot:void 0})})):be({snapshot:void 0});const c=SB(i.preview);return c?n(o,c,a).pipe(ue(u=>({type:i,snapshot:u&&o5(u,i,s)}))):be({type:i,snapshot:o&&kZt(o)?oF(i,o,s).returnValue:null})}}function TZt(e,t){const{observeDocumentPairAvailability:n}=cDe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=AAe(i);return n(a).pipe(it(u=>{if(!u.draft.available&&!u.published.available)return be({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Lo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ue(f=>{let[p,m]=f;const v=wt(p)&&"_type"in p&&p._type||wt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function AZt(e){return oNt(e.reduce((t,n,r)=>{let[o,i]=n;const s=Cm(i.join(","),__e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function DZt(e){return JSON.stringify(e)}const IZt=e=>DAe(e)?'"'.concat(e,'": @').concat(aB(e)):e;function PZt(e){let{ids:t,fields:n}=e;const r=[...aDe,...n];return"*[_id in [".concat(t.map(DZt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(IZt).join(","),"}")}function OZt(e){return"[".concat(e.map(PZt).join(","),"][0...").concat(e.length,"]")}function RZt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function $Zt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const MZt=e=>e;function FZt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MZt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function LZt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Cr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(ta()),C=w.pipe(mt(S=>S.type==="welcome"),Eo({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(mt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return sn(C.welcome$,C.mutations$.pipe(mt(_=>_.documentId===w)))}function s(w){return function(_){const S=AZt(_);return w.observable.fetch(OZt(S),{},{tag:"preview.document-paths"}).pipe(ue(k=>RZt(k,S)))}}const a=jS(s(n),100),c=jS(s(n),1e3);function u(w,C){return i(w).pipe(it(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ht(S=>Vr(be(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=qj(function(C){const _=n.withConfig(C),S=s(_);return jS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ai(document,"visibilitychange").pipe(ri(0),ue(()=>document.visibilityState==="visible"),it(w=>w?Bo(0,p):Xn),ta());function v(w,C,_){return m.pipe(ri(0)).pipe(it(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const k=sn(uo(()=>S===null?Xn:be(S)),_?v(w,C,_):u(w,C)).pipe(xn(j=>S=j),Eo({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:k}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const k=d[S];Vp(C,In(k.map(T=>T.fields))).length>0&&k.push(g(w,C,_));const E=k.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Lo(E).pipe(ue(T=>T.filter(Boolean)),mt(T=>FZt(T,A=>A._rev)),ue(T=>T.length===0?null:x(T,C)),Qn($Zt(C)))}return{observeFields:y};function x(w,C){return[...tZt,...C].reduce((_,S)=>{const k=b(w,S);return k!==void 0&&(_[S]=k),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function BZt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=LZt({observePaths:r,versionedClient:n}),{observePaths:i}=SZt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ue(p=>wt(p)&&typeof p._type=="string"?p._type:void 0),Qn())}const a=jZt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=cDe(n,i),{observePathsDocumentPair:u}=TZt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const NZt=e=>!!(e.type&&e.type.name==="document"),zZt=e=>e.name.startsWith("sanity."),VZt=e=>e.getTypeNames().map(t=>e.get(t)).filter(po).filter(t=>NZt(t)).filter(t=>!zZt(t)),HZt=(e,t)=>{const{phrases:n,words:r}=GZt(e),[o,i]=YZt(n,t),[s,a]=qZt(r,t);return[o+s,[a,i].join(", ")]},UZt=e=>typeof e=="string"?e:JSON.stringify(e);function WZt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=g9(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=UZt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=HZt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function YZt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function qZt(e,t){const n=fo(wT(DSe(lv(t)))),r=Bk(e,n),o=sEe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function GZt(e){const t=fo(e.map(lv)),[n,r]=e9(t,o=>/^".*"$/.test(o));return{phrases:fo(n).map(lv).map(KZt),words:fo(r.map(lv))}}function KZt(e){return e.replace(/^"(.*)"$/,"$1")}const ZZt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,XZt=/(^[.]+)|([.]+$)/;function QZt(e){return(e.match(ZZt)||[]).map(t=>t.replace(XZt,""))}const JZt=4,eXt=1e3,tXt=EAt([In,sEe,wT]);function bne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:IWt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const uDe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function nXt(e,t){const n=tXt(t.map(o=>(o.paths||[]).map(i=>uDe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function rXt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>DSe(i).length>1?(t.push(i),""):i),r=t.map(i=>zAt(lv(i))),o=fo(wT(QZt(lv(n))));return[...r,...o]}function oXt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function dDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=bne(e.types,!1),u=rXt(e.query),d=c?bne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...nXt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const k='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((E,T)=>'"w'.concat(T,'": ').concat(uDe(E)))," }");return"".concat(k).concat(j)}),m=oXt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,k=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(k,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(JZt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:eXt)+C;return{query:w,params:{...iXt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const iXt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function sXt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function TB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=sXt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=dDe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ue(yWt):xn(),ue(p=>WZt(d,p,f)),i!=null&&i.skipSortByScore?xn():ue(p=>Cm(p,m=>-m.score)))}}const aXt={available:!0,reason:"READABLE"},xne={available:!1,reason:"PERMISSION_DENIED"},wne={available:!1,reason:"NOT_FOUND"};function fDe(e,t,n){const{publishedId:r,draftId:o}=AAe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(it(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?xne:wne;return be({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Lo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ue(d=>{let[f,p]=d;return f||p})).pipe(it(d=>{if(!d)return be({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return be({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...SB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ue(y=>y?{_id:o,...o5(y,f)}:void 0),ri(void 0)),v=e.observePaths(c,p).pipe(ue(y=>y?{_id:r,...o5(y,f)}:void 0),ri(void 0));return Lo([m,v]).pipe(ue(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(ue(y=>{const x=s.draft.available||s.published.available?aXt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?xne:wne;return{type:d,id:r,availability:x,preview:{draft:wt(y.draft)?y.draft:void 0,published:wt(y.published)?y.published:void 0}}}))}))}))}function lXt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:si(t.id))}function cXt(e,t){return t.length===0?be([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function hDe(e,t,n,r){return TB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ue(i=>i.map(s=>s.hit)),ue(cA),ue(i=>i.slice(0,100)),ht(i=>cXt(e,lXt(i)).pipe(ue(s=>i.map(a=>{const c=si(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function uXt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Qp=Symbol.for("sanity.patch");function Ki(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Qp,type:"setIfMissing",path:t,value:e}}function tf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Qp,type:"insert",path:n,position:t,items:e}}function xt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Qp,type:"set",path:t,value:e}}function nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Qp,type:"unset",path:e}}function dXt(e,t){return{...e,path:[t,...e.path]}}class ft{static from(t){return t instanceof ft?t:new ft(Array.isArray(t)?In(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...In(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...this.patches,...In(n)])}prefixAll(t){return ft.from(this.patches.map(n=>dXt(n,t)))}}var Cne=Object.freeze,fXt=Object.defineProperty,hXt=(e,t)=>Cne(fXt(e,"raw",{value:Cne(t||e.slice())})),_ne;const pXt={warning:"caution",error:"critical"},mXt=O(M)(_ne||(_ne=hXt([`
  border-top: 1px solid var(--card-border-color);
`])));function Vc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(ee,{radius:2,tone:pXt[n],...i,"data-ui":"Alert",children:[l.jsxs(Y,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx($r,{}),n==="error"&&l.jsx(ia,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(mXt,{children:r})]})}function AB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function $i(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zu;const r=AB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function pDe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const gXt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vXt=/_key\s*==\s*['"](.*)['"]/;function wn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Pr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function Fa(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(xl(n))return Fa(Array.isArray(e)?e[n]:void 0,r);if(Pr(n))return Fa(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return Fa(wt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function yXt(e,t){return typeof t!="number"&&!Pr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Sl(n)&&n._key===t._key)}function bXt(e){const t=e.match(gXt);if(!t)throw new Error("Invalid path string");return t.map(xXt)}function xXt(e){return xl(e)?wXt(e):Pr(e)?CXt(e):Ep(e)?_Xt(e):e}function wXt(e){return Number(e.replace(/[^\d]/g,""))}function CXt(e){const t=e.match(vXt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function _Xt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function mDe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Pr(n)&&Pr(o)?n._key===o._key:xl(n)?Number(n)===Number(o):Ep(n)&&Ep(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function gDe(e){return Sl(e)?e._key:void 0}function sF(e){const t=gDe(e);return t?{_key:t}:void 0}function SXt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function vDe(e,t){return e.get((t==null?void 0:t.author)||null)}function eC(e,t){const n=Array.isArray(t)?t:bXt(t);return kXt(e,n)}function kXt(e,t){const n=aF(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function aF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Ep(r))throw new Error("Index tuples are not supported in diff paths");if(xl(r)||Pr(r)){const s=xl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(wn(n)," (not an array)");return}const a=e.items.find(xl(r)?c=>c.toIndex===r:c=>EXt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(wn(n)," (item missing)");return}return aF(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(wn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(wn(n)," (field did not exist)");return}return aF(i,o,n.concat(r))}function EXt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function mA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){jXt(e,t,n);return}if(e.type==="object"){TXt(e,t,n);return}e.type==="string"&&AXt(e,t,n)}}function jXt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:DXt(r);mA(r.diff,t,n.concat(s))})}function TXt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];mA(o,t,n.concat(r))})}function AXt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{mA(r,t,n)})}function DXt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function yDe(e){const t=xB();return vDe(t,e)}function n0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=xB(),r=h.useMemo(()=>eC(e,t),[e,t]);return h.useMemo(()=>vDe(n,r),[r,n])}function Zi(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=eC(t,n);return l.jsx(Sne,{...r,annotations:o?[o]:[]})}return l.jsx(Sne,{...e})}function Sne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(re,{padding:3,space:2,children:[l.jsx(Vt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(re,{space:2,children:t.map((s,a)=>l.jsx(IXt,{annotation:s},a))})]});return l.jsx(Gu,{zOffset:"paneFooter",children:l.jsx(at,{content:i,portal:!0,...o,children:n})})}function IXt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=r1(n),i=yDe(t),s=Xo(r,{minimal:!0});return l.jsxs(Gt,{space:2,children:[l.jsxs(Y,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Va,{user:n}),l.jsx(Gt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var kne=Object.freeze,PXt=Object.defineProperty,OXt=(e,t)=>kne(PXt(e,"raw",{value:kne(t||e.slice())})),Ene;const RXt=O(ee)(Ene||(Ene=OXt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),$Xt=[],Si=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=$Xt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||eC(a,u),[r,a,u]),v=yDe(m),g=l.jsx(RXt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(Zi,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var jne=Object.freeze,MXt=Object.defineProperty,bDe=(e,t)=>jne(MXt(e,"raw",{value:jne(t||e.slice())})),Tne,Ane;const DB=O.div(Tne||(Tne=bDe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),i5=O(L)(Ane||(Ane=bDe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function FXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(LXt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(BXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(NXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function LXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?eC(n.diff,[]):void 0)||t;return c?l.jsx(Si,{annotation:c,tooltip:{description:i},as:DB,children:l.jsx(i5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function BXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Si,{annotation:t||null,as:DB,tooltip:{description:o},children:l.jsxs(i5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function NXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"":"",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(i5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Si,{annotation:t,as:DB,tooltip:{description:a},children:l.jsxs(i5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function xDe(e){const{change:t,titlePath:n}=e;return l.jsx(RL,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Oc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(FXt,{change:t,segment:r},o):null)})}function zXt(e){return wt(e)&&typeof(e==null?void 0:e.then)=="function"}function VXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return zXt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const lF=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Zo(i),a=Ho();return VXt(t,n,{currentUser:a,document:r,parent:o,value:s})},Ku=h.createContext({path:[]});function cF(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(HXt(t)&&UXt(e))for(const o of t.fields){const i=cF(e[o.name],o.type);if(i)return i}}}function HXt(e){return e.jsonType==="object"}function UXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function WXt(e){return p4(e)?e._type:qXt(e)}function YXt(e,t){return e.action==="added"?{toType:Z1(t,e.toValue)}:e.action==="changed"?{fromType:Z1(t,e.fromValue),toType:Z1(t,e.toValue)}:e.action==="removed"?{fromType:Z1(t,e.fromValue)}:{toType:Z1(t,e.toValue)}}function Z1(e,t){const n=WXt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function qXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const Y0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],gA="",q0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],GXt="",s5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],KXt="",wDe="";function ZXt(e){return e.of.some(_De)}const XXt=q0.map(e=>e[0]).concat(Y0.map(e=>e[0])),QXt=q0.map(e=>e[1]).concat(Y0.map(e=>e[1])),CDe=XXt.concat(QXt).concat(s5).concat(gA).concat(wDe),Dne=new RegExp("".concat(CDe.join("|")),"g"),JXt=new RegExp("".concat(CDe.join("|"),`|
`),"g");function _De(e){return e.jsonType==="object"&&e.name==="block"}function eQt(e){return ju(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Ine(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function uF(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function IB(e){return e.decorators?L0(e.decorators,["value"],["asc"]):[]}function SDe(e,t){return IB(t).some(n=>n.value===e)}function Pne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=qs(i)?(s=i.text)==null?void 0:s.replace(Dne,""):"";if(qs(i)){const c=PB(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Dne,"")).join(wDe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(gA).concat(a)}).join(""):""}function tQt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=uF(t.fields,{_key:"bogus",_type:"span"});a&&IB(a).forEach((g,y)=>{i[g.value]=q0[y]}),jDe(r.origin).forEach((g,y)=>{o[g._key]=Y0[y]}),kDe(r.origin).forEach((g,y)=>{s[g._key]=s5[y]});const d=Pne(r.origin,r.fromValue,i,o,s),f=Pne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:nQt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function nQt(e,t){const n=[],r=q9(Nw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case jt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Zn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return In(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(JXt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function kDe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),L0(t,["_key"],["asc"])}function PB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function rQt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function EDe(e){return e&&Ht(Object.keys(e),["_key","_type"])||!1}function oQt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function jDe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),L0(t,["_key"],["asc"])}const iQt=[];function sQt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function aQt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const lQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?sQt:aQt,c=n0(t,[]),u=o!=null;return l.jsxs(Y,{align:"center",children:[l.jsx(Zi,{diff:t,children:l.jsxs(Y,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(BB,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var One=Object.freeze,cQt=Object.defineProperty,uQt=(e,t)=>One(cQt(e,"raw",{value:One(t||e.slice())})),Rne;const dQt="YYYY-MM-DD",fQt="HH:mm",hQt=O.div(Rne||(Rne=uQt([`
  display: inline-block;
  word-wrap: break-word;
`]))),pQt=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:hQt,paddingX:2,paddingY:1,children:mQt(n,r)})};function mQt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||dQt,i=(n==null?void 0:n.timeFormat)||fQt;return qT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const $ne=e=>{let{diff:t,schemaType:n}=e;return l.jsx(tC,{align:"center",diff:t,layout:"grid",previewComponent:pQt,schemaType:n})},TDe=h.createContext(null);function vA(){const e=h.useContext(TDe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Mne(e){const[t,n]=h.useState(void 0),r=hr(ln);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function gQt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Fne=Object.freeze,vQt=Object.defineProperty,yQt=(e,t)=>Fne(vQt(e,"raw",{value:Fne(t||e.slice())})),Lne;const bQt=O.div(Lne||(Lne=yQt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),xQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Mne(s==null?void 0:s._ref),u=Mne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[k,j]=S;return j.isChanged&&k!=="_type"}).map(S=>{let[k]=S;return k}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=gQt(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Si,{as:"del",diff:t,path:"asset._ref",style:b,children:l.jsx(mF,{title:c.originalFilename||"Untitled",icon:Ef,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&l.jsx(Si,{as:"ins",diff:t,path:"asset._ref",style:b,children:l.jsx(mF,{title:u.originalFilename||"Untitled",icon:Ef,children:l.jsxs(Y,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(ee,{radius:2,padding:1,as:bQt,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(Zi,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(Zi,{diff:t,path:"asset._ref",children:l.jsx(NB,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(Zi,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(nC,{diff:t,schemaType:n,fields:p})})]})};function Bne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function wQt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function CQt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function _Qt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=n0(n,"crop"),u=n0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(Nne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(Zi,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(SQt,{crop:t,fill:Bne(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(Zi,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(Nne,{hotspot:o,fill:Bne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function SQt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Nne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var zne=Object.freeze,kQt=Object.defineProperty,OB=(e,t)=>zne(kQt(e,"raw",{value:zne(t||e.slice())})),Vne,Hne,Une;const EQt=["originalFilename"],Wne=()=>l.jsx(ee,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(Y,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),jQt=O.div(Vne||(Vne=OB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),pe.gray[100].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex),TQt=O.img(Hne||(Hne=OB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),AQt=O.div(Une||(Une=OB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function bO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=hr(ln),[p,m]=ie.useState(),{value:v}=Hxn(i,EQt),g=pTt(i),y=h.useMemo(()=>xT(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(CQt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(Y,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(Y,{as:jQt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(TQt,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(AQt,{children:l.jsx(_Qt,{crop:u&&!eTt(u)?u:void 0,diff:a,hash:wQt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!tTt(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(mF,{title:b,icon:El,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width,"  ",g.height]})})]})}const DQt=["crop","hotspot"],IQt=["asset",...DQt],xO={flex:1},PQt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=eC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!IQt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?l.jsx(Si,{annotation:f,style:xO,children:l.jsx(bO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):l.jsx(Wne,{}),S=s&&d?l.jsx(Si,{annotation:f,style:xO,children:l.jsx(bO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):l.jsx(Wne,{});if(!_&&!S)return l.jsx(ee,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Si,{annotation:f,style:xO,children:l.jsx(bO,{id:d,is:"to",diff:t})}):null;const k=l.jsx(NB,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(Zi,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:k}):k),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(nC,{diff:t,schemaType:n,fields:m})})]})};var Yne=Object.freeze,OQt=Object.defineProperty,RQt=(e,t)=>Yne(OQt(e,"raw",{value:Yne(t||e.slice())})),qne;const $Qt=O.div(qne||(qne=RQt([`
  display: inline-block;
  word-break: break-all;
`]))),MQt=e=>{const{value:t}=e;return l.jsx(M,{as:$Qt,paddingX:2,paddingY:1,children:t})},FQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(tC,{diff:t,schemaType:n,previewComponent:MQt,layout:"inline"})};var Gne=Object.freeze,LQt=Object.defineProperty,BQt=(e,t)=>Gne(LQt(e,"raw",{value:Gne(t||e.slice())})),Kne;const NQt=O.blockquote(Kne||(Kne=BQt([`
  margin: 0;
`])));function zQt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(NQt,{children:t})})}var Zne=Object.freeze,VQt=Object.defineProperty,HQt=(e,t)=>Zne(VQt(e,"raw",{value:Zne(t||e.slice())})),Xne;const UQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},WQt=O(zo)(Xne||(Xne=HQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function YQt(e){let{style:t,children:n}=e;return l.jsx(WQt,{size:UQt[t],children:n})}var Qne=Object.freeze,qQt=Object.defineProperty,GQt=(e,t)=>Qne(qQt(e,"raw",{value:Qne(t||e.slice())})),Jne;const KQt=O.div(Jne||(Jne=GQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function ZQt(e){let{children:t}=e;return l.jsx(KQt,{children:t})}const XQt=[];function QQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=n0(o,XQt),{path:c}=h.useContext(Ku),{onSetFocus:u}=h.useContext(Im),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(zQt,{children:f}):i.style&&eQt(i)?f=l.jsx(YQt,{style:i.style,children:f}):f=l.jsx(ZQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(ee,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(re,{space:2,children:[l.jsx(Zi,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var ere=Object.freeze,JQt=Object.defineProperty,yA=(e,t)=>ere(JQt(e,"raw",{value:ere(t||e.slice())})),tre,nre,rre,ore;const G0=O(M)(tre||(tre=yA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),ADe=O(L)(nre||(nre=yA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),RB=O(M)(rre||(rre=yA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),G0),DDe=O(M)(ore||(ore=yA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var ire=Object.freeze,eJt=Object.defineProperty,tJt=(e,t)=>ire(eJt(e,"raw",{value:ire(t||e.slice())})),sre;const dF=O.div(sre||(sre=tJt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),RB);function nJt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(rJt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(dF,{children:t}):l.jsx(dF,{...s,children:"Unknown schema type"})}function rJt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Im),{path:c}=h.useContext(Ku),[u,d]=h.useState(null),f=n0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&EDe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>c.slice(0,c.findIndex(I=>Pr(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(Lr(C)),S=oB(),k=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&k&&(g(!0),a(C))},[k,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),E=h.useCallback(()=>{k||g(!1)},[k]);cr(E,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(Ku.Provider,{value:{path:C},children:l.jsx(DDe,{padding:3,children:l.jsxs("div",{children:[y&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&l.jsx(nC,{diff:t,schemaType:o})]})})});return l.jsx(dF,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(en,{content:D,open:v,ref:d,portal:!0,children:l.jsx(RB,{paddingLeft:1,children:l.jsx(Zi,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(G0,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(Y,{align:"center",paddingX:1,children:l.jsx(ADe,{size:0,children:l.jsx(qa,{})})})]})})})})})}var are=Object.freeze,oJt=Object.defineProperty,iJt=(e,t)=>are(oJt(e,"raw",{value:are(t||e.slice())})),lre;const sJt=O.span(lre||(lre=iJt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function aJt(e){let{mark:t,children:n}=e;return l.jsx(sJt,{decoration:t,children:n})}var cre=Object.freeze,lJt=Object.defineProperty,cJt=(e,t)=>cre(lJt(e,"raw",{value:cre(t||e.slice())})),ure;const fF=O(ee)(ure||(ure=cJt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),G0);function uJt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(dJt,{...o,diff:t,object:n,schemaType:r}):l.jsx(fF,{children:l.jsx(uC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(fF,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function dJt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Ku),{onSetFocus:a}=h.useContext(Im),c=n0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&EDe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(E=>Pr(E)&&E._key===n._key)).concat(r),y="field-".concat(Lr(g)),b=oB().filter(E=>{let[T]=E;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([zve]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(E=>{if(E.stopPropagation(),f(!0),!m){a(w);return}E.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(Ku.Provider,{value:{path:g},children:l.jsx(fJt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),k=t.action!=="unchanged"&&t.annotation||null,j=k?[k]:[];return l.jsx(fF,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(en,{content:S,open:d,portal:!0,children:l.jsx(RB,{children:l.jsx(Zi,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(G0,{children:[l.jsx(uC,{schemaType:o,value:n,layout:"inline"}),l.jsx(Y,{align:"center",paddingX:1,children:l.jsx(ADe,{size:0,children:l.jsx(qa,{})})})]})})})})})}function fJt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return cr(a,[i]),l.jsxs(DDe,{ref:s,padding:3,children:[n&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(nC,{diff:t,schemaType:o})]})}function hJt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(pJt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(G0,{children:r})}function pJt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ie.useContext(Im),{path:c}=ie.useContext(Ku),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(b=>Pr(b)&&Pr(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?l.jsx(Si,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(fn(i.action)," text")},children:r}):null;return l.jsx(G0,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const $B=q0.map(e=>e[0]),MB=q0.map(e=>e[1]),TS=Y0.map(e=>e[0]),hF=Y0.map(e=>e[1]),mJt=$B.concat(TS),IDe=MB.concat(hF),gJt=$B.concat(MB),vJt=new RegExp("".concat(gJt.concat(IDe).join("|")),"g");function yJt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?kDe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=uF(n.fields,s);let c=[];if(a){c=IB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(wJt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=Ine(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return l.jsx(Si,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(fn(b.action)," empty text")},children:l.jsx("span",{children:GXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=jDe(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=s5.includes(b.text),k=mJt.includes(b.text),j=IDe.includes(b.text),E=b.text===gA,T=b.action==="removed";if(E)T||m++;else if(k||j){if(k&&TS.includes(b.text)){const A=x[TS.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,hF[TS.indexOf(b.text)]],object:A})}j&&hF.includes(b.text)&&(y=g.pop())}else if(S){const A=s5.findIndex(P=>P===b.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=uF(n.fields,I),$=Ine(t.origin,I);f.push(l.jsx(uJt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:P},"inline-object-".concat(I._key)))}}else if(b.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(V=>V.text&&V.text.match(oQt(b.text)))},D=r.children[m]||A(),I=D&&PB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(hJt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:b,children:bJt({diff:t,child:D,decoratorTypes:c,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),y){const R="annotation-".concat(y.object._key),V=f[f.length-1];if(V&&V.key!==R){const N=rQt(t.origin,y.mark),H=y&&a.annotations&&a.annotations.find(G=>y&&y.object&&G.name===y.object._type);f.push(l.jsx(nJt,{object:y.object,diff:N,path:[{_key:r._key},"children",{_key:D._key}],schemaType:H,children:l.jsx(l.Fragment,{children:p[y.mark]})},R))}y=void 0}g.length===0&&f.push($)}}),ie.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(QQt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function bJt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,KXt)},"text-".concat(i));const c=n&&PB(t.origin,n),u=qs(n)?n.marks||[]:[];return c&&(a=xJt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{SDe(d,s)&&(a=l.jsx(aJt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function xJt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(gA).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(vJt)].forEach(S=>{var k;const j=S[0],E=q0.concat(Y0).find(T=>T.indexOf(j)>-1);if(E){const T=j===E[0],A=((k=n[T?$B.indexOf(j):MB.indexOf(j)])==null?void 0:k.value)||j;w.lastIndexOf(j)>w.lastIndexOf(E[1])&&C.push(A)}}),g=c8t(t,fo(C)),v&&g.length>0&&g.some(S=>SDe(S,c))&&(d=l.jsx(Si,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function wJt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const CJt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>tQt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(yJt,{diff:r,schemaType:n})})};var dre=Object.freeze,_Jt=Object.defineProperty,SJt=(e,t)=>dre(_Jt(e,"raw",{value:dre(t||e.slice())})),fre;const kJt=O.div(fre||(fre=SJt([`
  word-wrap: break-word;
`]))),EJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:kJt,padding:2,children:l.jsx(uC,{schemaType:n,value:t,layout:"default"})})},jJt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(tC,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:EJt,schemaType:n})};var hre=Object.freeze,TJt=Object.defineProperty,AJt=(e,t)=>hre(TJt(e,"raw",{value:hre(t||e.slice())})),pre;const DJt=O.div(pre||(pre=AJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),IJt=e=>{const{value:t}=e;return l.jsx(M,{as:DJt,paddingX:2,paddingY:1,children:t})};var mre=Object.freeze,PJt=Object.defineProperty,OJt=(e,t)=>mre(PJt(e,"raw",{value:mre(t||e.slice())})),gre;const RJt=O.div(gre||(gre=OJt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),$Jt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(tC,{diff:t,previewComponent:IJt,schemaType:n}):l.jsx(RJt,{children:l.jsx(jen,{diff:t})})},vre={block:CJt,boolean:{component:lQt,showHeader:!1},date:$ne,datetime:$ne,file:xQt,image:PQt,number:FQt,reference:jJt,string:$Jt};function PDe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||MJt(r,t)||vre[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return vre[i]}function MJt(e,t){const n=iQt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function FJt(e){const t=yre(e.fromValue),n=yre(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function ODe(e){return e.type==="field"}function yre(e){return e!==null&&typeof e<"u"&&e!==""}function FB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!PDe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return RDe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return NJt(e,t,n,r)}return $De(e,t,n,r,o)}function RDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...LJt(c.field,t,n,r,s)):i.push(...BJt(c,t,n,r,s));return i.length<2?i:[{type:"group",key:wn(n)||"root",path:n,titlePath:r,changes:LB(i,r.length),schemaType:e}]}function LJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return FB(e.type,a,c,u,s)}function BJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...FB({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:wn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:LB(g,v.length),readOnly:m,hidden:p}]}function NJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=ZXt(e),s=[],a=o.reduce((c,u)=>{const d=YXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",wn(n)),c;const p=sF(u.diff.fromValue)||sF(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&mDe(m,b.path)&&(b.itemDiff=u),b),x=FB(f,u.diff,m,g,v).map(y);return i&&x.filter(ODe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...$De(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:wn(n)||"root",path:n,titlePath:r,changes:LB(a,r.length),schemaType:e}]:a}function $De(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&bre(a)&&bre(c))return[];let d;typeof a<"u"&&(d=cF(a,e)),!d&&typeof c<"u"&&(d=cF(c,e));let f=!0,p;const m=PDe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:wn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function LB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function bre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const xre=e=>e.type==="field"&&e.diff.action==="added",MDe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...MDe(n))}),t},FDe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},zJt=(e,t)=>{const n=e[t],r=gDe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},VJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function bA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=MDe(e),i=o.filter(xre);o.filter(s=>!xre(s)).forEach(s=>bA(s,t,n)),r.push(...wre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...wre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...UJt(e.itemDiff,e.parentDiff,e.path)):r.push(...WJt(e.diff,t,e.path));n.patch.execute(r)}function HJt(e,t,n){const r=e.toValue;return LDe(r,t,n)}function wre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>FDe(t[r],i))||n.push(HJt(e,t[r],t));return[{unset:[...new Set(n.map(wn))]}]}function LDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=Fa(e,o),s=[o,...n.filter(a=>!FDe(a,o))];return BDe(i,o,n)?LDe(e,o,s,r):t}function UJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=GJt(t,e);let a;if(i===0)a={before:wn([...r,0])};else{const c=i-1,d=sF(o[c])||c;a={after:wn([...r,d])}}return[{unset:[wn(n)]},{insert:{...a,items:[s]}}]}function WJt(e,t,n){const r=JT(e.toValue,e.fromValue,VJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:wn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(wn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...YJt(f.path,t,s)),d[wn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function YJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=wn(a);if(n.has(c))continue;const u=e[s],d=Pr(u)||xl(u),f=Fa(r,a),p=Cre(f);if(d&&Array.isArray(f)&&!Fa(o,e.slice(0,s+1))){const m=yXt(f,u),v=f[m-1],g=Fa(r,a.concat(u)),y=Sl(v)?{_key:v._key}:m-1,x=wn(a.concat(m<1?0:y));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[Cre(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function qJt(e,t,n){if(!wt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,zJt(e,r)];if(!BDe(e[r],o,n))return!1}return!0}function BDe(e,t,n){const r=n==null?void 0:n.some(i=>wn(i)===wn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||SXt(e)||qJt(e,t,n)}function Cre(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Sl(e)&&(t._key=e._key),p4(e)&&(t._type=e._type),t}function GJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const Hc=!1;class KJt extends ie.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(Y,{children:[l.jsx(L,{size:1,children:l.jsx(ia,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),Hc]})]})}):this.props.children}}const ZJt={down:d0e,right:f0e};function BB(e){const{direction:t="right",...n}=e,r=ZJt[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var _re=Object.freeze,XJt=Object.defineProperty,NDe=(e,t)=>_re(XJt(e,"raw",{value:_re(t||e.slice())})),Sre,kre;const wO=O.pre(Sre||(Sre=NDe([`
  overflow-x: auto;
  position: relative;
`]))),QJt=O.div(kre||(kre=NDe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function JJt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(een,{change:r}):t})}const CO=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:QJt,children:l.jsx(Vt,{size:1,muted:!0,children:t})})};function een(e){let{change:t}=e;var n,r,o;return l.jsxs(re,{space:3,children:[l.jsxs(ee,{padding:3,tone:"transparent",as:wO,radius:1,children:[l.jsx(CO,{title:"meta"}),l.jsx(sr,{language:"json",size:1,children:ten({path:wn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(ee,{as:wO,tone:"critical",padding:3,radius:1,children:[l.jsx(CO,{title:"from"}),l.jsx(sr,{language:"json",size:1,children:Ere(t.diff.fromValue)})]}),l.jsx(ee,{children:l.jsx(BB,{direction:"down",align:"center"})}),l.jsxs(ee,{as:wO,tone:"positive",padding:3,radius:1,children:[l.jsx(CO,{title:"to"}),l.jsx(sr,{language:"json",size:1,children:Ere(t.diff.toValue)})]})]})}function Ere(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function ten(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const nen={flexShrink:0},ren={alignItems:"stretch"},jre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},NB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=js(),d=o==="inline"?Y:Jt,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ye(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?nen:ren;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(Y,{align:jre[r],style:p,children:i}),l.jsx(Y,{align:"center",justify:"center",padding:2,children:l.jsx(BB,{})})]}),l.jsx(Y,{align:jre[r],style:p,children:s})]})}),_O={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function tC(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=FJt(r);if(c==="unchanged")return l.jsx(Si,{className:n,style:_O,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Si,{as:"del",className:n,diff:r,path:i,style:_O,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Si,{as:"ins",className:n,diff:r,path:i,style:_O,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(Zi,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(Zi,{description:u,diff:r,path:i,children:f}):l.jsx(Zi,{description:u,diff:r,path:i,children:l.jsx(NB,{align:t,from:d,layout:o,to:f})})}const oen=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(uC,{schemaType:n,value:t,layout:"default"})})},ien=e=>{const{diff:t,schemaType:n}=e;return l.jsx(tC,{diff:t,schemaType:n,previewComponent:oen,layout:"grid"})};var Tre=Object.freeze,sen=Object.defineProperty,aen=(e,t)=>Tre(sen(e,"raw",{value:Tre(t||e.slice())})),Are;const len=O(se)(Are||(Are=aen([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),zDe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(len,{icon:N4,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function cen(e){let{error:t}=e;return l.jsx(ee,{tone:"critical",padding:3,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(ia,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Dre=Object.freeze,uen=Object.defineProperty,zB=(e,t)=>Dre(uen(e,"raw",{value:Dre(t||e.slice())})),Ire,Pre,Ore;const den=O.div(Ire||(Ire=zB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),fen=O.div(Pre||(Pre=zB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),hen=O(en)(Ore||(Ore=zB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function pen(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||ien,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ie.Fragment}=vA(),f=Yl(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=fh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{bA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=ie.useCallback(()=>{m(!1)},[]),k=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),E=h.useCallback(()=>m(!1),[]);cr(E,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(re,{space:1,as:den,children:[n.showHeader&&l.jsx(xDe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(JJt,{change:n,as:fen,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(cen,{error:n.error}):l.jsx(KJt,{children:l.jsx(Ku.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&l.jsx(hen,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(zDe,{onClick:_,onMouseEnter:k,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,k,j,C,_,u,w,b,v,A])}function men(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var Rre=Object.freeze,gen=Object.defineProperty,VB=(e,t)=>Rre(gen(e,"raw",{value:Rre(t||e.slice())})),$re,Mre,Fre;const ven=O.div($re||($re=VB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),yen=O.div(Mre||(Mre=VB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),ben=O(en)(Fre||(Fre=VB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function xen(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(Ku),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=vA(),v=s.every(I=>ODe(I)&&_De(I.schemaType)),g=mDe(c,a),[y,x]=men(),b=Yl(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[k,j]=fh({id:u,type:d.name,permission:"update"}),E=h.useCallback(()=>bA(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);cr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(re,{space:1,as:yen,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(re,{as:ven,space:5,children:s.map(I=>l.jsx(VDe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(k==null?void 0:k.granted)&&l.jsx(ben,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:E,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(zDe,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,E,T,r,m,x,j,v,k,y]);return r?null:l.jsxs(re,{space:1,...o,children:[l.jsx(xDe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function VDe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=vA(),a=lF({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=lF({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(pen,{change:r,readOnly:c}):r.type==="group"?l.jsx(xen,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function pF(){return l.jsxs(re,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Lre=Object.freeze,wen=Object.defineProperty,HDe=(e,t)=>Lre(wen(e,"raw",{value:Lre(t||e.slice())})),Bre,Nre;const Cen=O.div(Bre||(Bre=HDe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),_en=O(en)(Nre||(Nre=HDe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function nC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=vA(),a=Yl(o,r.name),{path:c}=h.useContext(Ku),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=lF({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=fh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>RDe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),b=h.useMemo(()=>n&&n.length===0?[]:Sen(x),[x,n]),w=x[0],C=h.useCallback(()=>{bA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),k=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[E,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(cr(A,[E]),b.length===0)return u?l.jsx(pF,{}):null;const D=u&&b.length>1;return l.jsx(ee,{children:l.jsxs(re,{space:5,children:[l.jsx(re,{as:Cen,space:5,children:b.map(I=>l.jsx("div",{children:l.jsx(VDe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&l.jsx(_en,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",b.length," changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(se,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(re,{children:l.jsx(se,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:N4,onClick:_,onMouseEnter:S,onMouseLeave:k,disabled:v})})})]})})}function Sen(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var zre=Object.freeze,ken=Object.defineProperty,UDe=(e,t)=>zre(ken(e,"raw",{value:zre(t||e.slice())})),Vre,Hre;const Ure=O.span(Vre||(Vre=UDe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),Wre=O(L)(Hre||(Hre=UDe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function Een(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Si,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Ure,children:l.jsx(Wre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Si,{annotation:t.annotation,as:Ure,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Wre,{as:"del",children:n})}):l.jsx(ee,{as:"span",radius:2,style:{display:"inline"},children:n})}function jen(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(Een,{segment:n},r))})}var Yre=Object.freeze,Ten=Object.defineProperty,Aen=(e,t)=>Yre(Ten(e,"raw",{value:Yre(t||e.slice())})),qre;const SO=O(L)(qre||(qre=Aen([`
  color: inherit;
`])));function mF(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(Y,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(SO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(re,{space:2,paddingLeft:2,children:[l.jsx(SO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(SO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Gre=Object.freeze,Den=Object.defineProperty,Ien=(e,t)=>Gre(Den(e,"raw",{value:Gre(t||e.slice())})),Kre;O.div(Kre||(Kre=Ien([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const WDe=h.createContext(null);function Pen(e){const t=h.useMemo(()=>({value:e.value}),[e.value]);return l.jsx(WDe.Provider,{value:t,children:e.children})}function HB(e){const t=jc(e),n=h.useContext(WDe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return Fa(n==null?void 0:n.value,t)}const YDe=h.createContext(null);function Oen(e){const t=h.useRef(e.value);t.current=e.value;const n=h.useCallback(r=>Fa(t.current,r),[t]);return l.jsx(YDe.Provider,{value:n,children:e.children})}function Ren(){const e=h.useContext(YDe);if(!e)throw new Error("useFormValue must be used within a FormValueProvider");return e}const qDe=h.createContext(null),$en={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function UB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Jt,{children:l.jsx(se,{icon:ko,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:ko,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"ghost",text:"Add item"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((u,d)=>{var f,p;const m=Tu(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ve,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:$en}),r]})}function md(){const e=h.useContext(qDe);if(!e)throw new Error("FormBuilder: missing context value");return e}var Zre=Object.freeze,Men=Object.defineProperty,Fen=(e,t)=>Zre(Men(e,"raw",{value:Zre(t||e.slice())})),Xre;const Len=e=>e==="error"?l.jsx(ia,{}):e==="warning"?l.jsx($r,{}):l.jsx(lm,{}),Ben=O(L)(e=>{let{theme:t}=e;return he(Xre||(Xre=Fen([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function GDe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=md().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(re,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(Y,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(Ben,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:Len(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function Nen(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const WB=ie.createContext(null),rC=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(WB.Provider,{value:f,children:t.children})});function Qa(){const e=h.useContext(WB);if(!e)throw new Error("Form context not provided");return e}function YB(e,t){return gF(e,t,new WeakSet)}function gF(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=gF(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return n.delete(t),i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=gF(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return n.delete(t),s?e:a}return t}const KDe=h.createContext([]);function zen(e){return l.jsx(KDe.Provider,{value:e.presence,children:e.children})}function Ven(){const e=h.useContext(KDe);if(!e)throw new Error("Form context not provided");return e}function K0(e,t){const n=Ven(),r=h.useRef(n),o=YB(r.current,n.filter(i=>yi(e,i.path)&&(t||!bn(e,i.path))));return r.current=o,o}const ZDe=h.createContext([]);function Hen(e){return l.jsx(ZDe.Provider,{value:e.validation,children:e.children})}function Uen(){const e=h.useContext(ZDe);if(!e)throw new Error("Form context not provided");return e}function qB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Uen();return h.useMemo(()=>n.filter(r=>yi(e,r.path)&&(t||!bn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function Wen(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(Jw,{content:r,placement:"left",children:l.jsx(Ve,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Xs:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const Yen={placement:"right",fallbackPlacements:["top","bottom"]};function qen(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(vF,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(ML,{fontSize:1,icon:t.icon,padding:3,popover:Yen,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(vF,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function vF(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Dr,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Dr,{}),l.jsx(qen,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Dr,{}),l.jsx(Wen,{action:t})]})}const XDe={placement:"top"};function Qre(e){return"renderAsButton"in e&&e.renderAsButton}const Gen=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(Qre),[n]),u=h.useMemo(()=>n.filter(p=>!Qre(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:jo,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(Ken,{node:p,onOpen:s,onClose:a,open:o},m))})}),Ken=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(ee,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(lh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:XDe}):l.jsx(Xen,{node:n,onOpen:r,onClose:o,open:i})}),Zen={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function Xen(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(tn,{button:l.jsx(lh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:XDe}),id:h.useId(),menu:l.jsx(Bt,{children:t.children.map((i,s)=>{var a;return l.jsx(vF,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:Zen})}function QDe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:QDe(t.children)}:t)}const oC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(QDe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(Qen,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),Qen=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Zo(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),JDe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Jre(){return h.useContext(JDe)}const eIe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function iC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Jre(),a=Jre().hoveredStack[0],c=Xp||(a?wn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(eIe.Provider,{value:f,children:n})}function GB(){return h.useContext(eIe)}function Jen(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=wn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=wn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(JDe.Provider,{value:s,children:t})}const tIe=h.createContext(null);function etn(e){const t=h.useMemo(()=>({id:e.id}),[e.id]);return l.jsx(tIe.Provider,{value:t,children:e.children})}function ttn(){const e=h.useContext(tIe);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function xA(){return Rn(ttn())}const ntn={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function rtn(e){const{__internal_fieldActions:t=dn,__internal_patchChannel:n=ntn,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_,presence:S,readOnly:k,renderAnnotation:j,renderBlock:E,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:I,renderPreview:P,schemaType:$,unstable:R,validation:V}=e,N=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:UB,CustomMarkers:(R==null?void 0:R.CustomMarkers)||Nen,Markers:(R==null?void 0:R.Markers)||GDe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},onChange:g}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,g,n,R==null?void 0:R.CustomMarkers,R==null?void 0:R.Markers]),H=h.useMemo(()=>({__internal:N,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,readOnly:k,renderAnnotation:j,renderBlock:E,renderField:T,renderInlineBlock:A,renderInput:D,renderItem:I,renderPreview:P,schemaType:$}),[N,r,o,s,a,d,f,p,m,k,j,E,T,A,D,I,P,$]);return l.jsx(qDe.Provider,{value:H,children:l.jsx(rC,{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetPathCollapsed:_,onSetFieldSetCollapsed:C,children:l.jsx(etn,{id:m,children:l.jsx(zen,{presence:S,children:l.jsx(Hen,{validation:V,children:l.jsx(Jen,{children:i})})})})})})}function otn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S}=e,{file:k,image:j}=Fn().form,E=oOe(),T=iOe(),A=SN(),D=sOe(),I=aOe(),P=lOe(),$=cOe(),R=h.useCallback(Z=>l.jsx(E,{...Z}),[E]),V=h.useCallback(Z=>l.jsx(T,{...Z}),[T]),N=h.useCallback(Z=>l.jsx(D,{...Z}),[D]),H=h.useCallback(Z=>l.jsx(_B,{component:A,...Z}),[A]),G=h.useCallback(Z=>l.jsx(I,{...Z}),[I]),U=h.useCallback(Z=>l.jsx(P,{...Z}),[P]),q=h.useCallback(Z=>l.jsx($,{...Z}),[$]);return l.jsx(rtn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:j,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:x,onSetFieldSetCollapsed:b,presence:w,readOnly:C,renderAnnotation:q,renderBlock:G,renderField:V,renderInlineBlock:U,renderInput:R,renderItem:N,renderPreview:H,schemaType:_,validation:S,children:i})}const nIe=h.createContext(null);function itn(e){const t=h.useMemo(()=>({actions:e.actions||dn}),[e.actions]);return l.jsx(nIe.Provider,{value:t,children:e.children})}function wA(){const e=ie.useContext(nIe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function stn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:k}=e,j=h.useCallback(ae=>b([ae],!0),[b]),E=h.useCallback(ae=>b([ae],!1),[b]),T=h.useCallback(()=>m(dn),[m]),A=h.useCallback(()=>v(dn),[v]),D=h.useCallback(ae=>p(ft.from(ae)),[p]),I=h.useRef(null),P=h.useCallback(ae=>y(dn,ae),[y]),$=h.useCallback(ae=>g([ae]),[g]),R=h.useCallback(()=>g([]),[g]),V=h.useCallback(ae=>x([ae],!0),[x]),N=h.useCallback(ae=>x([ae],!1),[x]),H=oOe(),G=iOe(),U=SN(),q=sOe(),Z=aOe(),B=lOe(),W=cOe(),z=h.useCallback(ae=>l.jsx(H,{...ae}),[H]),X=h.useCallback(ae=>l.jsx(G,{...ae}),[G]),Q=h.useCallback(ae=>l.jsx(q,{...ae}),[q]),ne=h.useCallback(ae=>l.jsx(_B,{component:U,...ae}),[U]),K=h.useCallback(ae=>l.jsx(Z,{...ae}),[Z]),J=h.useCallback(ae=>l.jsx(B,{...ae}),[B]),oe=h.useCallback(ae=>l.jsx(W,{...ae}),[W]),fe={focusPath:a,elementProps:{ref:I,id:d,onBlur:T,onFocus:A,"aria-describedby":void 0},changed:f.some(ae=>ae.kind==="field"&&ae.field.changed),focused:c,groups:u,id:d,level:0,members:f,onChange:D,onFieldClose:R,onFieldCollapse:j,onFieldSetCollapse:V,onFieldExpand:E,onFieldSetExpand:N,onPathFocus:v,onFieldOpen:$,onFieldGroupSelect:P,path:dn,presence:dn,readOnly:C,renderAnnotation:oe,renderBlock:K,renderField:X,renderInlineBlock:J,renderInput:z,renderItem:Q,renderPreview:ne,schemaType:_,validation:dn,value:k};return l.jsx(otn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,children:l.jsx(Oen,{value:k,children:l.jsx(Pen,{value:k,children:l.jsx(itn,{actions:t,children:z(fe)})})})})}const rIe=h.createContext({});function oIe(){return h.useContext(rIe)}function atn(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(rIe.Provider,{value:s,children:t})}h.createContext(null);function CA(e,t){return $i(t,h.useCallback((n,r)=>{e.current&&!n&&r&&Yv(e.current,{scrollMode:"always"})},[e]))}function ltn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return x9(t),t}const ctn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Ox(e){const t=ctn();return ltn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var eoe=Object.freeze,utn=Object.defineProperty,iIe=(e,t)=>eoe(utn(e,"raw",{value:eoe(t||e.slice())})),toe,noe;const dtn={portal:!0},ftn=O(ee)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return he(toe||(toe=iIe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),htn=O(M)(noe||(noe=iIe([`
  max-width: 150px;
`]))),roe=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function KB(e){const{presence:t}=e,{color:n}=c0e().sanity,r=n.dark?"light":"dark",{selected:o}=MYt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(po),[t]),s=h.useMemo(()=>l.jsx(htn,{padding:2,children:l.jsx(L,{align:"center",size:1,children:roe(i)})}),[i]);return l.jsx(at,{content:s,...dtn,children:l.jsx(ftn,{scheme:o?r:void 0,$selected:o,children:l.jsx(Sj,{maxLength:2,"aria-label":roe(i),children:i.map(a=>l.jsx(Va,{user:a.user},a.user.id))})})})}const ptn=3,sIe=3,a5=-4,Rx=23,ooe=4,mtn=[0,.25,.75,1],J_=23,gtn=8,vtn=8,aIe=20,lIe=20,kO=!1,ytn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function btn(e){return-a5+(Rx+a5)*e}var ioe=Object.freeze,xtn=Object.defineProperty,cIe=(e,t)=>ioe(xtn(e,"raw",{value:ioe(t||e.slice())})),soe,aoe;const uIe=O(Y)(soe||(soe=cIe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),wtn=O(Y)(aoe||(aoe=cIe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Ctn=ie.createContext([]);function _tn(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(re,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(Y,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Va,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(at,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Stn,useReporter:ktn,useReportedValues:Etn}=jAe(),dIe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=sIe,stack:s=!0}=t;const a=Ff(n||[],p=>p.user.id),c=Cm(a,p=>p.lastActiveAt),[u,d]=s?ytn(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Va,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(UR,{count:u.length})}:null].filter(Boolean);return l.jsxs(uIe,{children:[l.jsx("div",{}),l.jsx(wtn,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Rx+a5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function jtn(e){const t=h.useContext(Ctn),{presence:n=t,maxAvatars:r=sIe}=e,o=h.useRef(null);ktn(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Ff(n||[],s=>s.user.id),[n]);return l.jsx(_tn,{items:i,children:l.jsx(uIe,{ref:o,style:{minHeight:Rx,minWidth:Rx}})})}const sC=jtn,Ttn=e=>{const t=new wr,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new gt(o=>{const i=t.pipe(mt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},ZB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ie.useRef(null);return ie.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(xn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var loe=Object.freeze,Atn=Object.defineProperty,Jp=(e,t)=>loe(Atn(e,"raw",{value:loe(t||e.slice())})),coe,uoe,doe,foe,hoe,poe,moe;const Dtn=O.div(coe||(coe=Jp([`
  position: relative;
`]))),Itn=O.div(uoe||(uoe=Jp([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),XB=he(doe||(doe=Jp([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Ptn=O(ZB)(e=>{let{$debug:t,margins:n}=e;return he(foe||(foe=Jp([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),XB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Otn=O(ZB)(e=>{let{$debug:t}=e;return he(poe||(poe=Jp([`
    `,`

    visibility: none;

    `,`
  `])),XB,t&&he(hoe||(hoe=Jp([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),Rtn=O(ZB)(e=>{let{$debug:t}=e;return he(moe||(moe=Jp([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),XB,t?"blue":"transparent")}),$tn=e=>"".concat(e,"px"),Mtn=e=>0-e,Ftn=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Ttn({rootMargin:c.map(Mtn).map($tn).join(" "),threshold:mtn}),[c]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-J_):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,k=x.isIntersecting?-(b-(x.intersectionRect.bottom+J_)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=gtn?"top":k<=vtn?"bottom":"inside";return{distanceTop:S,distanceBottom:k,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Dtn,{ref:n,children:[l.jsx(Ptn,{$debug:kO,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Itn,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return l.jsx(Otn,{$debug:kO,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-J_,height:y.rect.height+J_*2}},y.id)}),l.jsx(Rtn,{$debug:kO,id:"::bottom",io:u,onIntersection:p})]})}),fIe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Ltn=e=>e.top+e.height;function Btn(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?Ltn(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const e2=e=>L0(e,t=>t.region.rect.top),Ntn=(e,t)=>e+t,goe=e=>e.reduce(Ntn,0);function ztn(e){const t=Btn(e2(e)),n={top:[],inside:[],bottom:[],...v7(t,r=>r.position)};return{top:e2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:e2(n.inside).map(r=>({...r,indent:0})),bottom:e2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const voe=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},Vtn=[0,0,0,0],Htn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function Utn(e,t){return{...Htn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function Wtn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:Utn(o.element,t)}})}function Ytn(e){const{children:t,margins:n=Vtn}=e,r=Etn(),o=ie.useRef(null),i=ie.useMemo(()=>o.current?Wtn(r,o.current):yF,[r]),s=ie.useCallback((a,c)=>{const u=ztn(a.filter(m=>m.region.presence.length>0)),d=goe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=goe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=aIe,b=y<=lIe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(yoe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(voe,{height:d}),l.jsx(qtn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(voe,{height:f}),l.jsx(yoe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(Ftn,{ref:o,margins:n,regions:i,render:s,children:t})}const yF=[],yoe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?In(Cm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||yF)):yF,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Rx+a5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...fIe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:ooe+1+m,bottom:ooe+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(dIe,{position:o,maxAvatars:ptn,presence:a})},"sticky-".concat(o))});function qtn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=aIe,c=s<=lIe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ie.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...fIe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(Ktn,{value:()=>"".concat(i," | ").concat(s,""),children:l.jsx(dIe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const Gtn=e=>e.children,Ktn=Gtn,Ztn=[0,0,0,0];function Xtn(e){let{children:t,margins:n}=e;return l.jsx(Stn,{children:l.jsx(Ytn,{margins:n||Ztn,children:t})})}const aC=Xtn;var boe=Object.freeze,Qtn=Object.defineProperty,Z0=(e,t)=>boe(Qtn(e,"raw",{value:boe(t||e.slice())})),xoe,woe,Coe,_oe,Soe,koe;const Jtn={open:500},enn=O(Y)(xoe||(xoe=Z0([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),tnn=O(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return he(woe||(woe=Z0([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),nnn=O(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return he(Coe||(Coe=Z0([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),rnn=O(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return he(_oe||(_oe=Z0([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),onn=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return he(Soe||(Soe=Z0([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) 
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),inn=O(Y)(koe||(koe=Z0([`
  gap: inherit;
`]))),Eoe=4;function hIe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,k=(t==null?void 0:t.button)||_,j=S||b,E=h.useCallback(()=>{if(d){const{width:I}=d.getBoundingClientRect();m(I||0)}},[d]),T=h.useCallback(E,[E]),A=h.useCallback(E,[E]);h.useEffect(()=>{E()},[E,S]),h.useEffect(()=>{if(v){const{width:I}=v.getBoundingClientRect();x(I||0)}},[v]);const D=h.useMemo(()=>n?l.jsx(rnn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(enn,{align:"flex-end",children:[l.jsx(nnn,{flex:1,paddingY:2,$presenceMaxWidth:btn(Eoe),children:o}),a&&a.length>0&&l.jsx(tnn,{flex:"none",paddingBottom:1,$right:p+y,children:l.jsx(sC,{maxAvatars:Eoe,presence:a})}),D,(k||b)&&l.jsx(zwe,{delay:Jtn,children:l.jsxs(onn,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":b?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&l.jsx(inn,{align:"center","data-ui":"FieldActionsFlex",children:l.jsx(Gen,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function uh(e,t){if(!(!t||!e))return"desc_".concat(e)}var joe=Object.freeze,snn=Object.defineProperty,ann=(e,t)=>joe(snn(e,"raw",{value:joe(t||e.slice())})),Toe;const lnn=[],vv={error:pe.red[500].hex,warning:pe.yellow[500].hex,info:pe.blue[500].hex},yv={error:l.jsx(ia,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx($r,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(lm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},cnn=O(re)(Toe||(Toe=ann([`
  max-width: 200px;
`])));function X0(e){const{validation:t=lnn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return yv.error;if(u)return yv.warning;if(d)return yv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return vv.error;if(u)return vv.warning;if(d)return vv.info},[c,d,u]);return l.jsx(at,{content:l.jsxs(cnn,{padding:3,space:3,children:[n&&l.jsx(dnn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(unn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function unn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return yv.error;if(t.level==="warning")return yv.warning;if(t.level==="info")return yv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return vv.error;if(t.level==="warning")return vv.warning;if(t.level==="info")return vv.info},[t]);return l.jsxs(Y,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function dnn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const fnn=[],pIe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=fnn}=t,s=i.length>0;return l.jsxs(re,{space:2,children:[l.jsxs(Y,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:uh(r,n),children:n})]})}),Aoe=[],Q0=h.memo(function(t){const{__unstable_headerActions:n=Aoe,__unstable_presence:r=Aoe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=GB();return l.jsxs(re,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&l.jsx(hIe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(pIe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var Doe=Object.freeze,hnn=Object.defineProperty,QB=(e,t)=>Doe(hnn(e,"raw",{value:Doe(t||e.slice())})),Ioe,Poe,Ooe;const Roe=O.legend(Ioe||(Ioe=QB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),pnn=O(Y).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return he(Poe||(Poe=QB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ye(r[1]),lB({base:o,focusRing:n}))}),mnn=O(M)(Ooe||(Ooe=QB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),gnn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(Roe,{children:l.jsxs(pnn,{type:"button",onClick:o,children:[l.jsx(mnn,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(Y5,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(Roe,{children:s})});var $oe=Object.freeze,vnn=Object.defineProperty,mIe=(e,t)=>$oe(vnn(e,"raw",{value:$oe(t||e.slice())})),Moe,Foe;function ynn(e){return typeof e=="function"?e():e}const bnn=O(M).attrs({forwardedAs:"fieldset"})(Moe||(Moe=mIe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),xnn=O(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return he(Foe||(Foe=mIe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ye(o[1]),lB({base:i,focusRing:{...r,offset:2}}))}),EO=[],_A=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=EO,__unstable_presence:s=EO,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=EO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:k,onMouseLeave:j}=GB(),E=b.length>0,T=ur(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(Jt,{columns:d,gapX:4,gapY:5,children:ynn(a)}),[a,c,d]);return l.jsxs(bnn,{"data-level":p,...C,onMouseEnter:k,onMouseLeave:j,children:[l.jsx(hIe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(re,{space:2,children:[l.jsxs(Y,{children:[l.jsx(gnn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),E&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:b})})]}),f&&l.jsx(L,{muted:!0,size:1,id:uh(w,f),children:f})]})}),l.jsx(xnn,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!c&&I})]})});var Loe=Object.freeze,wnn=Object.defineProperty,Cnn=(e,t)=>Loe(wnn(e,"raw",{value:Loe(t||e.slice())})),Boe;const _nn=O.div(Boe||(Boe=Cnn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Snn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(_nn,{"data-max-avatars":n,"data-position":r,children:t})}var Noe=Object.freeze,knn=Object.defineProperty,Enn=(e,t)=>Noe(knn(e,"raw",{value:Noe(t||e.slice())})),zoe;const jnn=O(se)(zoe||(zoe=Enn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),gIe=ie.createContext(null),vIe=function(t){const n=h.useContext(gIe),{listeners:r,attributes:o}=Yje({id:n});return l.jsx(jnn,{icon:_0e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Tnn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Ann=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Tnn(o,r,n,e)};var Voe=Object.freeze,Dnn=Object.defineProperty,Hoe=(e,t)=>Voe(Dnn(e,"raw",{value:Voe(t||e.slice())})),Uoe,Woe;const JB="moving",yIe=O(M)(Woe||(Woe=Hoe([`
  `,`
`])),e=>e.$moving&&he(Uoe||(Uoe=Hoe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Inn={threshold:{x:0,y:.02}},Pnn={coordinateGetter:n7t},Onn={duration:200,easing:"ease"};function Rnn(e){return e==="x"?o7t:i7t}function $nn(e){return e==="x"?H9t:W9t}const Mnn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=D8t(LQ(k7),LQ(_7,Pnn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Ann({y:4}),...r?[Rnn(r)]:[]],[r]);return l.jsx(P9t,{sensors:u,autoScroll:Inn,modifiers:f,collisionDetection:P8t,onDragEnd:d,onDragStart:i,children:l.jsx(q9t,{items:n,strategy:r?$nn(r):void 0,children:l.jsx(Jt,{...c,children:a})})})}),Fnn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=Yje({id:r,transition:i?null:Onn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Cx.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(yIe,{ref:p,style:f,$moving:d,className:d?JB:"","data-index":t["data-index"],children:o})});function eN(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(Mnn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(Jt,{...i})}const tN=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(gIe.Provider,{value:t.id,children:r?l.jsx(Fnn,{ref:n,...o}):l.jsx(yIe,{ref:n,...o})})});var Yoe=Object.freeze,Lnn=Object.defineProperty,Bnn=(e,t)=>Yoe(Lnn(e,"raw",{value:Yoe(t||e.slice())})),qoe;const Nnn=O(ee)(qoe||(qoe=Bnn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),JB);function SA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return $i(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(Nnn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(re,{space:1,children:[l.jsxs(Y,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(vIe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(Y,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var Goe=Object.freeze,znn=Object.defineProperty,kA=(e,t)=>Goe(znn(e,"raw",{value:Goe(t||e.slice())})),Koe,Zoe,Xoe,Qoe;const Vnn=O.button(Koe||(Koe=kA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),Hnn=O(Y5)(Zoe||(Zoe=kA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),Unn=O(Y)(Xoe||(Xoe=kA([`
  cursor: default;
`]))),Wnn=O(M)(Qoe||(Qoe=kA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Rm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(Vnn,{type:"button",onClick:c,children:l.jsx(Unn,{align:"center",children:l.jsxs(Gt,{children:[l.jsx(Wnn,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(Hnn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const Ynn={warning:"caution",error:"critical",info:"positive"},qnn={warning:l.jsx($r,{}),error:l.jsx(ia,{}),info:l.jsx(lm,{})};function xf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(ee,{radius:2,tone:Ynn[n],...o,"data-ui":"Alert",children:l.jsx(Y,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Rm,{icon:qnn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function nN(e){if(Ua(e))return e.name==="object"?{}:{_type:e.name};if(Ml(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function J0(e){if(!Ua(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...nN(e),_key:Fw(12)}}const Gnn={portal:!0,tone:"default",placement:"left",constrainSize:!0},EA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(Joe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:A0e}),l.jsx(Joe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:D0e})]})});function Joe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ve,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(ML,{text:o,popover:Gnn,children:t==null?void 0:t.map(s=>l.jsx(Ve,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const bIe=()=>{},jO={isLoading:!0,result:void 0,error:void 0,retry:bIe},Knn={isLoading:!1,result:void 0,error:void 0,retry:bIe};function jA(e,t){const n=h.useMemo(()=>new wr,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=mo(()=>Vr(be(null),r).pipe(ue(()=>e),u$(a=>a?t(a).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ri(jO),On(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o})))):be(Knn))),[t,e,r,o],jO),s=AB(e,e);return e&&s!==e?jO:i}function xIe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=b0(),v=mC(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:y}),[c,y,d]),b=Xo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Xo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(Y,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:3,children:[p&&l.jsx(Vt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(KB,{presence:v}),l.jsxs(Gt,{space:4,children:[l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:l.jsx(ar,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(f0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(ar,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Du,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function wIe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(ch,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(tie,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(Y,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Gt,{space:4,children:f&&l.jsx(Vt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(Gt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(Y,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(eie,{title:"Not found",icon:Tv,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(eie,{title:"Insufficient permissions",icon:kf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(ar,{tone:"default",children:l.jsx(Tv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?l.jsx(xIe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:c,showTypeLabel:f}):l.jsx(tie,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function eie(e){const t=e.icon;return l.jsxs(Y,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function tie(e){return l.jsxs(Y,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(Y,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsxs(re,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",Znn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(ar,{tone:"default",children:l.jsx(Tv,{})})})})})]})}const Znn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var nie=Object.freeze,Xnn=Object.defineProperty,Qnn=(e,t)=>nie(Xnn(e,"raw",{value:nie(t||e.slice())})),rie;const Jnn=O(ee)(rie||(rie=Qnn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),CIe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(Jnn,{...s,...a,ref:n})}),_Ie=h.createContext(null);function ern(){const e=h.useContext(_Ie);return e||{menuRef:{current:null},containerRef:{current:null}}}function trn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(_Ie.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function nrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const rrn={portal:!0,tone:"default"},orn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function irn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:k,focused:j,children:E,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,V=h.useRef(null),N=h.useRef(null),H=h.useRef(null),{EditReferenceLink:G,getReferenceInfo:U,selectedState:q,isCurrentDocumentLiveEdit:Z}=bN({path:v,schemaType:p,value:x});CA(V,b),$i(j,(Ee,Be)=>{var dt;!Ee&&Be&&V.current&&((dt=V.current)==null||dt.focus())});const B=e.validation.some(Ee=>Ee.level==="error"),W=e.validation.some(Ee=>Ee.level==="warning"),z=x._resolvingInitialValue,X=h.useCallback(()=>{w({items:[{...x,_key:Ox()}],position:"after"})},[w,x]),Q=h.useCallback((Ee,Be)=>{w({items:[{...J0(Be),_key:Ox()}],position:Ee})},[w]),ne=jA(x==null?void 0:x._ref,U),K=x._ref,J=((n=ne.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),oe=K&&((s=(i=(o=ne.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),fe=h.useCallback(()=>{T([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[T,p.weak]),ae=J?p.to.find(Ee=>Ee.name===J):void 0,ge=q==="pressed",xe=q==="selected",ce=nrn({readOnly:g,hasErrors:B,hasWarnings:W}),ve=!K||A[0]==="_ref",$e=h.useMemo(()=>h.forwardRef(function(Be,dt){return l.jsx(_m,{...Be,intent:"edit",params:{id:x==null?void 0:x._ref,type:ae==null?void 0:ae.name},target:"_blank",rel:"noopener noreferrer",ref:dt})}),[ae==null?void 0:ae.name,x==null?void 0:x._ref]),Ae=h.useCallback(()=>{D(K&&ve?[]:["_ref"])},[K,ve,D]),st=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(tn,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:jo}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Bt,{ref:N,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:y}),l.jsx(Ve,{text:K&&ve?"Cancel replace":"Replace",icon:K&&ve?Ei:h0,onClick:Ae}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:X}),l.jsx(EA,{onInsert:Q,types:R})]}),!g&&!ve&&K&&l.jsx(Dr,{}),!ve&&K&&l.jsx(Ve,{as:$e,"data-as":"a",text:"Open in new tab",icon:Uf})]}),popover:rrn})}),[g,S,y,K,ve,Ae,X,Q,R,$e]),et=h.useCallback(()=>{T(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[T,p]),lt=x!=null&&x._weak?"weak":"strong",Oe=p.weak===!0?"weak":"strong",we=K&&!ne.isLoading&&(x==null?void 0:x._strengthenOnPublish),We=!ne.isLoading&&((a=ne.result)==null?void 0:a.availability.available)&&K&&lt!==Oe&&!we,ze=((c=ne.result)==null?void 0:c.preview.draft)||((u=ne.result)==null?void 0:u.preview.published),Ze=l.jsxs(l.Fragment,{children:[Z&&oe&&x._strengthenOnPublish&&l.jsx(xf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=ne.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:fe,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),We&&l.jsx(xf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:lt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Oe,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:et,text:l.jsxs(l.Fragment,{children:["Convert to ",Oe," reference"]}),tone:"caution"})]})}),ne.error&&l.jsx(xf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",ne.error.message]}),l.jsx(se,{onClick:ne.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Ct=l.jsx(trn,{menuRef:N,containerRef:H,children:l.jsx(SA,{dragHandle:$,presence:!ve&&C.length>0&&l.jsx(sC,{presence:C,maxAvatars:1}),validation:!ve&&_.length>0&&l.jsx(X0,{validation:_}),menu:st,footer:ve?void 0:Ze,tone:ve?void 0:ce,focused:j,children:ve?l.jsx(M,{padding:1,ref:H,children:l.jsx(_A,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:E})}):l.jsxs(CIe,{as:G,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ae==null?void 0:ae.name,disabled:z,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:xe,pressed:ge,"data-selected":xe?!0:void 0,"data-pressed":ge?!0:void 0,...P,children:[l.jsx(wIe,{value:x,referenceInfo:ne,renderPreview:I,type:p}),z&&l.jsx(ee,{style:orn,tone:"transparent",radius:2,as:Y,justify:"center",children:l.jsxs(Y,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(dr,{muted:!0})}),l.jsx(L,{children:"Resolving initial value"})]})})]})})});return l.jsx(ai,{path:v,isChanged:k,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:Ct})})}function oie(e){return Ua(e.schemaType)}function iie(e){return Ml(e.schemaType)}function srn(e){return e._key!==void 0}function AS(e){return srn(e)?e:{...e,_key:Ox(12)}}const SIe=4;function sie(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function arn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SIe;const n=lrn(t);return function(){return Cr(n(e(...arguments)))}}function lrn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SIe;const t=[],n=[],r=new wr;return o;function o(a){return new gt(c=>{if(t.length>=e)return i(a).pipe(ht(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{sie(t,u),sie(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(FCe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const crn=4;function urn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return mrn(n).pipe(On(()=>be(null)),ht(f=>f?hrn(e,"sanity.".concat(t,"Asset"),f):be(null)),ht(f=>f?be({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ue(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const kIe=arn(urn,crn),drn=(e,t,n)=>kIe(e,"image",t,n),frn=(e,t,n)=>kIe(e,"file",t,n);function EIe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function jIe(e,t){return EIe(e,t)}function TIe(e,t){return EIe(e,t)}function hrn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function prn(e){return new gt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function mrn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?be(null):prn(e).pipe(ht(t=>crypto.subtle.digest("SHA-1",t)),ue(grn))}function grn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function vrn(e,t){return new gt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const yrn=/(invalid image format)|(No exif data)/i,brn=128e3;function xrn(e){return Cr(vrn(e,brn)).pipe(ue(t=>bBt(t)),On(t=>(yrn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),be({}))))}function aie(e){return[5,6,7,8].indexOf(e)>-1}function wrn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function lie(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Crn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],_rn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Srn="top-left",krn=120;function Ern(e,t){const n=Crn[t-1],r=e.height/e.width;e.width=krn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(aie(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&lie(o,!0,!1),n.op==="flip-y"&&lie(o,!1,!0),n.degrees&&(wrn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),aie(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function jrn(e,t){return new gt(n=>{const r=_rn.indexOf(t)+1,o=Ern(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Trn(e){return new gt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Arn(e,t){return Trn(window.URL.createObjectURL(e)).pipe(ht(n=>jrn(n,t)))}const hl="_upload",Drn=nt([hl]);function Sp(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const AIe=Sp([Drn]);function DIe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Sp([xt(n,[hl])])}function Irn(e,t,n){const r=drn(e,t,n).pipe(mt(i=>i.stage!=="download"),ue(i=>({...i,progress:2+i.percent/100*98})),ue(i=>i.type==="complete"?Sp([xt({_type:"reference",_ref:i.asset._id},["asset"]),xt(100,[hl,"progress"]),xt(new Date().toISOString(),[hl,"updatedAt"])]):Sp([xt(i.percent,[hl,"progress"]),xt(new Date().toISOString(),[hl,"updatedAt"])]))),o=xrn(t).pipe(ht(i=>Arn(t,i.orientation||Srn)),On(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),be(null))),mt(Boolean),ue(i=>Sp([xt(i,[hl,"previewImage"])])));return Vr(be(DIe(t)),sn(r,o),be(AIe))}function IIe(e,t,n){const r=frn(e,t,n).pipe(ue(o=>o.type==="complete"?Sp([xt({_type:"reference",_ref:o.asset._id},["asset"]),xt(100,[hl,"progress"]),xt(new Date().toISOString(),[hl,"updated"])]):Sp([xt(o.percent,[hl,"progress"]),xt(new Date().toISOString(),[hl,"updated"])])));return Vr(be(DIe(t)),r,be(AIe))}const Prn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Irn(e,t,r)},Orn={type:"file",accepts:"",upload:(e,t,n,r)=>IIe(e,t,r)},Rrn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>IIe(e,t,r).pipe(ue(o=>({type:"uploadProgress",patches:[xt(o)]})))},$rn=[Prn,Rrn,Orn].map((e,t)=>({...e,priority:t}));function bF(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function rN(e,t){return $rn.find(n=>{var r;return yc(n.type,e)&&bF(t,n.accepts)&&bF(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Mrn=["_key","_type","_weak"];function PIe(e){return Object.keys(e).every(t=>Mrn.includes(t))}const Frn=(e,t)=>{const n=Ss(t);return e.of.find(r=>r.name===n)};function Lrn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return xt(o,[...t,r])})}function OIe(e,t,n){return Cr(e).pipe(ht(r=>{const o={_key:r._key};return be(Frn(t,r)).pipe(ht(i=>i?be(i):Xn),ht(i=>!PIe(r)||!n?Xn:Vr(be({type:"patch",patches:[xt(!0,[o,"_resolvingInitialValue"])]}),uo(()=>n(i,r)).pipe(mt(po),ue(s=>({type:"patch",patches:Lrn(s,[o])})),On(s=>be({type:"error",error:s,item:r,schemaType:i}))),be({type:"patch",patches:[nt([o,"_resolvingInitialValue"])]}))))}))}const cie="before",uie="after";function Brn(e,t,n){if(t!==cie&&t!==uie)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(cie," or ").concat(uie));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=die(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...die(s)),d}function die(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const fie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Nrn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function zrn(e,t){if(typeof t=="number")return t;const n=M9(e,t);return n===-1?!1:n}function Vrn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!fie(t.value,"from")||!fie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return Nrn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=zrn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Brn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=iN(n[i],{...t,path:o}),n}function Hrn(e,t){const n=GEe(e);if(t.path.length===0){if(t.type==="set"){if(!Jx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Di(n,r):(n[r]=iN(n[r],{...t,path:o}),n)}const RIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Urn=Object.keys(RIe);function Wrn(e,t){if(!Urn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return RIe[t.type](e,t.value)}const $Ie={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=A5e(I5e(t),e,{allowExceedingIndices:!0});return n}},Yrn=Object.keys($Ie);function qrn(e,t){if(!Yrn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return $Ie[t.type](e,t.value)}function oN(e,t){return t.reduce(iN,e)}function Grn(e,t){return Array.isArray(e)?Vrn(e,t):dT(e)?qrn(e,t):Jx(e)?Hrn(e,t):Wrn(e,t)}function iN(e,t){return Grn(e,t)}function Krn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=Qa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=wA(),x=h.useRef(),b=h.useRef({});$i(c.field.focused,(J,oe)=>{var fe;!J&&oe&&((fe=x.current)==null||fe.focus())});const w=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(J=>{const oe=ft.from(J).patches;if(oe.some(ae=>ae.type==="unset"&&ae.path.length===1)&&(_.current=oN(_.current||[],oe),Array.isArray(_.current)&&!_.current.length)){r(ft.from(nt([c.name])));return}r(ft.from(J).prepend(Ki([])).prefixAll(c.name))},[r,c.name,_]),k=GN(),j=Vo(),E=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!0)},[o,c.field.path]),D=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!1)},[o,c.field.path]),I=h.useCallback(J=>{s(J),o(J,!1)},[s,o]),P=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(J=>{if(J.items.length===0)throw new Error("Insert event should include at least one item");const oe=J.items.map(xe=>AS(xe));S(ft.from([tf(oe,J.position,[J.referenceItem])]));const fe=oe[0]._key,ae=[...c.field.path,{_key:fe}];n(ae);const ge=J.open!==!1;J.skipInitialValue?ge&&I(ae):OIe(oe,c.field.schemaType,k).pipe(xn(xe=>{xe.type==="patch"?S(xe.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(xe.schemaType.title,": ").concat(xe.error.message,"."),status:"error"})})).subscribe({complete:()=>{ge&&I(ae)}})},[S,I,c.field.path,c.field.schemaType,n,k,j]),R=h.useCallback(J=>{const oe=c.field.value,fe=oe==null?void 0:oe[J.fromIndex],ae=oe==null?void 0:oe[J.toIndex];if(J.fromIndex!==J.toIndex){if(!(fe!=null&&fe._key)||!(ae!=null&&ae._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([nt([{_key:fe._key}]),tf([fe],J.fromIndex>J.toIndex?"before":"after",[{_key:ae._key}])])}},[S,c.field.value]),V=h.useCallback(J=>{S([Ki([]),tf([AS(J)],"before",[0])])},[S]),N=h.useCallback(J=>{S([Ki([]),tf([AS(J)],"after",[-1])])},[S]),H=h.useCallback(J=>{b.current[J]&&(b.current[J].unsubscribe(),delete b.current[J]),S([nt([{_key:J}])])},[S]),G=h.useCallback(J=>{n(c.field.path.concat(J))},[c.field.path,n]),U=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":uh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),q=hr(ln),Z=md(),B=Z.__internal.image.directUploads,W=Z.__internal.file.directUploads,z=h.useCallback((J,oe)=>yc("image",J)&&!B||yc("file",J)&&!W?null:rN(J,oe),[W,B]),X=h.useCallback(J=>{let{file:oe,schemaType:fe,uploader:ae}=J;const ge=J0(fe),xe=ge._key;$({items:[ge],position:"after",referenceItem:-1,open:!1});const ce=ae.upload(q,oe,fe).pipe(ue(ve=>ft.from(ve.patches||[]).prefixAll({_key:xe})),xn(ve=>S(ve.patches)));b.current={...b.current,[xe]:ce.subscribe()}},[q,S,$]),Q=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:H,onItemAppend:N,onItemPrepend:V,onPathFocus:G,resolveInitialValue:k,onUpload:X,resolveUploader:z,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:U}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,P,I,S,$,R,H,N,V,G,k,X,z,u,d,p,m,f,v,g,U]),ne=h.useMemo(()=>m(Q),[Q,m]),K=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:E,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:ne,inputProps:Q}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,E,T,ne,Q]);return l.jsx(rC,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(K),[K,f])})}function MIe(e,t,n){return jp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function Zrn(e){const{member:t,renderInput:n,renderField:r}=e,o=wA(),i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=Qa();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(ft.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(jp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Xx(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);jp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(ft.from(S?nt():xt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:MIe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":uh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return l.jsx(l.Fragment,{children:r(w)})}const Xrn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=Qa(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,x=wA(),b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),$i(u.field.focused,(Z,B)=>{var W;!Z&&B&&((W=b.current)==null||W.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(Z=>{r(u.field.path.concat(Z))},[u.field.path,r]),k=h.useCallback(Z=>{if(!(u.field.path.length===0)){const W=ft.from(Z).patches;if(w.current=oN(w.current||{},W),w.current&&KAt(w.current)){o(ft.from(nt([u.name])));return}}o(ft.from(Z).prepend(Ki(nN(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),E=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(Z=>{s(u.field.path.concat(Z),!0)},[s,u.field.path]),A=h.useCallback(Z=>{s(u.field.path.concat(Z),!1)},[s,u.field.path]),D=h.useCallback(Z=>{i(u.field.path.concat(Z))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(Z=>{a(u.field.path.concat(Z),!1)},[a,u.field.path]),$=h.useCallback(Z=>{a(u.field.path.concat(Z),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),N=h.useCallback(Z=>{c(u.field.path,Z)},[c,u.field.path]),H=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":uh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),G=h.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:N,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:k,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,N,D,I,T,A,P,$,S,k,d,f,p,m,v,g,y]),U=h.useMemo(()=>v(G),[G,v]),q=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:E,open:u.open,changed:u.field.changed,onOpen:R,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:U,inputProps:G}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,E,R,V,U,G]);return l.jsx(rC,{onFieldGroupSelect:c,onChange:k,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(q),[q,p])})};function Qrn(e,t){return new gt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function Jrn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function eon(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function ton(e){return/^\d+$/.test(e)}function non(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Xx(i)&&(n=!0),jve(i)&&(o=!0),jp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&ton(e)?Number(e):o?e:void 0}function ron(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return Qrn(n,"utf-8").pipe(ue(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>non(o,e)).filter(o=>o!==void 0)),mt(r=>Array.isArray(r)),ue(r=>({type:"uploadProgress",patches:[tf(r,"after",[-1])]})))}}}function oon(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=Qa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,y=wA(),x=h.useRef(),b=h.useRef(),w=hr(ln);$i(c.field.focused,(B,W)=>{var z;!B&&W&&((z=x.current)==null||z.focus())});const C=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(B=>{const W=ft.from(B).patches;if(W.some(X=>X.type==="unset"&&X.path.length===1)){const X=oN(c.field.value||[],W);if(Array.isArray(X)&&!X.length){r(ft.from(nt([c.name])));return}}r(ft.from(B).prepend(Ki([])).prefixAll(c.name))},[r,c.name,c.field.value]),k=h.useCallback(B=>{i(c.field.path,B)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),E=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(B=>{S(B.length===0?nt():xt(B))},[S]),A=h.useCallback(B=>{const{value:W=[]}=c.field;B.fromIndex!==B.toIndex&&T(Jrn(W,B.fromIndex,B.toIndex))},[c.field,T]),D=h.useCallback(B=>{const{value:W=[]}=c.field;T(W.concat(B))},[c.field,T]),I=h.useCallback(B=>{const{value:W=[]}=c.field;T([B].concat(W||[]))},[c.field,T]),P=h.useCallback(B=>{const{value:W=[]}=c.field,z=B.referenceIndex+(B.position==="before"?-1:0);T(eon(z,W,B.items))},[c.field,T]),$=h.useCallback(B=>{S(nt([B]))},[S]),R=h.useCallback(B=>{n(c.field.path.concat([B]))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":uh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),N=h.useMemo(()=>ron(c.field.schemaType.of),[c.field.schemaType.of]),H=h.useCallback((B,W)=>bF(W,"text/*")?N:null,[N]),G=h.useCallback(B=>{let{file:W,schemaType:z,uploader:X}=B;const Q=X.upload(w,W,z).pipe(ue(ne=>ft.from(ne.patches||[])),xn(ne=>S(ne.patches)));b.current&&b.current.unsubscribe(),b.current=Q.subscribe()},[w,S]),U=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:k,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:V,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:H,onUpload:G,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,k,V,S,P,A,$,D,I,H,G,u,d,p,m,v,R,g]),q=h.useMemo(()=>m(U),[U,m]),Z=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:E,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:q,inputProps:U}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,E,j,q,U]);return l.jsx(rC,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Z),[Z,f])})}function FIe(e){return Ua(e.field.schemaType)}function ion(e){return Ml(e.field.schemaType)&&e.field.schemaType.of.every(t=>Tve(t))}function sN(e){return Ml(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ua(t))}const lC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return FIe(n)?l.jsx(Xrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):ion(n)?l.jsx(oon,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):sN(n)?l.jsx(Krn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(Zrn,{member:n,renderField:i,renderInput:a})}),LIe=["yes","true","1"],BIe=["false","no","false","0","null"],son=LIe.concat(BIe),t2=()=>!0,aon=e=>t=>t&&t[e],lon=e=>t=>(t&&t._type)===e;function con(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function uon(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const TO={string:{number:{test:Number,convert:Number},boolean:{test:e=>son.includes(e.toLowerCase()),convert:e=>LIe.includes(e.toLowerCase())||!BIe.includes(e.toLowerCase())},richDate:{test:e=>Vu(e),convert:e=>({_type:"richDate",local:con(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:uon(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:lon("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:aon("utc"),convert:e=>e.utc}},number:{string:{test:t2,convert:String},boolean:{test:t2,convert:Number}},boolean:{string:{test:t2,convert:e=>e?"Yes":"No"},number:{test:t2,convert:Number}}};function don(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(ft.from(Ki(n,["_type"])),o),[o,r,n]);return l.jsx(se,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function fon(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(ft.from(nt()),o),[o,n]);return l.jsx(se,{onClick:i,tone:"critical",text:"Unset value"})}function hon(e){let{validTypes:t,value:n,onChange:r}=e;const o=En(),i=t.length===1,s=o.has(t[0]);return l.jsx(Vc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Rm,{open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(re,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(re,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(sr,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(Jt,{columns:[1,2,2],gap:1,children:[i&&l.jsx(don,{onChange:r,targetType:t[0],value:n}),l.jsx(fon,{onChange:r,validTypes:t,value:n})]})]})})})}function pon(e,t,n){return t in TO?Object.keys(TO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...TO[t][r]})).filter(r=>r.test(e)):[]}const NIe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(ft.from(nt()))},[i]),a=h.useCallback(d=>{i(ft.from(xt(d)))},[i]),c=h.useMemo(()=>pon(n,r,o),[n,r,o]);if(_r(n)&&!("_type"in n))return l.jsx(hon,{value:n,validTypes:o,onChange:i});const u=l.jsx(re,{padding:2,children:l.jsx(se,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Vc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Rm,{marginTop:4,open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(re,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(re,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(ee,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(sr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(re,{space:1,children:c.map(d=>l.jsx(mon,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});NIe.displayName="InvalidValueInput";function mon(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(se,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function gon(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.value||[]).map((o,i)=>Ki(Fw(),[i,"_key"]))))},[t.value,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Vc,{status:"warning",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Rm,{marginTop:4,open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function von(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.duplicates||[]).map(o=>{let[i,s]=o;return xt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Vc,{status:"warning",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Rm,{marginTop:4,open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function yon(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>_r(s)?[]:[a]).reverse().map(s=>nt([s]));n(ft.from(i))};return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Vc,{status:"error",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Rm,{marginTop:4,open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(re,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function TA(e){const{member:t}=e,{onChange:n}=Qa(),r=h.useCallback(o=>{n(ft.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(NIe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(gon,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(von,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(yon,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const aN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=Qa(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(_A,{title:r.fieldSet.title||km(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(TA,{member:v},r.key):l.jsx(lC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function lN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=Qa(),x=GN();$i(n.item.focused,(z,X)=>{var Q;!z&&X&&((Q=t.current)==null||Q.focus())});const b=h.useCallback(()=>{p(ft.from([nt([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(z=>{m(z),v(z,!1)},[m,v]),C=Vo(),_=h.useCallback(z=>{if(z.items.length===0)throw new Error("Insert event should include at least one item");const X=z.items.map(oe=>AS(oe));p(ft.from([tf(X,z.position,[{_key:n.key}])]));const Q=X[0]._key,K=[...n.item.path.slice(0,-1),{_key:Q}];f(K);const J=z.open!==!1;z.skipInitialValue?J&&w(K):OIe(X,n.parentSchemaType,x).pipe(xn(oe=>{oe.type==="patch"?p(ft.from(oe.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(oe.schemaType.title,": ").concat(oe.error.message,"."),status:"error"})})).subscribe({complete:()=>{J&&w(K)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),k=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(z=>{f(n.item.path.concat(z))},[n.item.path,f]),E=h.useCallback(z=>{p(ft.from(z).prepend(Ki(nN(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(z=>{v(n.item.path.concat(z),!0)},[v,n.item.path]),I=h.useCallback(z=>{v(n.item.path.concat(z),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(z=>{m(n.item.path.concat(z))},[m,n.item.path]),R=h.useCallback(z=>{g(n.item.path.concat(z),!1)},[g,n.item.path]),V=h.useCallback(z=>{g(n.item.path.concat(z),!0)},[g,n.item.path]),N=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),H=!n.item.value||PIe(n.item.value),G=h.useCallback(()=>{H&&b();const z=n.item.path.slice(0,-1);m(z),f(z)},[H,m,n.item.path,f,b]),U=h.useCallback(z=>{y(n.item.path,z)},[y,n.item.path]),q=h.useMemo(()=>({onBlur:S,onFocus:k,id:n.item.id,ref:t,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[S,k,n.item.id,n.item.schemaType.description]),Z=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:E,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:U,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:q}),[q,E,P,D,V,I,R,j,$,U,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),B=h.useMemo(()=>a(Z),[Z,a]),W=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:N,onClose:G,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:k,onBlur:S,inputId:n.item.id,path:n.item.path,children:B,changed:n.item.changed,inputProps:Z}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,N,G,A,T,k,S,B,Z]);return l.jsx(rC,{onFieldGroupSelect:y,onChange:E,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(W),[W,c])})}function cN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function bon(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=Qa();$i(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(ft.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(jp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Xx(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);jp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(xt(S?cN(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:xon(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(ft.from([nt([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(ft.from([tf(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function xon(e,t,n){return Object.is(t,-0)?"":MIe(e,t,n)}var hie=Object.freeze,won=Object.defineProperty,Con=(e,t)=>hie(won(e,"raw",{value:hie(t||e.slice())})),pie;const _on=O(ee)(pie||(pie=Con([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function zIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);cr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ss(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(_on,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(z5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(sr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(wl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Son(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(zIe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const kon=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(lC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(TA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(aN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Eon(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(kon,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const X1=e=>{let{children:t}=e;return t};function jon(e){return"absolutePath"in e}const VIe=h.memo(function(t){const n=h.useMemo(()=>jon(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Ton,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Ton=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(bn(y.path,n)||yi(n,y.path))return a(y);if(!oie(y)&&!iie(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return l.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(y=>yi(n,y.path)&&(t.includeField||!bn(n,y.path))?i(y):X1(y),[n,i,t.includeField]),p=h.useCallback(y=>yi(n,y.path)&&(t.includeItem||!bn(n,y.path))?c(y):X1(y),[n,c,t.includeItem]),m=h.useCallback(y=>yi(n,y.path)&&(t.includeItem||!bn(n,y.path))?o(y):X1(y),[n,o,t.includeItem]),v=h.useCallback(y=>yi(n,y.path)&&(t.includeItem||!bn(n,y.path))?s(y):X1(y),[n,s,t.includeItem]),g=h.useCallback(y=>yi(n,y.path)&&(t.includeItem||!bn(n,y.path))?r(y):X1(y),[n,r,t.includeItem]);if(iie(t)){const y=$y(t.path,n),x=t.members.find(b=>b.kind=="item"&&Pr(y[0])&&b.key===y[0]._key);if(!x){const w=$y(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Son,{member:x}):l.jsx(lN,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(oie(t)){const y=$y(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return l.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members  please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(lC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),HIe=h.createContext(null);function Aon(){const e=h.useContext(HIe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function $x(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(HIe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Don=[0,0,1,0];function UIe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(aC,{margins:Don,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx($x,{scrollElement:u,containerElement:f,children:l.jsx(Pi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(PYt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx($x,{scrollElement:u,containerElement:f,children:p})})}function Ion(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Pon={portal:!0,tone:"default"},Oon={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},Ron={position:"relative"};function $on(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,k=c.of,j=h.useRef(null);CA(j,m),$i(w,(q,Z)=>{var B;!q&&Z&&j.current&&((B=j.current)==null||B.focus())});const E=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Ox()}],position:"after"})},[v,p]),A=h.useCallback((q,Z)=>{v({items:[J0(Z)],position:q})},[v]),D=K0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(sC,{presence:D,maxAvatars:1}),[D]),P=qB(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(q=>q.level==="error"),V=P.some(q=>q.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:T}),l.jsx(EA,{types:k,onInsert:A})]}),popover:Pon}),[T,A,f,k,e.inputId,d]),H=Ion({readOnly:d,hasErrors:R,hasWarnings:V}),G=l.jsx(SA,{menu:N,presence:I,validation:$,tone:H,focused:w,dragHandle:S,selected:m,children:l.jsxs(ee,{as:"button",type:"button",tone:"inherit",radius:2,disabled:E,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:Ron,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),E&&l.jsx(ee,{style:Oon,tone:"transparent",radius:2,as:Y,justify:"center",children:l.jsxs(Y,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(dr,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value"})]})})]})}),U=_p(a);return l.jsxs(l.Fragment,{children:[l.jsx(ai,{path:u,isChanged:b,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:G})}),m&&l.jsx(UIe,{header:d?"View ".concat(U):"Edit ".concat(U),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function Mon(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Tu(e)?irn:$on}function Fon(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Lon={portal:!0,tone:"default"};function Bon(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,k]=h.useState([]),j=xA(),E=h.useCallback(()=>x.onChange(nt()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=bN({path:m,schemaType:p,value:T});CA(f,v),$i(w,(ce,ve)=>{!ce&&ve&&f.current&&f.current.focus()});const $=e.validation.some(ce=>ce.level==="error"),R=e.validation.some(ce=>ce.level==="warning"),V=jA(T==null?void 0:T._ref,D),N=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),H=N?p.to.find(ce=>ce.name===N):void 0,G=I==="pressed",U=I==="selected",q=T==null?void 0:T._ref,Z=q&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),B=h.useCallback(()=>{_([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[_,p.weak]),W=h.useCallback(()=>{_(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[_,p]),z=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),X=T!=null&&T._weak?"weak":"strong",Q=p.weak===!0?"weak":"strong",ne=q&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),K=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&q&&X!==Q&&!ne,J=Fon({readOnly:b,hasErrors:$,hasWarnings:R}),oe=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",fe=((a=V.result)==null?void 0:a.preview.draft)||((c=V.result)==null?void 0:c.preview.published),ae=l.jsxs(l.Fragment,{children:[P&&Z&&T._strengthenOnPublish&&l.jsx(xf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:B,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),K&&l.jsx(xf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:X}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Q,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:W,text:l.jsxs(l.Fragment,{children:["Convert to ",Q," reference"]}),tone:"caution"})]})}),V.error&&l.jsx(xf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),l.jsx(se,{onClick:V.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ge=h.useMemo(()=>h.forwardRef(function(ve,$e){return l.jsx(_m,{...ve,intent:"edit",params:{id:T==null?void 0:T._ref,type:H==null?void 0:H.name},target:"_blank",rel:"noopener noreferrer",ref:$e})}),[H==null?void 0:H.name,T==null?void 0:T._ref]),xe=h.useMemo(()=>b?null:l.jsx(M,{marginLeft:1,children:l.jsx(tn,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:jo}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Bt,{children:[!b&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:ho,onClick:E}),l.jsx(Ve,{text:"Replace",icon:h0,onClick:z})]}),!b&&(T==null?void 0:T._ref)&&l.jsx(Dr,{}),(T==null?void 0:T._ref)&&l.jsx(Ve,{as:ge,"data-as":"a",text:"Open in new tab",icon:Uf})]}),popover:Lon})}),[E,z,g,ge,b,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(oC,{actions:e.actions,documentId:j,documentType:p.name,onActions:k,path:m,schemaType:p}),l.jsx(iC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(Q0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:oe?l.jsx(M,{children:y}):l.jsx(ee,{shadow:1,radius:1,padding:1,tone:J,children:l.jsxs(re,{space:1,children:[l.jsxs(Y,{gap:1,align:"center",children:[l.jsx(CIe,{__unstable_focusRing:!0,as:A,"data-pressed":G?!0:void 0,"data-selected":U?!0:void 0,documentId:T==null?void 0:T._ref,documentType:H==null?void 0:H.name,flex:1,paddingX:2,paddingY:1,pressed:G,radius:2,ref:f,selected:U,tone:"inherit",children:l.jsx(wIe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),l.jsx(M,{children:xe})]}),ae]})})})})]})}function WIe(e,t){return Wn(e.options,t)}const mie=["array","file","image","reference","slug"],Non=["asset","crop","hotspot","_ref","_weak"],zon=["tags"],Von=["slug"];function uN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?uN(e.type,t):[];return[e,...n]}function Hon(e,t){return Ml(e)?Won(e,t):Uon(e,t)}function Uon(e,t){var n,r,o;const{type:i,options:s}=e,a=YIe(i,mie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(Von.includes(u))return 0;const d=mie.includes(u),f=((n=c==null?void 0:c.filter(m=>!Non.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function Won(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=zon.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function YIe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return YIe(e.type,t)}const l5=[];function Yon(e){return l.jsx(ai,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function AO(e){const[t,n]=h.useState(l5),r=xA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(oC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(iC,{actions:t,focused:o,path:e.path,children:l.jsx(Q0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(ai,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function qon(e){const[t,n]=h.useState(l5),r=xA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(oC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(iC,{actions:t,focused:o,path:e.path,children:l.jsx(_A,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Gon(e){const[t,n]=h.useState(l5),r=xA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||l5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(oC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(iC,{actions:t,focused:o,path:e.path,children:l.jsx(_A,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function Kon(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Xx(e))return Yon;const n=uN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?Gon:n.some(r=>g4(r))||n.some(r=>r.name==="slug")?AO:n.some(r=>Tu(r))?Bon:e.jsonType!=="object"&&e.jsonType!=="array"?AO:qon}function Zon(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>hx(a,{allowedDecorators:t}));const s=[tf(o,"after",[{_key:n._key}])];return r(ft.from(s))}}function Xon(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[xt(hx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(ft.from(i))}}function Qon(e){const{block:t,onChange:n}=e;return()=>{const r=[nt([{_key:t._key}])];return n(ft.from(r))}}var gie=Object.freeze,Jon=Object.defineProperty,ein=(e,t)=>gie(Jon(e,"raw",{value:gie(t||e.slice())})),vie;const tin=O.div(vie||(vie=ein([`
  display: flex;
  pointer-events: all;
`])));function qIe(e){const t=go(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Se.getValue(t),set:Xon({allowedDecorators:i,block:n,onChange:r}),unset:Qon({block:n,onChange:r}),insert:Zon({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(tin,{contentEditable:!1,children:s}):null}var yie=Object.freeze,nin=Object.defineProperty,rin=(e,t)=>yie(nin(e,"raw",{value:yie(t||e.slice())})),bie;const GIe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Dt(o.spot.yellow,.2);return he(bie||(bie=rin([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var xie=Object.freeze,oin=Object.defineProperty,iin=(e,t)=>xie(oin(e,"raw",{value:xie(t||e.slice())})),wie;const KIe=O(ai)(()=>he(wie||(wie=iin([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function AA(e){return e.type?AA(e.type):e.name==="block"}function sin(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const ain=["@@_NONEXISTENT_PATH_@@"];function DA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:dn,r=qB((e==null?void 0:e.path)||ain),o=h.useMemo(()=>e!=null&&e.schemaType&&AA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=YB(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const ZIe=h.createContext([]);function lin(e){return l.jsx(ZIe.Provider,{value:e.markers,children:e.children})}function IA(e){const t=h.useContext(ZIe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>bn(r.path,e)),[t,e])}const dN=h.createContext([]);function cin(e){return l.jsx(dN.Provider,{value:e.memberItems,children:e.children})}function PA(e){const t=h.useContext(dN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function uin(){const e=h.useContext(dN);if(!e)throw new Error("Form context not provided");return e}function din(e){const t=h.useRef([]);return fin({props:e,ref:t}),t.current}const fin=e=>{let{props:t,ref:n}=e;var r;const o=[],{members:i,path:s,schemaType:a,renderAnnotation:c,renderField:u,renderBlock:d,renderInput:f,renderItem:p,renderInlineBlock:m,renderPreview:v}=t;for(const y of i)if(y.kind==="item")if(!AA(y.item.schemaType))o.push({kind:"objectBlock",member:y,node:y.item});else{(y.item.validation.length>0||y.item.changed||(r=y.item.presence)!=null&&r.length)&&o.push({kind:"textBlock",member:y,node:y.item});const b=y.item.members.find(C=>C.kind==="field"&&C.name==="children");if(b&&b.kind==="field"&&sN(b))for(const C of b.field.members)C.kind==="item"&&C.item.schemaType.name!=="span"&&o.push({kind:"inlineObject",member:C,node:C.item});const w=y.item.members.filter(sin).find(C=>C.name==="markDefs");if(w)for(const C of w.field.members)C.kind==="item"&&C.item.schemaType.jsonType==="object"&&o.push({kind:"annotation",member:C,node:C.item})}const g=o.map(y=>{const x=wn(y.node.path),b=n.current.find(_=>_.key===x),w=y.kind!=="textBlock";let C=null;if(w&&y.member!==(b==null?void 0:b.member)||y.node!==(b==null?void 0:b.node)){const _={absolutePath:jc(y.node.path),includeField:!1,members:i,path:jc(s),renderAnnotation:c,renderBlock:d,renderField:u,renderInlineBlock:m,renderInput:f,renderItem:p,renderPreview:v,schemaType:a};C=l.jsx(VIe,{..._})}return b?(b.member=y.member,b.node=y.node,b.input=C||b.input,b):{kind:y.kind,key:x,member:y.member,node:y.node,elementRef:h.createRef(),input:C}});return n.current=g,g};var Cie=Object.freeze,hin=Object.defineProperty,Zu=(e,t)=>Cie(hin(e,"raw",{value:Cie(t||e.slice())})),_ie,Sie,kie,Eie,jie,Tie,Aie,Die,Iie;const pin=O(ee)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=he(_ie||(_ie=Zu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return he(Sie||(Sie=Zu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?pe.purple[950].hex:pe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),min=O(M)(kie||(kie=Zu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),gin=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(jie||(jie=Zu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&he(Eie||(Eie=Zu([`
        display: none;
      `]))))}),vin=O(Y)(Tie||(Tie=Zu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),yin=O(M)(Aie||(Aie=Zu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),bin=O(Y)(Die||(Die=Zu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),xin=O(M)(Iie||(Iie=Zu([`
  max-width: 250px;
`]))),win={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Cin(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>ed(a)?h.forwardRef(function(v,g){return l.jsx(_m,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Es(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(Y,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(tn,{button:l.jsx(se,{"aria-label":"Open menu",fontSize:1,iconRight:jo,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Bt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ve,{as:f,"data-as":"a",icon:jf,text:"Open reference"}),s&&l.jsx(Ve,{icon:E0e,onClick:o,text:"View"}),!s&&l.jsx(Ve,{icon:Du,onClick:o,text:"Edit"}),!s&&l.jsx(Ve,{icon:ho,onClick:p,text:"Delete",tone:"critical"})]})}),popover:win})})]})}const XIe=e=>Array.isArray(e)?e.flatMap(XIe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],_in=e=>e==="dialog"||e==="popover"?e:void 0;function Sin(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:_in(n.type),width:XIe(n.width)}:void 0}function kin(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Pi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(aC,{margins:[0,0,1,0],children:l.jsx($x,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var Pie=Object.freeze,Ein=Object.defineProperty,fN=(e,t)=>Pie(Ein(e,"raw",{value:Pie(t||e.slice())})),Oie,Rie,$ie;const jin=O(en)(Oie||(Oie=fN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Tin=O(M)(Rie||(Rie=fN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Ain=O(M)($ie||($ie=fN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Din=["top","bottom"];function Iin(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(jin,{content:l.jsx(Pin,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Din,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Pin(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Es(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),cr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx($x,{scrollElement:s,containerElement:c,children:l.jsxs(Y,{ref:c,direction:"column",height:"fill",children:[l.jsx(Ain,{flex:"none",padding:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(se,{autoFocus:!!i,icon:Ei,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Tin,{flex:1,children:l.jsx(aC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function hN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>Sin(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Iin,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(kin,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Oin(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:k}=e,{onChange:j}=Qa(),{Markers:E}=md().__internal.components,[T,A]=h.useState(!1),D=IA(c),I=go(),P=PA(wn(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),N=h.useCallback(()=>A(!1),[]),H=h.useCallback(()=>{P&&(Se.blur(I),s(P.node.path))},[I,P,s]),G=h.useCallback(()=>{i(),Se.select(I,R),Se.focus(I)},[i,I,R]),U=h.useCallback(()=>{if(!$.current)try{Se.delete(I,R,{mode:"blocks"})}catch(ve){console.error(ve)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&Se.focus(I)},[I]);const q=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:Z,hasError:B,hasWarning:W,hasInfo:z}=DA(P==null?void 0:P.node),X=I.schemaTypes.portableText,Q=D.length>0,ne=K0(c,!0),K=h.useMemo(()=>ne.filter(ve=>bn(ve.path,c)),[c,ne]),J=B||W||z||Q,oe=h.useMemo(()=>J&&l.jsx(xin,{padding:2,children:l.jsx(E,{markers:D,validation:Z,renderCustomMarkers:g})})||null,[E,D,g,J,Z]),fe=!!(P!=null&&P.member.open),ae=P==null?void 0:P.input,ge=(P==null?void 0:P.node.path)||dn,xe=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,ce=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:xe||null,children:ae,focused:r,markers:D,onClose:G,onOpen:H,onPathFocus:a,onRemove:U,open:fe,parentSchemaType:X,path:ge,presence:K,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:QIe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:Z,value:k}),[n,xe,ae,r,D,G,H,a,U,fe,X,ge,K,u,d,p,m,y,x,b,w,C,_,S,Z,k]);return h.useMemo(()=>l.jsx(M,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:l.jsx(Y,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(vin,{flex:1,children:[l.jsx(at,{placement:"top",portal:"editor",disabled:!J,content:oe,children:l.jsx(min,{...q,children:m&&m(ce)})}),l.jsx(yin,{marginRight:1,children:l.jsx(bin,{children:v&&k&&r&&!u&&l.jsx(qIe,{block:k,onChange:j,renderBlockActions:v})})}),o&&P&&l.jsx(gin,{$hasChanges:P.member.item.changed,onMouseOut:N,onMouseOver:V,children:l.jsx(KIe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&l.jsx(GIe,{})]})})}),[ce,r,N,V,q,o,P,j,u,m,v,T,oe,J,k])}const QIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=WMe(g),b=y.filter(k=>k.level==="error").length>0,w=y.filter(k=>k.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(k=>{k.preventDefault(),k.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(pin,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(Cin,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(hN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},Q1=[1,2,3,4,5,6,7,8,9],Mie=["","",""],Fie=["number","lower-alpha","lower-roman"],Rin={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},$in={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Gh(e){return"list-level-".concat(e)}var Lie=Object.freeze,Min=Object.defineProperty,Pc=(e,t)=>Lie(Min(e,"raw",{value:Lie(t||e.slice())})),Bie,Nie,zie,Vie,Hie,Uie,Wie,Yie,qie,Gie;function Fin(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=Fie[(n-1)%Fie.length],u=Mie[(n-1)%Mie.length];return he(Bie||(Bie=Pc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?pe.purple[950].hex:pe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Gh(n),Gh(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const Lin=O.div(Fin),Bin=O(M)(Nie||(Nie=Pc([`
  position: relative;
  display: flex;
`]))),Nin=O.div(zie||(zie=Pc([`
  user-select: none;
  white-space: nowrap;
`]))),zin=O(M)(Vie||(Vie=Pc([`
  user-select: none;
`]))),Vin=O(M)(Hie||(Hie=Pc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),Hin=O(Y)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return he(Uie||(Uie=Pc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Uin=O(M)(Wie||(Wie=Pc([`
  max-width: 250px;
`]))),Win=O(Y)(Yie||(Yie=Pc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),Yin=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(Gie||(Gie=Pc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&he(qie||(qie=Pc([`
        display: none;
      `]))))});var Kie=Object.freeze,qin=Object.defineProperty,JIe=(e,t)=>Kie(qin(e,"raw",{value:Kie(t||e.slice())})),Zie,Xie;const gd=O.div(Zie||(Zie=JIe([`
  display: block;
`]))),pN=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(gd,{children:t})})},ePe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(gd,{children:t})})},tPe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(gd,{children:t})})},nPe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(gd,{children:t})})},rPe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(gd,{children:t})})},oPe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(gd,{children:t})})},iPe=e=>{let{children:t,...n}=e;return l.jsx(zo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(gd,{children:t})})},Gin=O.blockquote(Xie||(Xie=JIe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),sPe=e=>{let{children:t,...n}=e;return l.jsx(Gin,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},DO={normal:pN,h1:ePe,h2:tPe,h3:nPe,h4:rPe,h5:oPe,h6:iPe,blockquote:sPe};function Kin(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:k}=e,{Markers:j}=md().__internal.components,[E,T]=h.useState(!1),A=IA(c),D=PA(wn(c)),I=go(),{onChange:P}=Qa(),$=K0(c,!0),R=h.useMemo(()=>$.filter(ae=>bn(ae.path,c)||ae.path.slice(-3)[1]==="children"&&ae.path.length-c.length===2),[c,$]),V=h.useCallback(()=>T(!0),[]),N=h.useCallback(()=>T(!1),[]),{validation:H,hasError:G,hasWarning:U,hasInfo:q}=DA(D==null?void 0:D.node),Z=!!v&&A.length>0,B=G||U||Z||q,W=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),z=h.useCallback(()=>{const ae={path:c.slice(-1),offset:0},ge={focus:ae,anchor:ae};Se.delete(I,ge,{mode:"blocks"}),Se.focus(I)},[c,I]),X=h.useMemo(()=>l.jsxs(Win,{align:"flex-start",$level:k==null?void 0:k.level,children:[k.listItem&&l.jsx(Nin,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(gd,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[k.listItem,k.level,t]),Q=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),ne=h.useMemo(()=>k.listItem?{paddingY:2}:$in[k.style||"normal"]||{paddingY:2},[k]),K=!!(D!=null&&D.member.open),J=I.schemaTypes.portableText,oe=h.useMemo(()=>{var ae;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ae=D==null?void 0:D.elementRef)==null?void 0:ae.current)||null,children:X,focused:r,markers:A,onClose:i,onOpen:W,onPathFocus:a,onRemove:z,open:K,parentSchemaType:J,path:(D==null?void 0:D.node.path)||dn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:aPe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:H,value:k}},[n,r,K,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,W,a,z,J,u,d,p,f,g,y,x,b,w,C,_,X,R,H,k]),fe=h.useMemo(()=>B&&l.jsx(Uin,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:H})})||null,[j,A,v,B,H]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...ne,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(Bin,{"data-testid":"text-block__wrapper",children:l.jsxs(Y,{flex:1,...Q,children:[l.jsx(M,{flex:1,children:l.jsx(at,{content:fe,disabled:!B,placement:"top",portal:"editor",children:l.jsx(Lin,{$level:k.level||1,"data-error":G?"":void 0,"data-list-item":k.listItem,"data-markers":Z?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":U?"":void 0,spellCheck:S,children:f&&f(oe)})})}),l.jsxs(zin,{contentEditable:!1,children:[l.jsx(Vin,{marginRight:1,children:l.jsx(Hin,{children:m&&r&&!u&&l.jsx(qIe,{onChange:P,block:k,renderBlockActions:m})})}),o&&D&&l.jsx(Yin,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:N,children:l.jsx(KIe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),E&&l.jsx(GIe,{})]})})}),[oe,r,V,N,G,Z,U,Q,o,D,P,ne,u,f,m,E,S,fe,B,k])}const aPe=e=>l.jsx(l.Fragment,{children:e.children});var Qie=Object.freeze,Zin=Object.defineProperty,Xin=(e,t)=>Qie(Zin(e,"raw",{value:Qie(t||e.slice())})),Jie;const Qin=O(en)(Jie||(Jie=Xin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Jin=["top","bottom"];function esn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=js(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Es(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(se,{icon:Du,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(se,{ref:f,icon:ho,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(Qin,{constrainSize:!0,content:v,fallbackPlacements:Jin,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var ese=Object.freeze,tsn=Object.defineProperty,mN=(e,t)=>ese(tsn(e,"raw",{value:ese(t||e.slice())})),tse,nse,rse;const nsn=O(ee)(isn),rsn=O.span(tse||(tse=mN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),osn=O(M)(nse||(nse=mN([`
  max-width: 250px;
`])));function isn(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return he(rse||(rse=mN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?pe.purple[950].hex:pe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const ssn=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=md().__internal.components,k=go(),j=IA(a),E=PA(wn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=DA(E==null?void 0:E.node),P=k.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{Se.delete(k,R,{mode:"children"}),Se.focus(k)},[R,k]),N=h.useCallback(()=>{E&&(Se.blur(k),i(E.node.path))},[k,i,E]),H=h.useCallback(()=>{o(),Se.select(k,R),Se.focus(k)},[o,k,R]),G=!!(E!=null&&E.member.open),U=E==null?void 0:E.input,q=(E==null?void 0:E.node.path)||dn,Z=(t=E==null?void 0:E.elementRef)==null?void 0:t.current,B=K0(a,!0),W=h.useMemo(()=>B.filter(ne=>bn(ne.path,a)),[a,B]),z=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:Z,children:U,focused:r,onClose:H,onOpen:N,onPathFocus:s,onRemove:V,open:G,markers:j,member:E==null?void 0:E.member,parentSchemaType:P,path:q,presence:W,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:lPe,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,U,G,j,E==null?void 0:E.member,q,H,N,s,V,P,c,u,Z,f,p,v,y,x,g,b,W,w,C,T,_]),X=A||I||D||$,Q=h.useMemo(()=>X&&l.jsx(osn,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,X,T]);return h.useMemo(()=>l.jsx("span",{ref:E==null?void 0:E.elementRef,contentEditable:!1,children:l.jsx(at,{placement:"bottom",portal:"editor",disabled:!X,content:Q,children:y&&l.jsx("span",{style:{position:"relative"},children:y(z)})})}),[z,E==null?void 0:E.elementRef,y,Q,X])},lPe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,k=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),E=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(nsn,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?k:void 0,onDoubleClick:k,tone:j,children:l.jsx(rsn,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&l.jsx(esn,{floatingBoundary:t,onClosePopover:E,onDelete:u,onEdit:k,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(hN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var ose=Object.freeze,asn=Object.defineProperty,lsn=(e,t)=>ose(asn(e,"raw",{value:ose(t||e.slice())})),ise;const csn=O(en)(ise||(ise=lsn([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),usn=["top","bottom"];function dsn(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=js(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Es(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const k=S.getRangeAt(0);if(!(s==null?void 0:s.contains(k.commonAncestorContainer))){d(!1),p(null);return}const E=k==null?void 0:k.getBoundingClientRect();E&&(d(!0),p(E))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(csn,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(se,{icon:Du,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(se,{icon:ho,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:usn,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var sse=Object.freeze,fsn=Object.defineProperty,cPe=(e,t)=>sse(fsn(e,"raw",{value:sse(t||e.slice())})),ase,lse;const hsn=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return he(ase||(ase=cPe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?pe.purple[950].hex:pe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),psn=O(M).attrs({forwardedAs:"span"})(lse||(lse=cPe([`
  max-width: 250px;
`])));function msn(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:k=GDe}=md().__internal.components,j=go(),E=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=PA(wn(E)),{validation:P}=DA(I==null?void 0:I.node),$=IA(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(Se.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),N=h.useCallback(()=>{s();const K=Se.getSelection(j),J=(K==null?void 0:K.focus.path)&&bn(K.focus.path,D)&&K.focus.offset,oe=(K==null?void 0:K.anchor.path)&&bn(K.anchor.path,D)&&K.anchor.offset;Se.select(j,{anchor:{path:D,offset:oe||0},focus:{path:D,offset:J||0}}),Se.focus(j)},[j,D,s]),H=h.useCallback(()=>{Se.removeAnnotation(j,C),Se.focus(j)},[j,C]),G=h.useMemo(()=>P.length>0||$.length>0?l.jsx(at,{placement:"bottom",portal:"default",content:l.jsx(psn,{padding:2,children:l.jsx(k,{markers:$,renderCustomMarkers:v,validation:P})}),children:R}):void 0,[k,$,v,R,P]),U=K0(u,!0),q=h.useMemo(()=>U.filter(K=>bn(K.path,u)),[u,U]),Z=!!(I!=null&&I.member.open),B=I==null?void 0:I.input,W=(I==null?void 0:I.node.path)||dn,z=T,X=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:z,__unstable_textElementFocus:r,children:B,focused:i,markers:$,onClose:N,onOpen:V,onPathFocus:c,onRemove:H,open:Z,parentSchemaType:j.schemaTypes.block,path:W,presence:q,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:xF,schemaType:C,selected:_,textElement:G||R,validation:P,value:S}),[j.schemaTypes.block,r,o,i,B,Z,$,G,W,N,V,c,H,d,f,z,p,m,g,y,x,b,w,q,C,_,R,P,S]),Q=(t=C.components)==null?void 0:t.annotation,ne=h.useCallback(K=>{I!=null&&I.elementRef&&(I.elementRef.current=K),A(K)},[I]);return h.useMemo(()=>l.jsx("span",{ref:ne,style:void 0,children:Q?l.jsx(Q,{...X}):l.jsx(xF,{...X})}),[Q,X,ne])}const xF=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return l.jsxs(hsn,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(dsn,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(hN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function gsn(e){var t;return(t=e.components)!=null&&t.block?e.components.block:AA(e)?aPe:QIe}function vsn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:lPe}function ysn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:xF}const bsn=/^\d+$/;function xsn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function wsn(e){const[t,n]=e.split("==");return{[t]:xsn(n)}}function Csn(e){return bsn.test(e)?Number(e):e}function _sn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?wsn(t):Csn(t))}function eg(e){return _sn(e)}class dMn extends ie.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function r0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=mo(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function Ssn(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):uPe(Array.from(e.items||[])).then(In)}function ksn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):uPe(n).then(In)}function cse(e){return e===null?[]:[e]}function uPe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return cse(t.getAsFile())}return n?n.isDirectory?dPe(n):cse(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function dPe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(dPe)).then(In))}return Promise.resolve([])}function Esn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const jsn={opacity:0,position:"absolute"};function fPe(e){return ie.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ie.useState(!1),f=ie.useRef(null),p=ur(r),m=ie.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{Ssn(S.clipboardData).then(k=>f.current?k.length>0?k:Tsn(f.current,"image/jpeg"):[]).then(k=>{var j;v(k),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const k=S.nativeEvent.dataTransfer;o&&k&&ksn(k).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const k=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(k)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const k=m.current.indexOf(S.currentTarget);k>-1&&m.current.splice(k,1),m.current.length===0&&(s==null||s())},[s]),_=ie.useRef(!1);return ie.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Asn(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:jsn})]})})}function Tsn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Esn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Asn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function gN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function vN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&gN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var use=Object.freeze,Dsn=Object.defineProperty,Isn=(e,t)=>use(Dsn(e,"raw",{value:use(t||e.slice())})),dse;function hPe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return he(dse||(dse=Isn([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),gN(n),ye(t.theme.sanity.radius[1]),vN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const pPe=hPe(fPe(ee));var fse=Object.freeze,Psn=Object.defineProperty,OA=(e,t)=>fse(Psn(e,"raw",{value:fse(t||e.slice())})),hse,pse,mse,gse;const Osn=O(ee)(hse||(hse=OA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Rsn=O(Y)(pse||(pse=OA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),$sn=O(re)(mse||(mse=OA([`
  position: relative;
  width: 60%;
`]))),Msn=O(sr)(gse||(gse=OA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Fsn=1e3*60*2,Lsn=e=>new Date().getTime()-new Date(e).getTime();function mPe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{Lsn(t.updatedAt)>Fsn&&(r==null||r())},[t.updatedAt,r]),l.jsx(Osn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(Rsn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs($sn,{children:[l.jsx(Y,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(Gt,{space:2,children:["Uploading",l.jsx(Msn,{size:1,children:i||"..."})]})})}),l.jsx(ee,{marginTop:3,radius:5,shadow:1,children:l.jsx(uqt,{value:t.progress})})]}),n?l.jsx(se,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Bsn(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(gPe(i.result,t||"".concat(ld(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Nsn(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(gPe(e,t||"".concat(ld(),".").concat(i)))})}function gPe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function vPe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[nt(["hotspot"]),nt(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Ki({_type:r.name}),...g,xt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Nsn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Bsn(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var vse=Object.freeze,zsn=Object.defineProperty,Vsn=(e,t)=>vse(zsn(e,"raw",{value:vse(t||e.slice())})),yse;const Hsn=O(Ve)(yse||(yse=Vsn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),Usn=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ie.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=l.jsxs(Y,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Nl.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(Hsn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function yPe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=Vo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{muted:!0,size:1,children:"Replace"})}),l.jsx(Usn,{icon:q5,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Dr,{}),a&&l.jsx(Ve,{as:"a",icon:$4,text:"Download",href:a}),c&&l.jsx(Ve,{icon:Au,text:"Copy URL",onClick:d}),l.jsx(Dr,{}),l.jsx(Ve,{tone:"critical",icon:Iu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var bse=Object.freeze,Wsn=Object.defineProperty,Ysn=(e,t)=>bse(Wsn(e,"raw",{value:bse(t||e.slice())})),xse;const qsn=O(Y)(xse||(xse=Ysn([`
  pointer-events: none;
`])));function bPe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(nw,{}):t&&i>0||!s?l.jsx(kf,{}):a?l.jsx(d0,{}):l.jsx(El,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(qsn,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var wse=Object.freeze,Gsn=Object.defineProperty,Ksn=(e,t)=>wse(Gsn(e,"raw",{value:wse(t||e.slice())})),Cse;const Zsn=O(se).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return he(Cse||(Cse=Ksn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),vN({base:r,border:o,focusRing:n}))}),Xsn=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=js(),b=ie.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(Y,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Nl.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(Zsn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:c,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function Qsn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=_j(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(Y,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(Y,{flex:1,justify:"center",children:l.jsx(bPe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(Y,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(Xsn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:q5,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const xPe=ie.memo(Qsn);var _se=Object.freeze,Jsn=Object.defineProperty,ean=(e,t)=>_se(Jsn(e,"raw",{value:_se(t||e.slice())})),Sse;const tan=O(se)(Sse||(Sse=ean([`
  width: 100%;
`])));function wPe(e){let{onClearStale:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(tan,{icon:Iu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var kse=Object.freeze,nan=Object.defineProperty,CPe=(e,t)=>kse(nan(e,"raw",{value:kse(t||e.slice())})),Ese,jse;const ran=O(ee)(Ese||(Ese=CPe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),oan=O(Y)(jse||(jse=CPe([`
  height: 100%;
`])));function _Pe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function ian(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);Es(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),cr(h.useCallback(y=>{p!=null&&p.contains(y.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(Y,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(ee,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(Y,{wrap:"nowrap",align:"center",children:[l.jsx(ee,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(d0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:_Pe(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(Y,{justify:"center",children:l.jsx(en,{content:l.jsx(Bt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:jo,mode:"bleed",onClick:v,ref:g})})})})]})}function Tse(){return l.jsxs(Y,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(_0,{padding:3,radius:1,animated:!0}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(Ak,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(Ak,{style:{width:"100%"},radius:1,animated:!0})]})]})}var Ase=Object.freeze,san=Object.defineProperty,aan=(e,t)=>Ase(san(e,"raw",{value:Ase(t||e.slice())})),Dse;const lan=O(se)(Dse||(Dse=aan([`
  width: 100%;
`])));function can(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(lan,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}function uan(e){let{children:t}=e;return t}const dan=["asset"];class fan extends ie.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>nt([f]));this.props.onChange(ft.from(u&&!s?nt():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(nt(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Wn(s,"options.metadata"),storeOriginalFilename:Wn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(ft.from([Ki({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(ft.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;vPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(dan)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(ft.from([nt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(mPe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Wn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(r0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(Tse,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!wZ(t)?()=>l.jsx(can,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(wPe,{onClearStale:this.handleClearUploadState})}),l.jsx(ai,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(pPe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Wn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ve,{icon:ei,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ve,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(r0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(Tse,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return wZ(t)&&(b="".concat(v,"?dl"),x=v),l.jsx(ian,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(yPe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(ran,{tone:t,children:l.jsx(oan,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(bPe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(tn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(se,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ei}),"data-testid":"input-select-button",menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(se,{fontSize:2,text:"Browse",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Wn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(xPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(mB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(lC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?uan:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(aN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(TA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function han(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Mi(),{file:o}=md().__internal,i=hr(ln),s=h.useCallback((u,d)=>o.directUploads?rN(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>TIe(r,u),[r]);return l.jsx(fan,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var Ise=Object.freeze,pan=Object.defineProperty,man=(e,t)=>Ise(pan(e,"raw",{value:Ise(t||e.slice())})),Pse;const Ose=O(M)(Pse||(Pse=man([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function gan(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const van=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let n2=-1;function yan(e){return n2===-1&&(n2=van.find(t=>t in e)),n2&&e[n2]}function Rse(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function $se(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function IO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Mse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class wF{constructor(t,n){this.x=t,this.y=n}}class Fse{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new wF(this._right,this.y)}get left(){return new wF(this._left,this.y)}get length(){return this._right-this._left}}class ban{constructor(t){this.rect=t}get top(){return new Fse(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Fse(this.rect.bottom,this.rect.left,this.rect.right)}}class oo{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new oo(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new oo(t,n,this.width||0,this.height||0)}setSize(t,n){return new oo(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new oo(t-r/2,n-o/2,r||0,o||0)}get center(){return new wF(this.left+this.width/2,this.top+this.height/2)}get corners(){return new ban(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new oo((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new oo(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new oo(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new oo(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const r2=Hd("sanity-imagetool");function xan(e){return class extends ie.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){r2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=OO(n);r2("Drag started %o",i),r(PO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=OO(n),i=wan(o,this.currentPos);r(i),r2("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=OO(n);r(PO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,r2("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(PO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){Xp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Xp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function PO(e,t,n){return{x:e-n.left,y:t-n.top}}function OO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function wan(e,t){return{x:e.x-t.x,y:e.y-t.y}}var Lse=Object.freeze,Can=Object.defineProperty,SPe=(e,t)=>Lse(Can(e,"raw",{value:Lse(t||e.slice())})),Bse,Nse;const _an=xan("canvas"),San=O.div(Bse||(Bse=SPe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),kan=O(_an)(Nse||(Nse=SPe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Ean="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",jan="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",Xu={x:.5,y:.5,height:1,width:1},Qu={top:0,left:0,right:0,bottom:0},J1=8,Tan=12,Aan=10;function Dan(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Ian(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function zse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Qu,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Pan(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Vse=qj(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&yan(t)||1;return e/n}),Hse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Oan extends ie.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=Rse(o,this.getHotspotRect()),s=$se(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=IO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Dan(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||Xu,o=new oo().setSize(r.width,r.height).setCenter(r.x,r.y);return new oo().setSize(n.width,n.height).shrink(J1*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new oo().setSize(n.width,n.height).shrink(J1*this.getScale()).cropRelative(oo.fromEdges(t.crop||Qu).clamp(new oo(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Tan*this.getScale(),r=n/2,o=new oo(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Hse)if(IO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Ran(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Ian(o,d)&&r(Use(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=zse(i,f).value,m=zse(i,f).delta;o(Use(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r($an(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=oo.fromEdges(t.crop||Qu).clamp(new oo(0,0,1,1)),r=t.hotspot||Xu,o=new oo(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new oo().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=J1*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=Aan*c,x=i.shrink(u).multiply(s),b=Mse(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Mse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=J1*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new oo().setSize(n.width,n.height).shrink(J1*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Vse();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Hse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Pan(r)||"auto";const o=$se(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(jan,"), move");const i=Rse(t,this.getHotspotRect()),s=IO(t,this.getCropRect());return i||s?"url(".concat(Ean,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Vse();return l.jsx(San,{children:l.jsx(kan,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Ran(e,t){const n=e&&e.hotspot||Xu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function $an(e,t){const n=e&&e.hotspot||Xu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Use(e,t){const n=e&&e.crop||Qu;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function Man(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Mx(e){return l.jsx(gan,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(Man,{image:r,maxHeight:Mx.maxHeight,maxWidth:Mx.maxWidth,children:i=>l.jsx(Oan,{image:i,...e})}):null}})}Mx.maxHeight=500;Mx.maxWidth=1e3;function Fan(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Wse(e.image)||1,n=e.hotspot||Xu,r=e.crop||Qu,o=Wse(e.container)||t*Ban(r),i=e.align||{x:"center",y:"center"},s=Lan(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=EPe(kPe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:Cd(s.crop.height),width:Cd(s.crop.width),top:Cd(s.crop.top),left:Cd(s.crop.left)},image:{position:"absolute",height:Cd(s.image.height),width:Cd(s.image.width),top:Cd(s.image.top),left:Cd(s.image.left)}}}function Wse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function kPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function Lan(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:c}}function Ban(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function EPe(e){return e===0?0:"".concat(e,"%")}function Cd(e){return EPe(kPe(e*100))}var Yse=Object.freeze,Nan=Object.defineProperty,zan=(e,t)=>Yse(Nan(e,"raw",{value:Yse(t||e.slice())})),qse;const Van=O.div(qse||(qse=zan([`
  position: relative;
  width: 100%;
`]))),Han=Hd("sanity-imagetool");function Uan(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const Wan=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Qu,hotspot:c=Xu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(Han("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?Uan(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>Fan({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(Van,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),Yan="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function qan(e){return e.startsWith("blob:")}function Gan(e){return new gt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(qan(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=Yan)}})}const Gse={isLoading:!0};function Kan(e){const[t,n]=h.useState(Gse);return h.useEffect(()=>{n(Gse);const r=Gan(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Kse=Object.freeze,Zan=Object.defineProperty,Xan=(e,t)=>Kse(Zan(e,"raw",{value:Kse(t||e.slice())})),Zse;const Xse=["hotspot"],Qse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Jse={crop:Qu,hotspot:Xu},Qan=O.div(Zse||(Zse=Xan([`
  min-height: 6em;
`])));function Jan(e){return l.jsx(Y,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function eln(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=dn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Jse),{image:g,isLoading:y,error:x}=Kan(t),b=h.useCallback(()=>{d(Xse)},[d]);h.useEffect(()=>{v(n||Jse)},[n]);const w=s[0]==="hotspot";$i(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),k=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Qu}:_.crop,E=k?{_type:k.type.name,..._.hotspot||Xu}:_.hotspot;c([xt(j,["crop"]),xt(E,["hotspot"])])},[c,f,u.fields]);return l.jsx(Q0,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(ee,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:l.jsx(ai,{path:i.concat(Xse),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(Ose,{ratio:3/2,children:[(y||x)&&l.jsx(Jan,{children:x?l.jsx(ee,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image "})}),!y&&g&&l.jsx(M,{margin:1,children:l.jsx(Mx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(Jt,{columns:Qse.length,gap:1,children:Qse.map(_=>{let[S,k]=_;return l.jsxs("div",{children:[l.jsx(zo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(Ose,{ratio:k,children:l.jsx(ee,{__unstable_checkered:!0,children:!y&&g?l.jsx(Wan,{aspectRatio:k,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||Xu,crop:m.crop||Qu}):l.jsx(Qan,{})})})})]},k)})})})]})})}var eae=Object.freeze,tln=Object.defineProperty,nln=(e,t)=>eae(tln(e,"raw",{value:eae(t||e.slice())})),tae;const rln=O(Gt)(tae||(tae=nln([`
  position: absolute;
  top: 0;
  right: 0;
`])));function oln(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Es(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),cr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(rln,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(at,{content:l.jsx(L,{size:1,children:"Crop image"}),padding:2,children:l.jsx(se,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:w0e,mode:"ghost",onClick:t,ref:o})}),l.jsx(en,{id:"image-actions-menu",content:l.jsx(Bt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:jo,mode:"ghost",onClick:p,ref:m})})]})}var nae=Object.freeze,iln=Object.defineProperty,RA=(e,t)=>nae(iln(e,"raw",{value:nae(t||e.slice())})),rae,oae,iae,sae;const aae=30,sln=O(ee)(rae||(rae=RA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),aln=O(dr)(oae||(oae=RA([`
  position: absolute;
`]))),lln=O(Y)(e=>{let{$drag:t,$tone:n}=e;const r=Rf.color.light[n].card.enabled.fg,o=Dt(Rf.color.light[n].card.enabled.bg,.8);return he(iae||(iae=RA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),cln=O(Y)(sae||(sae=RA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),uln=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function dln(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=Zf(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=aae*document.documentElement.clientHeight/100,[g,y]=uln(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(aae,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(sln,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(ee,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(lae,{cardTone:"transparent",drag:!0,content:l.jsx(aln,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(lae,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(zo,{children:l.jsx(fln,{isRejected:r,readOnly:n})})}),l.jsx(hln,{isRejected:r,readOnly:n})]})})]})}function fln(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(kf,{}):n?l.jsx(nw,{}):l.jsx(El,{})}function hln(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function lae(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(lln,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(cln,{direction:"column",align:"center",justify:"center",children:r})})}var cae=Object.freeze,pln=Object.defineProperty,mln=(e,t)=>cae(pln(e,"raw",{value:cae(t||e.slice())})),uae;const gln=O(se)(uae||(uae=mln([`
  width: 100%;
`])));function vln(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(Y,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(gln,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}const yln=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function bln(e){let{children:t}=e;return t}const dae=["asset"],xln={portal:!0};class wln extends ie.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Wn(s,"options.metadata"),storeOriginalFilename:Wn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Ki({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([nt(["hotspot"]),nt(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>nt([c]));this.props.onChange(s&&!this.valueIsArrayElement()?nt():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(nt());return}o(r.prepend(Ki({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;vPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([nt(["asset"]),nt(["crop"]),nt(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Pi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(aC,{children:l.jsx(M,{padding:4,children:l.jsx(re,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(eln,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!ab(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(yln()).auto("format").url();return l.jsx(dln,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(dae)}isImageToolEnabled(){return Wn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(nt(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Wn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ve,{icon:ei,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ve,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||El,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(r0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(ab(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return l.jsx(oln,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(yPe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(tn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(se,{"data-testid":"file-input-multi-browse-button",icon:ei,iconRight:qa,mode:"ghost",text:"Select"}),menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||El,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:xln}):l.jsx(se,{fontSize:2,text:"Select",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Wn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(xPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(mPe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Wn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(r0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!ab(t)?()=>l.jsx(vln,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(wPe,{onClearStale:this.handleClearUploadState})}),l.jsx(ai,{path:a.path.concat(dae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(pPe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return l.jsxs(re,{space:5,"data-testid":"image-input",children:[l.jsx(mB,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?l.jsx(lC,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?bln:i,renderItem:c,renderPreview:u},p.key):p.kind==="fieldSet"?l.jsx(aN,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u},p.key):p.kind==="error"?l.jsx(TA,{member:p},p.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&l.jsx(VIe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function Cln(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=md().__internal,o=Mi(),i=hr(ln),s=r.directUploads,a=h.useCallback((f,p)=>s?rN(f,p):null,[s]),c=ie.useMemo(()=>n||r.assetSources,[r,n]),u=ie.useMemo(()=>xT(i),[i]),d=h.useCallback(f=>jIe(o,f),[o]);return l.jsx(wln,{...e,client:i,assetSources:c,directUploads:s,imageUrlBuilder:u,observeAsset:d,resolveUploader:a})}const jPe=()=>{},RO={isLoading:!0,result:void 0,error:void 0,retry:jPe},_ln={isLoading:!1,result:void 0,error:void 0,retry:jPe};function TPe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=mo(()=>i._id?t(i).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ri(RO),On(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):be(_ln),[i,t,o,n],RO);return AB(e._id,e._id)!==e._id?RO:s}var fae=Object.freeze,Sln=Object.defineProperty,APe=(e,t)=>fae(Sln(e,"raw",{value:fae(t||e.slice())})),hae,pae;const kln=O(Y)(hae||(hae=APe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),DPe=O(Y)(pae||(pae=APe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function mae(e){return l.jsx(DPe,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function IPe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&ab(g),b=ie.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:l.jsx("img",{src:xT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(kln,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(NAe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):l.jsx(M,{flex:1,children:l.jsx(Y,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:4,children:[o&&a&&l.jsx(Vt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(mae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(mae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(ar,{tone:"default",children:v?l.jsx(kf,{}):l.jsx(Tv,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(DPe,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(ar,{size:1,tone:"default",muted:!s,children:l.jsx(Uf,{})})})})]})})]})}function yN(){return hr(ln).config().projectId}function Eln(e){var t;const{isLoading:n,result:r,error:o}=TPe(e.document,e.getReferenceInfo),i=yN();if(n)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(Ti,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Ti,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(re,{space:2,padding:1,children:l.jsxs(Vc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(re,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(IPe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(re,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function gae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=yN();if(a.isLoading||a.error)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(Ti,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Ti,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(re,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(IPe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var vae=Object.freeze,jln=Object.defineProperty,PPe=(e,t)=>vae(jln(e,"raw",{value:vae(t||e.slice())})),yae,bae;const Tln=O(en)(yae||(yae=PPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Aln=O(L)(bae||(bae=PPe([`
  word-break: break-word;
`]))),Dln=["top-start","bottom-start"],Iln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Tln,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Dln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(Aln,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",t.searchString,""]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(OL,{...t,ref:n,renderPopover:o})});var xae=Object.freeze,Pln=Object.defineProperty,Oln=(e,t)=>xae(Pln(e,"raw",{value:xae(t||e.slice())})),wae;const Rln=O(se)(wae||(wae=Oln([`
  width: 100%;
`])));function $ln(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(Y,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(Rln,{icon:Iu,text:"Reset value",onClick:n,mode:"ghost"})]})}const Cae={hits:[],isLoading:!1},Mln=()=>!0,_ae=["_ref"],Fln="crossDatasetReferences";function Lln(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=yN(),[b,w]=h.useState(Cae),C=h.useCallback(ae=>{if(!ae){c(nt()),u([]);return}if(!b.hits.find(xe=>xe.id===ae))throw new Error("Selected an item that wasnt part of the result set");c(xt({_type:m.name,_ref:Rn(ae),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(nt())},[c]),S=h.useCallback(ae=>{ae.keyCode===27&&(u==null||u([]))},[u]),k=h.useCallback(ae=>a(ae,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),E=TPe(j,k),T=_3e(Fln),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=y.ref;$i({hasFocusAt:D,ref:g==null?void 0:g._ref},(ae,ge)=>{var xe;const ce=(ae==null?void 0:ae.ref)!==ge.ref;((ae==null?void 0:ae.hasFocusAt)!==ge.hasFocusAt||ce)&&ge.hasFocusAt&&((xe=I.current)==null||xe.focus())});const P=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),V=h.useCallback(()=>{c(m.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[c,m]),{push:N}=Vo(),H=h.useMemo(()=>v.filter(ae=>ae.level==="error"),[v]),G=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u([zve]))},[y.ref,u]),U=h.useCallback(ae=>{ae.currentTarget===y.ref.current&&(u==null||u(_ae))},[y.ref,u]),q=h.useCallback(()=>{u==null||u(_ae)},[u]),Z=h.useId(),B=Rj(ae=>ae.pipe(mt(po),Qn(),it(ge=>Vr(be({isLoading:!0}),d(ge).pipe(ue(xe=>({hits:xe,searchString:ge,isLoading:!1})),On(xe=>(N({title:"Reference search failed",description:xe.message,status:"error",id:"reference-search-fail-".concat(Z)}),console.error(xe),be({hits:[]})))))),ea((ge,xe)=>({...ge,...xe}),Cae),xn(w)),[Z,d,N]),W=h.useCallback(()=>{B("")},[B]),z=!E.isLoading&&R&&P!==$,X=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=E==null?void 0:E.result)==null?void 0:t.type}))||null,Q=h.useCallback(ae=>l.jsx(Cp,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Eln,{referenceType:m,document:ae.hit.published,getReferenceInfo:k})})}),[m,k]),ne=(r=E.result)==null?void 0:r.preview.published,K=D||!(g!=null&&g._ref),J=h.useRef(null),oe=h.useRef(null),fe=h.useRef(null);return pDe([J,oe,fe],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx($ln,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(re,{space:1,children:K?l.jsx(re,{space:2,ref:J,children:l.jsx(ai,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Iln,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:oe,id:Z||"",options:b.hits.map(ae=>({value:ae.id,hit:ae})),onFocus:U,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:E.isLoading,onQueryChange:B,searchString:b.searchString,onChange:C,filterOption:Mln,renderOption:Q,openButton:{onClick:W}})})})}):l.jsx(ai,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(ee,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":E.error||H.length>0?"critical":"default",children:[l.jsxs(Y,{align:"center",padding:1,children:[X?l.jsx(Cp,{as:"a",target:"_blank",rel:"noopener noreferrer",href:X,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:G,ref:y.ref,children:l.jsx(gae,{value:g,referenceInfo:E,showStudioUrlIcon:!0,hasStudioUrl:!!X,type:m})}):l.jsx(Cp,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:G,ref:y.ref,children:l.jsx(gae,{value:g,referenceInfo:E,showStudioUrlIcon:!0,type:m})}),l.jsx(Gt,{paddingX:1,children:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo,"data-testid":"menu-button"}),id:"".concat(Z,"-menuButton"),menu:l.jsx(Bt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:Iu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ve,{text:"Replace",icon:h0,"data-testid":"menu-item-replace",onClick:q})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),z&&l.jsx(xf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:P}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',ne==null?void 0:ne.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',ne==null?void 0:ne.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(se,{onClick:V,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),E.error&&l.jsx(xf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(re,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",E.error.message]}),l.jsx(se,{onClick:E.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function Bln(e,t,n,r){return TB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ue(i=>i.map(s=>s.hit)),ue(cA),ue(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const Nln="cross-dataset-refs",OPe={available:!0,reason:"READABLE"},zln={available:!1,reason:"PERMISSION_DENIED"},Vln={available:!1,reason:"NOT_FOUND"};function Hln(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?be(a):n.observeDocumentTypeFromId(a._id,i).pipe(ue(u=>({_id:a._id,_type:u})))).pipe(it(u=>{if(!u._type)return Uln(t,a._id).pipe(ue(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...SB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ue(m=>m&&o5(m,d)));return Lo([p]).pipe(ue(m=>{let[v]=m;return{type:u._type,id:a._id,availability:OPe,preview:{published:wt(v)?v:void 0}}}))}))}}function Uln(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(Nln,".availability")};return e.observable.request(n).pipe(ue(r=>{const i=g9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?Vln:i.reason==="permission"?zln:null:OPe}))}async function Wln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=im(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Yln(e){const t=h.useRef(e);return t.current=e,t}function qln(e){const{path:t,schemaType:n}=e,r=Fn(),o=r.getClient(ln),i=Mi(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=HB([]),u=Yln(c),d=h.useCallback(p=>Cr(Wln(n.options,u.current,t,s)).pipe(ht(m=>{let{filter:v,params:g}=m;return Bln(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),On(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),Nu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>Hln({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(Lln,{...e,getReferenceInfo:f,onSearch:d})}function Gln(e){const t=h.useRef(e);return t.current=e,t}async function Kln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=im(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function bN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Fn(),c=a.getClient(ln),u=En(),d=Mi(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=oIe(),y=HB([]),x=Gln(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(b))==null?void 0:I.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Cr(Kln(s.options,x.current,i,_)).pipe(ht(P=>{let{filter:$,params:R}=P;return hDe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),On(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Nu(P)})),[x,i,f,s,_]),k=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return p?l.jsx(p,{...P,ref:$,parentRefPath:i,template:k}):null}),[p,i,k]),E=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=yi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(po),[C,g,s.to]),D=h.useCallback(I=>fDe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:E,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function Zln(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=jA(n,t);if(o)return l.jsxs(re,{space:2,padding:1,children:[l.jsx(Ti,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Ti,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(re,{space:2,padding:1,children:l.jsx(Vc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(re,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(xIe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(re,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const Xln={display:"inline-flex"},Qln={width:"100%"},Jln={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function ecn(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(tn,{button:l.jsx(se,{...o,disabled:e.readOnly,text:"Create new",mode:"ghost",icon:ko}),id:r,menu:l.jsx(Bt,{ref:e.menuRef,children:t.map(s=>l.jsx(at,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(Ic,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ve,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:Jln}):l.jsx(se,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:ko}):l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(Ic,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:Xln,children:l.jsx(se,{text:"Create new",mode:"ghost",disabled:!0,icon:ko,style:Qln})})})}var Sae=Object.freeze,tcn=Object.defineProperty,RPe=(e,t)=>Sae(tcn(e,"raw",{value:Sae(t||e.slice())})),kae,Eae;const ncn=O(en)(kae||(kae=RPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),rcn=O(L)(Eae||(Eae=RPe([`
  word-break: break-word;
`]))),ocn=["top-start","bottom-start"],icn=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(ncn,{placement:"bottom-start",fallbackPlacements:ocn,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(rcn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",t.searchString,""]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(OL,{...t,ref:n,renderPopover:o})});var jae=Object.freeze,scn=Object.defineProperty,$Pe=(e,t)=>jae(scn(e,"raw",{value:jae(t||e.slice())})),Tae,Aae;const acn=he(Tae||(Tae=$Pe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),lcn=he(Aae||(Aae=$Pe([`
  grid-template-columns: 1fr min-content;
`]))),ccn=O(Jt)(e=>e.$narrow?acn:lcn),ucn=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{dcn(n,a),o(a)},[n]),s=Zf(r);return l.jsx(ccn,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function dcn(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Dae=Object.freeze,fcn=Object.defineProperty,hcn=(e,t)=>Dae(fcn(e,"raw",{value:Dae(t||e.slice())})),Iae;const pcn=O(Cp)(Iae||(Iae=hcn([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),Pae={hits:[],isLoading:!1},mcn=()=>!0;function gcn(e){return e!==null}function vcn(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=bN({path:x,schemaType:f,value:g}),[_,S]=h.useState(Pae),k=h.useCallback(K=>{const J=ld(),oe=[Ki({}),xt(f.name,["_type"]),xt(J,["_ref"]),xt(!0,["_weak"]),xt({type:K.type,weak:f.weak,template:K.template},["_strengthenOnPublish"])].filter(po);c(oe),u({id:J,type:K.type,template:K.template}),v([])},[c,u,v,f]),j=h.useCallback(K=>{if(!K){c(nt()),v([]);return}const J=_.hits.find(fe=>fe.id===K);if(!J)throw new Error("Selected an item that wasnt part of the result set");const oe=[Ki({}),xt(f.name,["_type"]),xt(Rn(K),["_ref"]),J.published&&!f.weak?nt(["_weak"]):xt(!0,["_weak"]),J.published?nt(["_strengthenOnPublish"]):xt({type:J==null?void 0:J.type,weak:f.weak},["_strengthenOnPublish"])].filter(po);c(oe),v([])},[c,v,f.name,f.weak,_.hits]),E=h.useCallback(()=>{c(nt())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||E()},[E,g==null?void 0:g._ref]),A=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),D=jA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:P}=Vo(),$=Rj(K=>K.pipe(mt(gcn),it(J=>Vr(be({isLoading:!0}),d(J).pipe(ue(oe=>({hits:oe,searchString:J,isLoading:!1})),On(oe=>(P({title:"Reference search failed",description:oe.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(oe),be({hits:[]})))))),ea((J,oe)=>({...J,...oe}),Pae),xn(S)),[m,d,P]),R=h.useCallback(()=>{$("")},[$]),V=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),N=h.useCallback(K=>{var J,oe;const fe=((J=K.hit.draft)==null?void 0:J._id)||((oe=K.hit.published)==null?void 0:oe._id)||K.value;return l.jsx(pcn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Zln,{getReferenceInfo:C,id:fe,renderPreview:y,type:f})})})},[f,C,y]),H=h.useCallback(()=>{var K,J,oe,fe;return((J=(K=D.result)==null?void 0:K.preview.draft)==null?void 0:J.title)||((fe=(oe=D.result)==null?void 0:oe.preview.published)==null?void 0:fe.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),G=h.useCallback(()=>v(["_ref"]),[v]),U=h.useCallback(K=>{var J;(J=I.current)!=null&&J.contains(K.relatedTarget)||e.elementProps.onBlur(K)},[e.elementProps]),q=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);$i((w==null?void 0:w[0])==="_ref",(K,J)=>{var oe;!K&&J&&((oe=b.ref.current)==null||oe.focus())});const Z=h.useMemo(()=>_.hits.map(K=>({value:K.id,hit:K})),[_.hits]),B=w.length===1&&w[0]==="_ref",{menuRef:W,containerRef:z}=ern(),X=h.useRef(null),Q=h.useRef(null),ne=h.useRef(null);return pDe([z,X,Q,ne,W],()=>{B&&T()}),l.jsx(re,{space:1,"data-testid":"reference-input",ref:X,children:l.jsxs(re,{space:2,children:[q?l.jsx(Vc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(re,{padding:2,children:l.jsx(se,{text:"Clear",onClick:E})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(ucn,{ref:I,children:[l.jsx(icn,{...b,onFocus:G,onBlur:U,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:Z,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:mcn,renderOption:N,renderValue:H,openButton:{onClick:R},portalRef:Q,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(ecn,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:k,onKeyDown:V,menuRef:ne})]})]})})}async function ycn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=im(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function bcn(e){const t=h.useRef(e);return t.current=e,t}function xcn(e){var t,n,r,o;const i=Fn(),s=i.getClient(ln),a=En(),c=Mi(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=oIe(),g=HB([]),y=bcn(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Cr(ycn(d.options,y.current,u,_)).pipe(ht(P=>{let{filter:$,params:R}=P;return hDe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),On(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Nu(P)})),[y,u,s,d,_]),k=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return f?l.jsx(f,{...P,ref:$,parentRefPath:u,template:k}):null}),[f,u,k]),E=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=yi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P,$,R;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(po),[C,v,d.to]),D=h.useCallback((I,P)=>fDe(c,I,P),[c]);return l.jsx(vcn,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:E})}function wcn(e){return m4(e.schemaType)}function Ccn(e){return XMe(e.schemaType)}function c5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>c5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>c5(e[o],t[o]))}function Oae(e,t){return e?e.some(n=>c5(n,t)):!1}function _cn(e,t){return e.of.find(n=>n.name===Ss(t))}const Scn=[];function kcn(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||Scn).map((x,b)=>Sl(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&Sl(x)){i(nt([{_key:x._key}]));return}const b=p.filter(w=>c5(x,w)?y:Oae(a,w));i(b.length>0?xt(b):nt())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(ai,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(Jt,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=_cn(o,y),w=Oae(a,y),C=!b;return l.jsxs(Y,{align:"center",as:"label",muted:C,children:[l.jsx(kj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):l.jsx(ee,{tone:"caution",radius:2,children:l.jsx(zIe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var Rae=Object.freeze,Ecn=Object.defineProperty,jcn=(e,t)=>Rae(Ecn(e,"raw",{value:Rae(t||e.slice())})),$ae;const Tcn=O(ee)($ae||($ae=jcn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function MPe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);cr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ss(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Tcn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(z5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(sr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(wl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Acn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Dcn(e){return e.map(t=>Acn(t)?{title:t.title||fn(String(t.value)),value:t.value}:{title:fn(String(t)),value:t})}function Icn(e,t){return e.of.find(n=>n.name===Ss(t.value))}function Pcn(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Dcn(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?xt(y):nt())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(ai,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(Jt,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=Icn(r,v),x=i.includes(v.value),b=!y;return l.jsxs(Y,{align:"center",as:"label",muted:b,children:[l.jsx(kj,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:v.title})}),!y&&l.jsx(MPe,{value:v,onFocus:()=>u(g)})]},g)})})})}function FPe(e){return wcn(e)?l.jsx(kcn,{...e}):l.jsx(Pcn,{...e})}var Mae=Object.freeze,Ocn=Object.defineProperty,$A=(e,t)=>Mae(Ocn(e,"raw",{value:Mae(t||e.slice())})),Fae,Lae,Bae,Nae;const Rcn=O.div(Fae||(Fae=$A([`
  position: relative;
`]))),LPe=O.div(Lae||(Lae=$A([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),BPe=O(ee)(Bae||(Bae=$A([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),$cn=O(Y)(Nae||(Nae=$A([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),BPe,LPe),Mcn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function Fcn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=Mcn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:v})},[i,n]);return l.jsxs(Rcn,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs($cn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(BPe,{radius:1}),l.jsx(LPe,{children:f})]}),t]})}var zae=Object.freeze,Lcn=Object.defineProperty,Bcn=(e,t)=>zae(Lcn(e,"raw",{value:zae(t||e.slice())})),Vae;const Ncn=O.span(Vae||(Vae=Bcn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function zcn(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Rin[t],a=i.component,c=h.useCallback(u=>l.jsx(Ncn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const Vcn={portal:!0,constrainSize:!0},NPe=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return l.jsx(tn,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:Vcn,...i,button:o,menu:l.jsx(Bt,{children:s.map((c,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:y,text:x,icon:b,selected:w,...C}=c.props;return l.jsxs(ie.Fragment,{children:[v&&u!==0&&l.jsx(Dr,{}),l.jsx(Ve,{text:x,icon:b,pressed:w,...C})]},c.key)})})})});function Hcn(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(Y,{ref:s,...o,children:n})}var Hae=Object.freeze,Ucn=Object.defineProperty,Wcn=(e,t)=>Hae(Ucn(e,"raw",{value:Hae(t||e.slice())})),Uae;const Ycn=O.div(Uae||(Uae=Wcn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function zPe(e){const{hidden:t,...n}=e;return l.jsx(Ycn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Wae=Object.freeze,qcn=Object.defineProperty,cC=(e,t)=>Wae(qcn(e,"raw",{value:Wae(t||e.slice())})),Yae,qae,Gae,Kae,Zae;const Xae=3,Gcn=he(Yae||(Yae=cC([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),Kcn=O(Y)(qae||(qae=cC([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Xae,Xae),Zcn=O(Y)(Gae||(Gae=cC([`
  border-radius: inherit;
  position: relative;
`]))),VPe=O(Y)(Kae||(Kae=cC([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),Xcn=O(Hcn)(Zae||(Zae=cC([`
  `,`
`])),Gcn);function Qcn(e){return!!e}const xN=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...c}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(Qcn),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:jo,mode:"bleed"}),[a]);return o?l.jsx(NPe,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):l.jsx(Jcn,{...c,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),Jcn=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:c,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),y=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),b=h.useMemo(()=>[...Vp(x,Object.keys(p)),...Vp(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(I=>{const P=D.key;if(P===null)throw new Error("Expected element to have a non-null key");const $={intersects:A.isIntersecting,element:D},R=I[P];return!R||R.intersects!==$.intersects?{...I,[P]:$}:I})},[]),_=h.useCallback((A,D)=>{g(I=>{const P=D.key;if(P===null)throw new Error("Expected child element to have a non-null key");const $=I[P],R={intersects:A.isIntersecting,element:D};return($==null?void 0:$.intersects)===R.intersects?I:{...I,[P]:R}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,I=D,P=r?void 0:A.props.text;return h.cloneElement(A,{...I,text:P})}),[s,r]),k=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),E=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:jo,mode:"bleed"}),[a]);return l.jsxs(Kcn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[l.jsxs(Zcn,{direction:"column",flex:1,justify:"center",ref:f,children:[l.jsx(VPe,{gap:i,children:b.length===0&&E.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:$={}}=A.props,R=!A.key||!(A.key in p)||k.includes(A);return l.jsxs(h.Fragment,{children:[I&&D!==0&&l.jsx(zPe,{hidden:R}),l.jsx(at,{portal:!0,disabled:!P,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:P})}),...$,children:l.jsx(Y,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})]},A.key)})}),l.jsx(Qae,{gap:i,elements:s,intersectionOptions:y,onIntersectionChange:C}),l.jsx(Qae,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:_})]}),k.length>0&&l.jsx(Y,{marginLeft:i,children:l.jsx(NPe,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:k,onMenuClose:c})})]})}),Qae=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return l.jsx(VPe,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:c}=s.props;return l.jsxs(h.Fragment,{children:[c&&a!==0&&l.jsx(zPe,{hidden:!0}),l.jsx(Xcn,{options:o,onIntersectionChange:u=>i(u[0],s),children:l.jsx(Y,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),wN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(se,{"data-ui":"CollapseMenuButton",...c,ref:n})});var Jae=Object.freeze,eun=Object.defineProperty,tun=(e,t)=>Jae(eun(e,"raw",{value:Jae(t||e.slice())})),ele;const nun=O.div(ele||(ele=tun([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function run(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(nun,{style:r})}function oun(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Se.toggleMark(e,o.value),Se.focus(e)},hotkeys:s,title:o.title}})}function iun(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Se.toggleList(e,r.value)},title:r.title}))}function sun(e){return Wn(e,"icon")||Wn(e,"type.icon")||Wn(e,"type.to.icon")||Wn(e,"type.to[0].icon")}function aun(e,t,n){const r=e.schemaTypes,o=Se.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:sun(s),key:s.name,handle:a=>{a?(Se.removeAnnotation(e,s),Se.focus(e)):n(s)},title:s.title||km(s.name)}))}function lun(e,t,n,r){return[{name:"format",actions:oun(e,t,r)},{name:"list",actions:iun(e,t)},{name:"annotation",actions:aun(e,t,n)}]}function cun(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function tle(e,t){const n=Wn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function uun(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:tle(a,p0e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:tle(a,T0e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const dun={link:jf},fun={strong:m0e,em:I0e,"strike-through":z0e,underline:V0e,code:y0e},hun={number:R0e,bullet:Fy};function pun(e,t){return e.icon?typeof e.icon=="string"?l.jsx(run,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?dun[e.key]||wl:e.type==="listStyle"?hun[e.key]||wl:fun[e.key]||wl}function MA(){const e=go(),t=M0();return h.useMemo(()=>Se.focusBlock(e),[e,t])}function mun(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=go(),s=h.useCallback(async a=>{const c=await r(a),u=Se.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?lun(i,o,s,t):[],[o,i,s,t])}function gun(e){let{actions:t}=e;const n=go(),r=M0();return Zo(h.useMemo(()=>{const o=Se.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Se.hasListStyle(n,i.key):Se.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function vun(e){let{items:t}=e;const n=go(),r=MA(),o=M0();return Zo(h.useMemo(()=>t.filter(i=>Se.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const yun=h.memo(xN),bun={constrainSize:!0,portal:!0},xun={padding:2,mode:"bleed"},wun=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=MA(),a=go(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=gun({actions:f}),m=h.useCallback(()=>{Se.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(wN,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...xun,dividerBefore:y.firstInGroup,icon:pun(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(se,{icon:jo,mode:"bleed",padding:2,disabled:d}),popover:bun}),[d]);return l.jsx(yun,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var nle=Object.freeze,Cun=Object.defineProperty,HPe=(e,t)=>nle(Cun(e,"raw",{value:nle(t||e.slice())})),rle,ole;const _un=h.memo(tn),Sun=O(Ve)(rle||(rle=HPe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),kun=O(se)(ole||(ole=HPe([`
  width: 100%;
`]))),Eun={constrainSize:!0,placement:"bottom-start",portal:"default"},UPe={h1:e=>l.jsx(ePe,{children:e}),h2:e=>l.jsx(tPe,{children:e}),h3:e=>l.jsx(nPe,{children:e}),h4:e=>l.jsx(rPe,{children:e}),h5:e=>l.jsx(oPe,{children:e}),h6:e=>l.jsx(iPe,{children:e}),normal:e=>l.jsx(pN,{children:e}),blockquote:e=>l.jsx(sPe,{"data-option":"blockquote",children:e})},jun=Object.keys(UPe),Tun=e=>e.preventDefault(),$O={key:"style-none",style:"",title:"No style"},Aun=h.memo(function(t){const{disabled:n,items:r}=t,o=go(),i=MA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=vun({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([$O]),g.push($O)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:$O.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&(Se.toggleBlockStyle(o,g.style),Se.focus(o))},[o,i]),p=h.useCallback((g,y)=>{const x=jun.includes(g),b=UPe[g];return x?b(y):l.jsx(L,{children:y})},[]),m=h.useMemo(()=>l.jsx(kun,{disabled:s,iconRight:Ll,mode:"bleed",onClick:Tun,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Bt,{disabled:s,children:u.map(g=>l.jsx(Sun,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(_un,{popover:Eun,id:"block-style-select",button:m,menu:v})}),Dun=h.memo(xN),Iun={constrainSize:!0,portal:!0},Pun=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=MA(),a=go(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Se.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||zSe(p.type.name);return l.jsx(wN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(se,{icon:ko,mode:"bleed",padding:2,disabled:n}),popover:Iun}),[n]);return l.jsx(Dun,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var ile=Object.freeze,Oun=Object.defineProperty,o0=(e,t)=>ile(Oun(e,"raw",{value:ile(t||e.slice())})),sle,ale,lle,cle,ule,dle;const Run=O(Y)(sle||(sle=o0([`
  width: 100%;
`]))),$un=O(M)(ale||(ale=o0([`
  width: 8em;
`]))),Mun=O(Y)(lle||(lle=o0([`
  border-right: 1px solid var(--card-border-color);
`]))),Fun=O(M)(ule||(ule=o0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&he(cle||(cle=o0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),Lun=O(M)(dle||(dle=o0([`
  border-left: 1px solid var(--card-border-color);
`]))),Bun=300,Nun=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),zun=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=Zf(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;VAe({rootElement:f});const y=h.useCallback(x=>{x.preventDefault()},[]);return l.jsxs(Run,{align:"center",ref:p,onMouseDown:y,children:[g&&l.jsx(Mun,{flex:v?1:void 0,children:l.jsx($un,{padding:s?2:1,children:l.jsx(Aun,{disabled:o,items:r})})}),l.jsxs(Y,{flex:1,children:[u&&l.jsx(Fun,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(wun,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Pun,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(Lun,{padding:s?2:1,children:l.jsx(at,{content:l.jsxs(Y,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx($L,{keys:["".concat(Nun?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(se,{padding:2,icon:s?b0e:k0e,mode:"bleed",onClick:a})})})]})});function Vun(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=go(),a=M0(),c=GN(),u=r||!a,{push:d}=Vo(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},Bun);return c(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const b=await f(x),w=Se.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=Se.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=mun({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>cun(s.schemaTypes),[s]),y=h.useMemo(()=>uun(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(zun,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var fle=Object.freeze,Hun=Object.defineProperty,wf=(e,t)=>fle(Hun(e,"raw",{value:fle(t||e.slice())})),hle,ple,mle,gle,vle,yle,ble,xle;const Uun=O(ee)(hle||(hle=wf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),Wun=O(ee)(ple||(ple=wf([`
  z-index: 10;
  line-height: 0;
`]))),Yun=O(ee)(mle||(mle=wf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),qun=O(uA)(gle||(gle=wf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),Gun=O(Xr)(vle||(vle=wf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),Kun=O(ee)(xle||(xle=wf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),Q1.map(e=>Gh(e)).join(" "),Q1.map(e=>he(yle||(yle=wf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},Q1.map(e=>Gh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},Q1.map(e=>Gh(e)).join(" "),Q1.slice(1).map(e=>he(ble||(ble=wf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function Zun(){const e=go();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function Xun(e){return h.useMemo(()=>(t,n)=>{if(Se.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;Yv(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const Qun=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&DO[t.style]?DO[t.style]:DO[0])||pN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(gd,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},wle=e=>l.jsx(l.Fragment,{children:e.children}),Jun=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:wle,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(wle,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},edn={outline:"none"},tdn=e=>l.jsx(zcn,{...e}),ndn=e=>l.jsx(Qun,{...e}),rdn=e=>l.jsx(Jun,{...e});function odn(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=la(),w=h.useRef(null),{element:C}=mm();Es(h.useCallback(T=>{!b||!o||T.key==="Escape"&&c()},[c,o,b]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=Zun(),k=Xun(v),j=h.useMemo(()=>l.jsx(S5e,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:tdn,renderListItem:rdn,renderPlaceholder:_,renderStyle:ndn,scrollSelectionIntoView:k,selection:n,spellCheck:S,style:edn}),[x,t,n,i,a,f,p,m,_,k,S]),E=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(Uun,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(Wun,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(Vun,{hotkeys:t,isFullscreen:o,onMemberOpen:E,onToggleFullscreen:c,readOnly:d})}),l.jsxs(Yun,{flex:1,tone:d?"transparent":"default",children:[l.jsx(qun,{ref:y,children:l.jsx(Gun,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(Kun,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Lu,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var Cle=Object.freeze,idn=Object.defineProperty,WPe=(e,t)=>Cle(idn(e,"raw",{value:Cle(t||e.slice())})),_le,Sle;const sdn=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return he(_le||(_le=WPe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),gN(s),r.border.width,vN({base:o,border:s,focusRing:n}))}),adn=O(es)(Sle||(Sle=WPe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function ldn(e){const t=go(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function cdn(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=uin(),i=go(),s=M0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(Yv(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Yv(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&bn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&Sl(t[2])?t[2]._key:void 0,y=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Se.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Se.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function udn(e){const{changed:t,focused:n,focusPath:r=dn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,value:A}=e,D=go(),I=mm().element,[P,$]=h.useState(null),[R,V]=h.useState(null),N=h.useCallback(()=>{g()},[g]),H=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),G=ldn(H),U=A&&C?C:void 0,q=A&&_?_:void 0,[Z,B]=h.useState(null),W=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return l.jsx(Kin,{floatingBoundary:I,focused:ve,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderBlockActions:U,renderCustomMarkers:q,renderPreview:T,renderBlock:w,schemaType:st,selected:Ae,value:et,children:ce})},[U,q,R,a,d,f,p,v,I,y,x,b,w,S,k,j,E,T]),z=h.useCallback(xe=>{const{focused:ce,path:ve,selected:$e,schemaType:Ae,value:st}=xe;return l.jsx(Oin,{floatingBoundary:I,focused:ce,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(ve),readOnly:x,referenceBoundary:R,relativePath:ve,renderAnnotation:b,renderBlock:w,renderBlockActions:U,renderCustomMarkers:q,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:Ae,selected:$e,value:st})},[I,R,a,d,f,p,v,y,x,b,w,U,q,S,k,j,E,T]),X=h.useCallback(xe=>{const{value:ce}=xe;return ce._type===D.schemaTypes.block.name?W(xe):z(xe)},[D.schemaTypes.block.name,z,W]),Q=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return et._type===D.schemaTypes.span.name?ce:l.jsx(ssn,{floatingBoundary:I,focused:ve,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,relativePath:$e,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:st,selected:Ae,value:et})},[I,R,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,k,j,E,T]),ne=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return l.jsx(msn,{editorNodeFocused:ve,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:k,renderInput:j,renderItem:E,renderPreview:T,schemaType:st,selected:Ae,value:et,children:ce})},[I,R,n,d,f,v,y,x,b,w,_,S,k,j,E,T]),K=e.elementProps["aria-describedby"],J=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),oe=h.useMemo(()=>l.jsx(odn,{ariaDescribedBy:K,initialSelection:J,hotkeys:G,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:N,path:y,readOnly:x,renderAnnotation:ne,renderBlock:X,renderChild:Q,setPortalElement:B,scrollElement:R,setScrollElement:V}),[K,G,ne,X,Q,N,J,s,a,u,f,m,y,x,R]),fe=gm(),ae=h.useMemo(()=>({collapsed:P,default:fe.element,editor:Z,expanded:fe.element}),[fe.element,Z,P]);cdn({focusPath:r,boundaryElement:R,onItemClose:d});const ge=n||o;return l.jsx(ym,{__unstable_elements:ae,element:fe.element,children:l.jsx(Fcn,{onActivate:c,isOverlayActive:!s,children:l.jsx(ai,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:l.jsxs(sdn,{"data-focused":ge?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(vm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(adn,{children:oe}):oe})}),l.jsx("div",{"data-border":""})]})})})})}function ddn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Vc,{suffix:l.jsxs(re,{padding:2,children:[r.action&&l.jsxs(Jt,{columns:[1,2],gap:1,children:[l.jsx(se,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(se,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(re,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(sr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function fdn(e){const{path:t}=e,{patchChannel:n}=md().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>CF(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:mdn(t,a),snapshot:wt(s)?gdn(s,t):{},patches:c})}),[t,n])}}function hdn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?zu(e,t):e===t}function CF(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!hdn(t[n],e[n]))return!1;return!0}function pdn(e,t){return e.length===0||CF(t,e)&&!CF(e,t)}function mdn(e,t){return t.some(n=>pdn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function gdn(e,t){return t.reduce((n,r)=>typeof r=="object"?aTe(n,r):Wn(n,r),e)}function vdn(e){const{elementProps:t,hotkeys:n,markers:r=dn,onChange:o,onCopy:i,onInsert:s,onItemRemove:a,onPaste:c,onPathFocus:u,path:d,readOnly:f,renderBlockActions:p,renderCustomMarkers:m,schemaType:v,value:g}=e,{onBlur:y}=t;h.useImperativeHandle(t.ref,()=>({focus(){b.current&&Se.focus(b.current)}}));const{subscribe:x}=fdn({path:d}),b=h.useRef(null),[w,C]=h.useState(!1),[_,S]=h.useState(null),[k,j]=h.useState(!1),[E,T]=h.useState(!1),[A,D]=h.useState(!1),[I,P]=h.useState(!1),$=Vo(),R=h.useMemo(()=>new wr,[]),V=h.useMemo(()=>R.asObservable(),[R]),N=h.useRef(null),H=h.useCallback(()=>{b.current&&j(W=>!W)},[]);h.useEffect(()=>{_&&g!==_.value&&S(null)},[_,g]),h.useEffect(()=>x(W=>{let{patches:z,snapshot:X}=W;R.next({patches:z,snapshot:X})}),[R,x]);const G=din(e);h.useEffect(()=>{I&&T(!0)},[I]);const U=h.useCallback(W=>{switch(W.type){case"mutation":o(kle(W.patches));break;case"connection":W.value==="offline"?D(!0):W.value==="online"&&D(!1);break;case"selection":h.startTransition(()=>{W.selection&&u(W.selection.focus.path)});break;case"focus":T(!0),P(!0);break;case"blur":y(W.event),P(!1);break;case"undo":case"redo":o(kle(W.patches));break;case"invalidValue":S(W);break;case"error":$.push({status:W.level,description:W.description});break}},[y,o,u,$]);h.useEffect(()=>{C(!1)},[g]);const q=h.useCallback(()=>{C(!0)},[]),Z=h.useMemo(()=>_&&_.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(ddn,{onChange:U,onIgnore:q,resolution:_.resolution,readOnly:A||f})}):null,[U,q,_,A,f]),B=h.useCallback(()=>{E||(T(!0),b.current&&Se.focus(b.current))},[E]);return l.jsxs(M,{ref:N,children:[!w&&Z,(!_||w)&&l.jsx(lin,{markers:r,children:l.jsx(cin,{memberItems:G,children:l.jsx(Se,{ref:b,patches$:V,onChange:U,maxBlocks:void 0,readOnly:A||f,schemaType:v,value:g,children:l.jsx(udn,{...e,hasFocusWithin:I,hotkeys:n,isActive:E,isFullscreen:k,onActivate:B,onItemRemove:a,onCopy:i,onInsert:s,onPaste:c,onToggleFullscreen:H,renderBlockActions:p,renderCustomMarkers:m})})})})]})}function kle(e){return e.map(t=>({...t,patchType:Qp}))}function _F(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function ydn(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&_F(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Ele=Object.freeze,bdn=Object.defineProperty,YPe=(e,t)=>Ele(bdn(e,"raw",{value:Ele(t||e.slice())})),jle,Tle;const xdn=O(ee)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ye(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:_F({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:ydn({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:_F({color:i.default.disabled.border,width:r.border.width})}}}),wdn=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ye(o-i.ascenderHeight),paddingRight:ye(o),paddingBottom:ye(o-i.descenderHeight),paddingLeft:ye(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Cdn=O(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return he(jle||(jle=YPe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),_dn=O(M)(Tle||(Tle=YPe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),qPe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag":"Enter tag and press ENTER"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=ur(t),y=h.useRef(null),x=h.useCallback(k=>{if($c(k.target)&&k.target.closest('[data-ui="Tag"]'))return;const E=g.current;E&&setTimeout(()=>E.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(k=>{f(k.currentTarget.value)},[]),C=h.useCallback(k=>{v(!0),o&&o(k)},[o]),_=h.useCallback(k=>{if(k.key==="Enter"&&(k.preventDefault(),k.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(k=>{if(!r)return;const j=a.slice(0);j.splice(k,1),r(j)},[r,a]);return h.useEffect(()=>{const k=g.current;k&&(k.style.width="0",k.style.width="".concat(k.scrollWidth,"px"))},[g,d]),l.jsxs(xdn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&l.jsx(Cdn,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((k,j)=>l.jsx(_dn,{children:l.jsx(Sdn,{enabled:p,index:j,muted:!p,onRemove:S,tag:k})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(wdn,{...c,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});qPe.displayName="TagInput";function Sdn(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(ee,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{icon:Ei,mode:"bleed",onClick:s,padding:1})})]})})}function kdn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?nt():xt(u.map(d=>d.value)))},[t]);return l.jsx(ai,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(qPe,{onChange:c,readOnly:n,value:a,...o})})}const Edn={portal:!0,tone:"default"};function GPe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx(SA,{dragHandle:n,tone:"caution",menu:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo}),id:"".concat(o,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:r})}),popover:Edn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(MPe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function jdn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(q5,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Gt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(kf,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(kf,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var Ale=Object.freeze,Tdn=Object.defineProperty,Adn=(e,t)=>Ale(Tdn(e,"raw",{value:Ale(t||e.slice())})),Dle;const Ddn=O(es)(Dle||(Dle=Adn([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Ile=Object.freeze,Idn=Object.defineProperty,Pdn=(e,t)=>Ile(Idn(e,"raw",{value:Ile(t||e.slice())})),Ple;const Odn=O.div(Ple||(Ple=Pdn([`
  position: relative;
`])));function Rdn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function $dn(e){const t=fPe(e);return ie.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=Vo(),f=ie.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=ie.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:Rdn(c,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(Y,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,Cm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ie.useState([]),g=ie.useCallback(()=>v([]),[]);return l.jsx(Odn,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(Ddn,{zOffset:10,children:l.jsx(jdn,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const CN=hPe($dn(ee));function Mdn(e,t,n){return Fdn(e,t,r=>r===n)}function Fdn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const Ldn={portal:!0,tone:"default"},Bdn=ie.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[cN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo}),id:"".concat(u,"-menuButton"),popover:Ldn,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:a}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:x}),l.jsx(EA,{types:i,onInsert:y})]})});return l.jsx(SA,{tone:b,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(sC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:d})}):null,children:l.jsx(Y,{align:m?"flex-end":"center",ref:n,children:l.jsx(Y,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function Ndn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ie.useCallback(d=>{i(o(d))},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Jt,{children:l.jsx(se,{icon:ko,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:ko,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"ghost",text:"Add item"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((d,f)=>{var p,m;const v=Tu(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Ve,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class KPe extends ie.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(Bdn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=Mdn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=Ndn,path:d,changed:f}=this.props,p=!r&&Wn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(re,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(CN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(re,{space:1,children:m.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{padding:1,border:!0,children:l.jsx(eN,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return l.jsxs(tN,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&l.jsx(ai,{path:y.item.path,isChanged:f,hasFocus:!1,children:l.jsx(bon,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&l.jsx(GPe,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:cN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Ole=Object.freeze,zdn=Object.defineProperty,FA=(e,t)=>Ole(zdn(e,"raw",{value:Ole(t||e.slice())})),Rle,$le,Mle,Fle;const Vdn=O(Y)(Rle||(Rle=FA([`
  min-height: 35px;
`]))),Hdn=O(Y)($le||($le=FA([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),SF=O(ee)(Mle||(Mle=FA([`
  position: absolute;
  top: 0;
  left: 0;
`]))),Udn=O(ee)(Fle||(Fle=FA([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),SF,SF,JB);function ZPe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(Udn,{forwardedAs:Y,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(SF,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(vIe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(Hdn,{align:"center",marginX:1,children:o}),l.jsxs(Vdn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(Y,{children:t}),l.jsx(M,{children:c}),a]})]})}var Lle=Object.freeze,Wdn=Object.defineProperty,Ydn=(e,t)=>Lle(Wdn(e,"raw",{value:Lle(t||e.slice())})),Ble;const qdn=O(ee)(Ble||(Ble=Ydn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function Gdn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Kdn={portal:!0,tone:"default"},Zdn={position:"absolute",top:0,left:0,bottom:0,right:0};function Xdn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,k=c.of,j=h.useRef(null);CA(j,m),$i(w,(q,Z)=>{var B;!q&&Z&&j.current&&((B=j.current)==null||B.focus())});const E=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Ox()}],position:"after"})},[v,p]),A=h.useCallback((q,Z)=>{v({items:[J0(Z)],position:q})},[v]),D=K0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(sC,{presence:D,maxAvatars:1}),[D]),P=qB(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(q=>q.level==="error"),V=P.some(q=>q.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:T}),l.jsx(EA,{types:k,onInsert:A})]}),popover:Kdn}),[T,A,f,k,e.inputId,d]),H=Gdn({readOnly:d,hasErrors:R,hasWarnings:V}),G=l.jsx(ZPe,{menu:N,presence:I,validation:$,tone:H,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(qdn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:E,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),E&&l.jsx(ee,{as:Y,style:Zdn,children:l.jsxs(Y,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(dr,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value"})]})})]})}),U=_p(a);return l.jsxs(l.Fragment,{children:[l.jsx(ai,{path:u,isChanged:b,hasFocus:!!w,children:G}),m&&l.jsx(UIe,{header:d?"View ".concat(U):"Edit ".concat(U),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Nle=Object.freeze,Qdn=Object.defineProperty,Jdn=(e,t)=>Nle(Qdn(e,"raw",{value:Nle(t||e.slice())})),zle;const efn=O(ee)(zle||(zle=Jdn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function tfn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);cr(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=Ss(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(efn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(re,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(z5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(re,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(sr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(re,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(wl,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const nfn={portal:!0,tone:"default"};function rfn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=Qa(),i=h.useCallback(()=>{o(ft.from([nt([{_key:t.key}])]))},[o,t.key]);return l.jsx(ZPe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:jo}),id:"".concat(r,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:ho,onClick:i})}),popover:nfn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(tfn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const ofn=[];function ifn(e){var t;const{arrayFunctions:n=UB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=ofn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(Xdn,{...j}),[]),k=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(re,{space:3,children:[l.jsx(CN,{types:x.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsxs(re,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(ee,{border:!0,radius:1,children:l.jsx(eN,{columns:[2,3,4],gap:3,padding:1,margin:1,items:k,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(tN,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(lN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(rfn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:J0,readOnly:u,schemaType:x,value:b})]})}function sfn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const afn=[];function lfn(e){var t;const{arrayFunctions:n=UB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=afn}=e,[_,S]=h.useState(null),{space:k}=js().sanity,j=h.useCallback(W=>{s({items:[W],position:"before",referenceItem:0})},[s]),E=h.useCallback(W=>{s({items:[W],position:"after",referenceItem:-1})},[s]),T=sfn(h.useMemo(()=>o.map(W=>W.key),[o]),zu),{scrollElement:A,containerElement:D}=Aon(),I=h.useRef(null),P=h.useMemo(()=>Pr(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(W=>{const z={...W};if(_!==null&&(z.startIndex=Math.min(W.startIndex,_),z.endIndex=Math.max(W.endIndex,_)),P){const X=T.findIndex(Q=>Q===P);X!==-1&&(z.startIndex=Math.min(z.startIndex,X),z.endIndex=Math.max(z.endIndex,X))}return D_e(z)},[_,P,T]),R=h.useCallback((W,z)=>{if(!W.scrollElement)return;const X=W.scrollElement,Q=()=>{var ne,K,J,oe;const fe=(K=(ne=D.current)==null?void 0:ne.getBoundingClientRect().top)!=null?K:0,ae=(oe=(J=I.current)==null?void 0:J.getBoundingClientRect().top)!=null?oe:0,ge=Math.floor(ae-fe);z(X.scrollTop-ge)};return Q(),W.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{X.removeEventListener("scroll",Q)}},[D]),V=h.useCallback(()=>53,[]),N=O_e({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(W=>T[W],[T]),scrollToFn:(W,z,X)=>{W!==X.scrollOffset&&I_e(W,z,X)}}),H=N.getVirtualItems(),G=h.useCallback(W=>{var z,X;const{active:Q}=W;S((X=(z=Q.data.current)==null?void 0:z.sortable)==null?void 0:X.index)},[]),U=h.useCallback(()=>{S(null)},[]),q=((t=w.options)==null?void 0:t.sortable)!==!1,Z=1,B=1;return l.jsxs(re,{space:3,ref:I,children:[l.jsx(CN,{types:w.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsx(re,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{border:!0,radius:1,style:{height:"".concat(N.getTotalSize()+H.length*k[Z]+k[B],"px"),width:"100%",position:"relative"},children:l.jsx(eN,{axis:"y",gap:Z,paddingY:B,items:T,onItemMove:a,onItemMoveStart:G,onItemMoveEnd:U,sortable:q,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(H[0].start,"px)")},children:H.map(W=>{const z=o[W.index];return l.jsxs(tN,{ref:N.measureElement,sortable:q,"data-index":W.index,id:z.key,children:[z.kind==="item"&&l.jsx(lN,{member:z,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),z.kind==="error"&&l.jsx(GPe,{sortable:q,member:z,onRemove:()=>e.onItemRemove(z.key)})]},W.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:E,onItemPrepend:j,onValueCreate:J0,readOnly:d,schemaType:w,value:C})]})}function XPe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(ifn,{...e}):l.jsx(lfn,{...e})}const cfn=["string","number","boolean"];function ufn(e){return e.of.every(t=>cfn.includes(t.jsonType))}function dfn(e){return e.of.length===1&&yc("string",e.of[0])}function ffn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function hfn(e){return e.of.some(t=>yc("block",t))}function pfn(e){var t;return!!((t=e.options)!=null&&t.list)}function mfn(e){return dfn(e)&&ffn(e)?kdn:pfn(e)?FPe:ufn(e)?KPe:hfn(e)?vdn:XPe}function gfn(e){return v4(e)?e:{title:km("".concat(e)),value:e}}const Vle={title:"",value:void 0};function QPe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(gfn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=ie.useCallback(_=>{a(ft.from(typeof(_==null?void 0:_.value)>"u"?nt():xt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(Vle);return}b(S)},[b,g]),C=v?l.jsx(vfn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):l.jsx($f,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[Vle,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(ai,{path:c,isChanged:u,hasFocus:!!d,children:C})}const vfn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Gt:re;return l.jsx(ee,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(yfn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),yfn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(Y,{as:"label",align:"center",children:[l.jsx(YQe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function JPe(e){const{validationError:t,elementProps:n}=e;return l.jsx(Rr,{...n,customValidity:t,"data-testid":"string-input"})}function bfn(e){return WIe(e,"list")?QPe:JPe}const xfn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function DS(e,t){for(const n of xfn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function eOe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=DS(t,"min"),i=DS(t,"integer"),s=DS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Rr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function wfn(e){return WIe(e,"list")?QPe:eOe}var Hle=Object.freeze,Cfn=Object.defineProperty,tOe=(e,t)=>Hle(Cfn(e,"raw",{value:Hle(t||e.slice())})),Ule,Wle;const _fn=O(M)(Ule||(Ule=tOe([`
  align-self: center;
`]))),Sfn=O(M)(Wle||(Wle=tOe([`
  line-height: 0;
`])));function kfn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?kj:Fwe,p=i?"transparent":void 0;return l.jsx(ee,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(Y,{children:[l.jsx(Sfn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(pIe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(_fn,{paddingX:3,paddingY:1,children:l.jsx(Snn,{maxAvatars:1,position:"top"})})]})})}function Efn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Rr,{...n,type:"email",inputMode:"email",customValidity:t})}function jfn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(nt([a]))},[n]);return l.jsxs(Vc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Rm,{marginTop:4,open:Hc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(re,{as:"ul",space:3,children:t.map(a=>l.jsx(Tfn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Tfn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(ee,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(re,{space:2,children:[l.jsxs(ee,{border:!0,radius:1,children:[l.jsx(ee,{borderBottom:!0,padding:3,children:l.jsx(sr,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(sr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(se,{icon:ho,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var Yle=Object.freeze,Afn=Object.defineProperty,Dfn=(e,t)=>Yle(Afn(e,"raw",{value:Yle(t||e.slice())})),qle;const Ifn=O(ee)(qle||(qle=Dfn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Pfn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ie.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(Zb,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Ofn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Gle=Object.freeze,Rfn=Object.defineProperty,$fn=(e,t)=>Gle(Rfn(e,"raw",{value:Gle(t||e.slice())})),Kle;const Mfn=O(sQe)(Kle||(Kle=$fn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Ffn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(Aj,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(Pfn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},Lfn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx($f,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Ofn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},Bfn=ie.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(Mfn,{"data-testid":"field-group-root",children:[l.jsx(Ffn,{...o,disabled:n,onClick:i}),l.jsx(Lfn,{...o,disabled:n,onSelect:i})]})}),Zle=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(jfn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(Eon,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(re,{space:5,children:[r.length>0?l.jsx(Ifn,{$level:m,"data-testid":"field-groups",children:l.jsx(Bfn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?l.jsx(Jt,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function Nfn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(ee,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const zfn=["January","February","March","April","May","June","July","August","September","October","November","December"],Vfn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hfn=j7(0,24),Ufn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Wfn=[1,2,3,4,5,6],Yfn=e=>{const t=Lke(e);return Fke({start:t,end:Nke(t)})},qfn=e=>e.map(t=>[t,...Wfn.map(n=>Ui(t,n))]),Gfn=e=>qfn(Yfn(e)).map(t=>({number:Bke(t[0]),days:t}));function Kfn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Vfn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),Gfn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Ld(r,e.focused),s=e.selected&&Ld(r,e.selected),a=Ld(r,new Date),c=e.focused&&qke(r,e.focused);return l.jsx(Nfn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Xle={dayPresets:!1,timePresets:!1},nOe=ie.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ie.useState(),d=ie.useCallback(v=>{u(v.currentTarget.value)},[]),f=ie.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ie.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ie.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Rr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),Zfn=e=>{let{onChange:t,...n}=e;const r=ie.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(nOe,{...n,onChange:r,inputMode:"numeric"})},Xfn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Qfn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(Hjt(Kke(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(c9(s,S)),[s,d]),v=h.useCallback(S=>d(Ujt(s,S)),[s,d]),g=h.useCallback(S=>{c(tS(vP(S,i.getHours()),i.getMinutes()))},[c,i]),y=h.useCallback(S=>{const k=Number(S.currentTarget.value);c(tS(i,k))},[c,i]),x=h.useCallback(S=>{const k=Number(S.currentTarget.value);c(vP(i,k))},[c,i]);h.useCallback((S,k)=>{c(vP(tS(i,k),S))},[c,i]);const b=ur(n),w=h.useCallback(()=>{var S,k;(k=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||k.focus()},[b]),C=h.useCallback(S=>{var k,j;if(Ufn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Ui(s,-7)),S.key==="ArrowDown"&&o(Ui(s,7)),S.key==="ArrowLeft"&&o(Ui(s,-1)),S.key==="ArrowRight"&&o(Ui(s,1)),(j=(k=b.current)==null?void 0:k.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(Ui(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Ui(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:b,children:[l.jsxs(M,{padding:2,children:[Xle.dayPresets,l.jsxs(Y,{children:[l.jsx(M,{flex:1,children:l.jsx(Jfn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(ehn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(Kfn,{date:s,focused:s,onSelect:g,selected:i}),Xfn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(Y,{align:"center",children:[l.jsxs(Y,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx($f,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:Hfn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx($f,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:j7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(se,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Xle.timePresets]})]})});function Jfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(Y,{flex:1,children:[l.jsx(se,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:H5,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx($f,{radius:0,value:r,onChange:n,children:zfn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Oc,onClick:i,paddingX:2,radius:0})]})}function ehn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(Y,{children:[l.jsx(se,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:H5,paddingX:2,radius:0}),l.jsx(Zfn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(se,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Oc,paddingX:2,radius:0})]})}const thn=ie.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ie.useState(),c=ie.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(Qfn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),nhn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=ur(n),m=h.useRef(null),[v,g]=h.useState(!1);cr(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(se,{ref:m,icon:xg,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(nOe,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Bu,{zOffset:1e3,children:l.jsx(en,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(eh,{onDeactivation:y,children:l.jsx(thn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),rhn=new Date,rOe=ie.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=ie.useState(null);h.useEffect(()=>{y(null)},[m]);const x=ie.useCallback(S=>{const k=S.currentTarget.value,j=k===""?null:a(k);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(k)},[a,s,m,g,f]),b=ie.useCallback(S=>{s(S?f(S):null)},[f,s]),w=ur(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Rr,{value:_,readOnly:!0}):l.jsx(nhn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(rhn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function ohn(e){return e instanceof Date&&!isNaN(e.valueOf())}const ihn="YYYY-MM-DD",shn="HH:mm";function ahn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||ihn,timeFormat:e.timeFormat||shn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function kF(e){return e.toISOString()}function lhn(e){const t=new Date(e);return ohn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function chn(e,t){if(!t||t===1)return e;const n=Ejt(e),r=_5t(n),o=r%t;return kF(o!==0?tS(n,r-o):n)}function uhn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=ahn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=chn(p,a)),t(p===null?nt():xt(p))},[t,a]),u=ie.useCallback(f=>qT(f,"".concat(i," ").concat(s)),[i,s]),d=ie.useCallback(f=>g7(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(rOe,{...o,onChange:c,deserialize:lhn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:kF,timeStep:a,value:r})}const _N="YYYY-MM-DD",dhn=_N;function fhn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||dhn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const hhn=e=>g7(e,_N),phn=e=>qT(e,_N);function mhn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=fhn(r.options),a=h.useCallback(d=>{n(d===null?nt():xt(d))},[n]),c=h.useCallback(d=>qT(d,s),[s]),u=h.useCallback(d=>g7(d,s),[s]);return l.jsx(rOe,{...o,deserialize:hhn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:phn,value:i})}var Qle=Object.freeze,ghn=Object.defineProperty,vhn=(e,t)=>Qle(ghn(e,"raw",{value:Qle(t||e.slice())})),Jle;const yhn=O(Lwe)(Jle||(Jle=vhn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function bhn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(yhn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function xhn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=DS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Rr,{type:a,inputMode:"url",customValidity:o,...i})}const whn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?cTe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Chn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||whn)(e,t,n)}function _hn(e,t){const[n,r]=ie.useState(null),o=ie.useRef(0),i=ie.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function Shn(){const{getClient:e}=Fn(),t=En(),n=Ho(),r=w3e(),o=b3e();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function khn(e,t,n){const r=e.slice(0,-1),o=im(t,r);return{parentPath:r,parent:o,...n}}async function Ehn(e,t,n){return typeof e=="function"?e(t,n):im(t,e)}function jhn(e){var t;const n=Ren(),{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=Shn(),m=h.useCallback(b=>{if(!b){a(ft.from(nt([])));return}a(ft.from([Ki({_type:i.name}),xt(b,["current"])]))},[a,i.name]),[v,g]=_hn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n([])||{_type:i.name},w=khn(r,b,p);return Ehn(d,b,w).then(C=>Chn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=ie.useCallback(b=>m(b.currentTarget.value),[m]);return l.jsx(re,{space:3,children:l.jsxs(Y,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Rr,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(ee,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{mode:"ghost",type:"button",disabled:c||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating":"Generate"})})]})})}function Thn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(FPe,{...e}):Ccn(e)?l.jsx(KPe,{...e}):l.jsx(XPe,{...e})}const ece={document:Zle,object:Zle,array:Thn,boolean:kfn,number:eOe,text:bhn,email:Efn,datetime:uhn,date:mhn,url:xhn,image:Cln,file:han,string:JPe,slug:jhn,crossDatasetReference:qln};function Ahn(e){if(yc("array",e))return mfn(e);if(yc("reference",e))return xcn;if(yc("string",e))return bfn(e);if(yc("number",e))return wfn(e)}function Dhn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Ahn(e);if(n)return n;const o=uN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>ece[s.name]);if(i)return ece[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Ihn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:ch}function $m(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Phn(e){return $m({componentProps:e,componentResolver:Dhn})}function Ohn(e){return $m({componentProps:e,componentResolver:Kon})}function Rhn(e){return $m({componentProps:e,componentResolver:Mon})}function $hn(e){return $m({componentProps:e,componentResolver:Ihn})}function Mhn(e){return $m({componentProps:e,componentResolver:gsn})}function Fhn(e){return $m({componentProps:e,componentResolver:vsn})}function Lhn(e){return $m({componentProps:e,componentResolver:ysn})}function Bhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Nhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function zhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Vhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function Hhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function Uhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function Whn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function oOe(){return Hl({defaultComponent:Phn,pick:Bhn})}function iOe(){return Hl({defaultComponent:Ohn,pick:Nhn})}function SN(){return Hl({defaultComponent:$hn,pick:zhn})}function sOe(){return Hl({defaultComponent:Rhn,pick:Vhn})}function aOe(){return Hl({defaultComponent:Mhn,pick:Hhn})}function lOe(){return Hl({defaultComponent:Fhn,pick:Uhn})}function cOe(){return Hl({defaultComponent:Lhn,pick:Whn})}function uC(e){const t=SN();return l.jsx(_B,{...e,component:t})}const Yhn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(ee,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(qhn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},qhn=e=>{let{document:t}=e;const n=En(),r=h.useCallback(o=>l.jsx(_m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(ee,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(Y,{align:"center",gap:2,children:l.jsx(uC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},tce={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},nce={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},rce={height:"100%"},Ghn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(ee,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(Jt,{columns:3,gap:[2,3,4],children:[l.jsxs(Y,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx($r,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:nce,children:l.jsx(Y,{align:"center",justify:"center",style:rce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:tce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(ee,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(Jt,{columns:3,gap:3,children:[l.jsx(Y,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:nce,children:l.jsx(Y,{align:"center",justify:"center",style:rce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:tce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},MO="confirmDelete",FO="listUsage";function EF(e){let{asset:t,assetType:n="image",mode:r=FO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=RKt(t._id),d=r===FO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===MO,b=g.length>0,w=r===FO||b,C=r===MO&&!b,_=x?l.jsxs(Jt,{padding:2,gap:2,columns:2,children:[l.jsx(se,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(se,{text:"Delete",tone:"critical",icon:ho,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,E)=>E._id.startsWith("drafts.")?j.concat(E._id.slice(7)):j,[]),k=c.filter(j=>!S.includes(j._id));y(k),p(k.length===0&&!a),v(a)},[a,c]),l.jsxs(Pi,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(OKt,{text:"Loading..."})}),!m&&l.jsxs(re,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===MO&&l.jsx(Ghn,{asset:t,assetType:n,hasResults:b}),w&&l.jsx(Yhn,{asset:t,referringDocuments:g,assetType:n})]})]})}function uOe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(tn,{button:l.jsx(se,{padding:2,mode:n?"ghost":o,icon:jo,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Show uses",icon:jf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ve,{text:"Delete",icon:ho,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var oce=Object.freeze,Khn=Object.defineProperty,LA=(e,t)=>oce(Khn(e,"raw",{value:oce(t||e.slice())})),ice,sce,ace,lce;const Zhn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Xhn=O.img(ice||(ice=LA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Qhn=O(ee)(sce||(sce=LA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),jF=O.div(ace||(ace=LA([`
  position: relative;
  display: inherit;
`]))),Jhn=O.div(lce||(lce=LA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),jF,jF),epn=ie.memo(function(t){const n=hr(ln),r=Vo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:k,_id:j,url:E}=i,T=200*Math.max(1,Zhn),A=E.includes(".gif")?"".concat(E,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(E,"?h=").concat(T,"&fit=max");return l.jsxs(jF,{children:[l.jsx(se,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(Qhn,{__unstable_checkered:!0,children:[l.jsx(Xhn,{alt:k,src:A,onClick:s,"data-id":j}),v&&l.jsx(PKt,{})]})}),l.jsx(Jhn,{children:l.jsx(uOe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(EF,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),tpn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],npn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],rpn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],opn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],cce=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function ipn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?opn:rpn:n?npn:tpn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=cce(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=cce(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const LO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function spn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function apn(e){return LO!=null&&LO[e]?LO[e].title:spn(e)}var uce=Object.freeze,lpn=Object.defineProperty,Eu=(e,t)=>uce(lpn(e,"raw",{value:uce(t||e.slice())})),dce,fce,hce,pce,mce,gce,vce,yce,bce;const TF=O.span(dce||(dce=Eu([`
  background-color: transparent;
  flex-shrink: 0;
`]))),gg=O(Y)(fce||(fce=Eu([""]))),cpn=O(L)(hce||(hce=Eu([""]))),upn=O(ee)(mce||(mce=Eu([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),cpn,e=>e.isSelected&&he(pce||(pce=Eu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),xce=O(se)(yce||(yce=Eu([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&he(gce||(gce=Eu([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),TF,gg),e=>!e.isSelected&&he(vce||(vce=Eu([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),dpn=O(L)(bce||(bce=Eu([`
  overflow-wrap: anywhere;
`]))),wce={position:"relative"},Cce={flexShrink:0},BO={minWidth:0},_ce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},fpn="Cannot delete current file",hpn=e=>{const t=hr(ln),n=Vo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,k=Xo(S,{agoSuffix:!0}),j=apn(C),E=ipn(_),T=(b||"").length>37,A=()=>{a(!0)},D=H=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:H.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:H=>{u(!1),D(H),console.error("Could not delete asset",H)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},V=()=>{f(!d)},N=H=>{H.type==="delete"&&A(),H.type==="showUsage"&&R()};return x?l.jsxs(ee,{paddingBottom:2,style:wce,children:[l.jsxs(Jt,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(xce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(Y,{gap:2,flex:2,align:"center",children:[l.jsx(ee,{as:TF,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:Cce,children:l.jsx(Ef,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:BO,children:b})]})}),l.jsx(Y,{justify:"flex-end",align:"center",paddingRight:1,style:_ce,children:l.jsx(se,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?g0e:qa})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(Jt,{marginTop:3,columns:3,gap:1,children:[l.jsxs(re,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:E})]}),l.jsxs(re,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(re,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:k})]})]}),l.jsxs(re,{space:2,marginTop:3,children:[l.jsx(se,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:jf}),l.jsx(se,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:ho,disabled:y,title:y?fpn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(EF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]}):l.jsxs(upn,{asset:p,paddingBottom:1,style:wce,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[l.jsxs(Jt,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(xce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:l.jsxs(gg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[l.jsx(ee,{as:TF,padding:2,tone:"transparent",radius:2,style:Cce,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(Ef,{})})}),T&&l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:BO,children:b})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:BO,children:b})]})}),l.jsx(gg,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:E})}),l.jsx(gg,{align:"center",children:l.jsx(M,{children:l.jsx(dpn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(gg,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:k})}),l.jsx(gg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:_ce,children:l.jsx(uOe,{border:!1,isSelected:!1,onAction:N})})]}),(o||s)&&l.jsx(EF,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]})},ppn={paddingLeft:"2.2rem"},Sce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function mpn(e){const n=pm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(ee,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(Jt,{style:Sce,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(Jt,{gap:1,style:Sce,children:[l.jsx(M,{flex:2,style:ppn,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(re,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(Y,{justify:"center",children:l.jsx(dr,{muted:!0})})}),r.map(u=>l.jsx(hpn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var kce=Object.freeze,gpn=Object.defineProperty,dOe=(e,t)=>kce(gpn(e,"raw",{value:kce(t||e.slice())})),Ece,jce;const IS=200,fOe="sanity.imageAsset",vpn="sanity.fileAsset",ypn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},bpn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IS,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fOe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?ypn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},xpn=O(Jt)(Ece||(Ece=dOe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),wpn=O(ee)(jce||(jce=dOe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Cpn=function(t,n){const r=hr(ln),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat($ke())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(N=>N.trim()).join(", "):"",k=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",E=h.useCallback(N=>{const H=N*IS,G=H+IS,U=x==="image",q=U?"asset.image-list":"asset.file-list",Z=U?fOe:vpn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(bpn(H,G,Z,_),{},{tag:q}).subscribe(B=>{f(B.length<IS),u(W=>W.concat(B)),g(!1)}))},[x,_,o]),T=h.useCallback(N=>{u(H=>H.filter(G=>G._id!==N))},[u]),A=h.useCallback(N=>{c.find(G=>G._id===N)&&C([{kind:"assetDocumentId",value:N}])},[c,C]),D=h.useCallback(N=>{N.preventDefault(),A(N.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(N=>{N.key==="Enter"&&(N.preventDefault(),A(N.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(N=>{N.preventDefault(),E(++s.current)},[E]);h.useEffect(()=>(E(s.current),()=>{a.current&&a.current.unsubscribe()}),[E]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(xpn,{gap:2,children:c.map(N=>l.jsx(epn,{asset:N,isSelected:y.some(H=>H._id===N._id),onClick:D,onKeyPress:I,onDeleteFinished:T},N._id))}),v&&c.length===0&&l.jsx(Y,{justify:"center",children:l.jsx(dr,{muted:!0})}),!v&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,y]),V=h.useMemo(()=>l.jsx(mpn,{isLoading:v,assets:c,selectedAssets:y,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,y,D,I,T]);return l.jsxs(Pi,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[k&&!j&&l.jsx(ee,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(Y,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(lm,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&V,c.length>0&&!d&&l.jsx(wpn,{tone:"default",padding:4,children:l.jsx(Y,{direction:"column",children:l.jsx(se,{type:"button",icon:$4,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},hOe=ie.memo(ie.forwardRef(Cpn)),pOe={name:"sanity-default",title:"Uploaded files",component:hOe,icon:O4},mOe={name:"sanity-default",title:"Uploaded images",component:hOe,icon:El};function _pn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function dh(e,t){return e[t]}function Spn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const kpn=[{fieldPath:"_updatedAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:jf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:Fy,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Fy,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:Fy,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:V5,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:xg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:xg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:ig,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Ef,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:El,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:O0e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:h0e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:jf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:ig,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ig,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Ll,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:ig,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:ig,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Epn(e){let{documentId:t,schemaType:n}=e;const r=Mi(),{draft:o,published:i,isLoading:s}=mo(()=>pA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=kB({draft:o,published:i,value:a});return s?l.jsx(_0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const u5="yyyy-MM-dd";function jpn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function Tce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Vu(n)?null:l.jsx(l.Fragment,{children:Jo(n,u5)})}function Ace(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Vu(n)?null:l.jsx(l.Fragment,{children:Jo(n,u5)})}function Tpn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Dce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Vu(r)||!Vu(n)?null:l.jsxs(l.Fragment,{children:[Jo(n,u5),"  ",Jo(r,u5)]})}function tg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function ng(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",zr("item",t)]})}function Apn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min,"  ",t.max]})}function Dpn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min,"  ",t.max," items"]})}function pl(e){let{value:t}=e;const n=En(),r=t._ref,o=n.get(t._type);return o?l.jsx(Epn,{documentId:r,schemaType:o}):null}function wi(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const gOe=h.createContext(void 0);function Rt(){const e=h.useContext(gOe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Ea(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Rt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Rr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function vOe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Rt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(Y,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Rr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Rr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function BA(e,t){const n=t.split("."),r=n[0];if(r&&Ua(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?BA(o.type,i):o}}}var Ice=Object.freeze,Ipn=Object.defineProperty,yOe=(e,t)=>Ice(Ipn(e,"raw",{value:Ice(t||e.slice())})),Pce,Oce;const Ppn=O(M)(Pce||(Pce=yOe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),Opn=O(Vt)(Oce||(Oce=yOe([`
  max-width: 150px;
`])));function Rpn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Mi(),{draft:i,published:s,isLoading:a}=mo(()=>pA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Gt,{space:3,children:[n&&n.length>0&&l.jsx(KB,{presence:n}),l.jsx(Opn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(Ppn,{children:l.jsx(ch,{...kB({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function kN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=En().get(o),u=mC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Ew({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Cp,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(Rpn,{documentId:r,presence:u,schemaType:c})})}):null}const $pn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Mpn="_debug_search_score",bOe=!1,Rce=1e3,xOe="k",Fpn=$pn?"Cmd":"Ctrl",Fx=Rf.space[1],Lpn=735,wOe=800,dC=5,e1=2;function NA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function Bpn(e,t){return zA(e).filter(n=>Npn(n,t)).sort(AF)}function zA(e){return VZt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function AF(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function Npn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const zpn=300,NO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function Vpn(e){return e!==null}function Hpn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function COe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=hr(ln),d=h.useMemo(()=>TB(zA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=Rj(m=>m.pipe(mt(Vpn),ue(Hpn),Qn(Ht),KL(v=>Bo((v==null?void 0:v.debounceTime)||zpn)),xn(i),it(v=>Vr(be({...NO,loading:!0,options:v.options,terms:v.terms}),mnt(()=>NA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ue(g=>({hits:g})),xn(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),On(g=>(o==null||o(g),be({...NO,error:g,loading:!1,options:v.options,terms:v.terms})))),be(Xn).pipe(xn(()=>r==null?void 0:r([])))),be({loading:!1}))),ea((v,g)=>({...v,...g}),NO),xn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const Upn=40;function EN(e){let{availableCharacters:t=Upn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=$ce(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map($ce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function $ce(e){var t;return(t=e.title)!=null?t:e.name}var Mce=Object.freeze,Wpn=Object.defineProperty,Ypn=(e,t)=>Mce(Wpn(e,"raw",{value:Mce(t||e.slice())})),Fce;const qpn=()=>!0,Gpn=O(L)(Fce||(Fce=Ypn([`
  word-break: break-word;
`]))),Kpn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=En(),{state:{fullscreen:c}}=Rt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=COe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(k=>k.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:Rn(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=EN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(kN,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:k,onMouseEnter:j,onMouseLeave:E}=C,T=d&&d.length>0;return l.jsx(en,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(Y,{align:"center",height:"fill",justify:"center",children:l.jsxs(Gpn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["",m.terms.query,""]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:E,open:!m.loading&&!k,overflow:"auto",placement:"bottom-start",radius:e1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(OL,{"aria-label":x,filterOption:qpn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function bb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Rt(),a=En(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=BA(m,t.fieldPath);if(Ml(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Tu).flatMap(g=>g.to);if(Tu(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(re,{space:3,children:[l.jsx(ee,{padding:1,radius:1,shadow:1,children:l.jsx(kN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(se,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(Kpn,{onSelect:c,types:u,value:r})})}function Zpn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ve,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(Y,{align:"center",justify:"space-between",gap:3,children:l.jsxs(re,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(sr,{muted:!0,size:0,children:o})]})})})}function d5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Rt(),s=En(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=BA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(po).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>Xpn(p))).filter(po).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:fo([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(tn,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(Y,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Ll,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>l.jsx(Zpn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Xpn(e){return v4(e)?e:{title:km("".concat(e)),value:e}}const _Oe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),SOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),kOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),EOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Je(e){return JSON.stringify(e)}const Qpn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Ea,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Je(n)):null},icon:SOe,initialValue:null,inputComponent:Ea,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Je(n)):null},icon:_Oe,initialValue:null,inputComponent:Ea,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Je(n)):null},icon:EOe,initialValue:null,inputComponent:Ea,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Je(n)):null},icon:kOe,initialValue:null,inputComponent:Ea,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Ea,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:Dpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Je(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:vOe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Je(n)," in ").concat(t):null},initialValue:null,inputComponent:d5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Je(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:d5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Je(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:bb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Je(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:bb,label:"does not include",type:"arrayReferenceNotIncludes"}},jOe=h.createContext(null);function Jpn(e){let{children:t,workspace:n}=e;return l.jsx(jOe.Provider,{value:n,children:t})}function Ul(){const e=h.useContext(jOe);if(!e)throw new Error("Workspace: missing context value");return e}const PS=h.createContext(null);function jN(e){let{children:t,...n}=e;const r=h.useContext(PS),{unstable_sources:o}=Ul();if("source"in n){const{source:i}=n;return l.jsx(PS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(PS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Fn(){const e=h.useContext(PS);if(!e)throw new Error("Could not find `source` context");return e}function emn(e){return l.jsx(M,{...e,children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(ar,{tone:"caution",children:l.jsx($r,{})}),l.jsxs(re,{space:4,children:[l.jsx(ar,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(ar,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(ar,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function tmn(e){let{reference:t}=e;const n=Mi(),r=h.useCallback(o=>TIe(n,o),[n]);return l.jsx(r0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(rmn,{}),children:o=>l.jsx(nmn,{asset:o})})}function nmn(e){let{asset:t}=e;return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(Y,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(d0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:_Pe(t.size)})]})]})})}function rmn(){return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(Y,{align:"center",justify:"flex-start",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(d0,{})})}),l.jsxs(re,{flex:1,space:2,marginLeft:3,children:[l.jsx(Ak,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(Ak,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Lce=Object.freeze,omn=Object.defineProperty,TN=(e,t)=>Lce(omn(e,"raw",{value:Lce(t||e.slice())})),Bce,Nce,zce;const imn=O(ee)(Bce||(Bce=TN([`
  position: relative;
  padding-bottom: 100%;
`]))),smn=O.img(Nce||(Nce=TN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),amn=O(Y)(zce||(zce=TN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function lmn(e){let{reference:t}=e;const n=Mi(),r=h.useCallback(o=>jIe(n,o),[n]);return l.jsx(r0,{observeAsset:r,reference:t,children:o=>l.jsx(cmn,{asset:o})})}function cmn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(imn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(amn,{align:"center",justify:"center",children:l.jsx(dr,{})}),l.jsx(smn,{onLoad:i,src:o})]})}function umn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(tmn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(lmn,{reference:t}):null:null}var Vce=Object.freeze,dmn=Object.defineProperty,fmn=(e,t)=>Vce(dmn(e,"raw",{value:Vce(t||e.slice())})),Hce;const hmn={file:"sanity.fileAsset",image:"sanity.imageAsset"},pmn=O(M)(Hce||(Hce=fmn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Wg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Rt(),{file:d,image:f}=Fn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(k=>k.name===pOe.name);case"image":return f.assetSources.filter(k=>k.name===mOe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=hr(ln),g=h.useCallback(()=>{c(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(k=>{const j=k[0];c(j),y()},[y]),b=h.useCallback(k=>s(k),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:hmn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Wn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(pmn,{children:l.jsxs(re,{space:3,children:[i&&w&&l.jsx(vm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(umn,{reference:o}),l.jsxs(Y,{gap:2,children:[p.length===0&&l.jsx(emn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(tn,{button:l.jsx(se,{fontSize:C,icon:o?HS:ei,iconRight:qa,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Bt,{children:p.map(k=>l.jsx(Ve,{fontSize:C,icon:k.icon||El,onClick:()=>b(k),text:k.title},k.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(se,{fontSize:C,icon:o?HS:ei,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(se,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const mmn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("image"),label:"is not",type:"assetImageNotEqual"}};function gmn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs($f,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const vmn={booleanEqual:{buttonLabel:"is",buttonValueComponent:jpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:!0,inputComponent:gmn,label:"is",type:"booleanEqual"}},ymn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Uce=Object.freeze,bmn=Object.defineProperty,xmn=(e,t)=>Uce(bmn(e,"raw",{value:Uce(t||e.slice())})),Wce;const Yce="Include time",wmn=O(L)(Wce||(Wce=xmn([`
  cursor: default;
`])));function AN(e){let{onChange:t,value:n}=e;return l.jsxs(Y,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(re,{children:l.jsx(wmn,{muted:!0,onClick:t,size:1,weight:"medium",children:Yce})}),l.jsx(Fwe,{checked:n,label:Yce,onChange:t})]})}const TOe=h.createContext(void 0);function DN(){const e=h.useContext(TOe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Cmn=["January","February","March","April","May","June","July","August","September","October","November","December"],_mn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];j7(0,24);const Smn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kmn=[1,2,3,4,5,6];function Emn(e){const{focusedDate:t}=DN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(Y,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Gt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:Cmn[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(se,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(se,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:H5}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Oc,onClick:s})]})]})}var qce=Object.freeze,jmn=Object.defineProperty,AOe=(e,t)=>qce(jmn(e,"raw",{value:qce(t||e.slice())})),Gce,Kce;const Tmn=O.svg(e=>{let{theme:t}=e;return he(Gce||(Gce=AOe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),Amn=O(ee)(Kce||(Kce=AOe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Dmn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=DN(),u=o&&Ld(t,o),d=c&&o&&Ld(t,o),f=c&&i&&Ld(t,i),p=qke(t,s),m=s&&Ld(t,s),v=Ld(t,new Date),g=o&&i&&!d&&!f&&N$(t,o)&&zke(t,i);return l.jsxs(Amn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(Tmn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const Imn=e=>{const t=Lke(e);return Fke({start:t,end:Nke(t)})},Pmn=e=>e.map(t=>[t,...kmn.map(n=>Ui(t,n))]),Omn=e=>Pmn(Imn(e)).map(t=>({number:Bke(t[0]),days:t}));var Zce=Object.freeze,Rmn=Object.defineProperty,$mn=(e,t)=>Zce(Rmn(e,"raw",{value:Zce(t||e.slice())})),Xce;const Mmn=O(Jt)(Xce||(Xce=$mn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function Fmn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=DN();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(Mmn,{children:[_mn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),Omn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(Dmn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const Lmn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function Bmn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=Vjt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&zke(_,t),k=n&&N$(_,n);if(i){if(S||k){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(Smn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Ui(f,-7)),C.key==="ArrowDown"&&p(Ui(f,7)),C.key==="ArrowLeft"&&p(Ui(f,-1)),C.key==="ArrowRight"&&p(Ui(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(c9(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),k=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!k,E=!S&&k,T=t&&n&&N$(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),E&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&k&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(TOe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(Y,{children:l.jsx(M,{flex:1,children:l.jsx(Emn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(Fmn,{onSelect:y}),Lmn]})]})})}function IN(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Rt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(Bmn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var Qce=Object.freeze,Nmn=Object.defineProperty,zmn=(e,t)=>Qce(Nmn(e,"raw",{value:Qce(t||e.slice())})),Jce;const Vmn=O(M)(e=>{let{background:t,smallClearButton:n}=e;return he(Jce||(Jce=zmn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),PN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(Vmn,{background:r,smallClearButton:o,children:l.jsx(Rr,{...i,ref:n})})});function bu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=dE(t);break;case"start":o=Lf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var eue=Object.freeze,Hmn=Object.defineProperty,DOe=(e,t)=>eue(Hmn(e,"raw",{value:eue(t||e.slice())})),tue,nue;const o2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},Umn=O.span(e=>{let{theme:t}=e;return he(tue||(tue=DOe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),Wmn=O(L)(nue||(nue=DOe([`
  color: `,`;
`])),pe.red[500].hex);function f5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?o2.datetime.pattern:o2.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return Jo(b,a)}),p=h.useMemo(()=>Jo(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=_jt(w,a,new Date),S=Vu(_);S&&(C&&n(bu({date:_,dateOnly:!t})),f(Jo(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:Jo(b,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(at,{content:l.jsxs(Y,{gap:2,children:[l.jsx(Wmn,{size:1,children:l.jsx(ia,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(Umn,{children:o?o2.datetime.exampleDate:o2.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(PN,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function IOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=bu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=bu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(re,{space:3,children:[l.jsx(f5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(IN,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(AN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function rue(e){return l.jsx(IOe,{...e,isDateTime:!1})}function VA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Rt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=bu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=bu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(re,{space:3,children:[l.jsx(f5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(IN,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(AN,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function Ymn(e){return l.jsx(VA,{...e,direction:"after",isDateTime:!1})}function qmn(e){return l.jsx(VA,{...e,direction:"before",isDateTime:!1})}function oue(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Rt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(Y,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Rr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs($f,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const Gmn=-7;function POe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useMemo(()=>Ui(new Date,Gmn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(iue({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(iue({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(re,{space:3,children:[l.jsxs(Y,{direction:"column",gap:3,children:[l.jsx(f5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(f5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(IN,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(AN,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function iue(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?bu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?bu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?bu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?bu({date:t,dateOnly:!o,roundDay:"start"}):null}}function Kmn(e){return l.jsx(POe,{...e,isDateTime:!1})}function sue(e){return l.jsx(IOe,{...e,isDateTime:!0})}function Zmn(e){return l.jsx(VA,{...e,direction:"after",isDateTime:!0})}function Xmn(e){return l.jsx(VA,{...e,direction:"before",isDateTime:!0})}function Qmn(e){return l.jsx(POe,{...e,isDateTime:!0})}const ga={dateAfter:{buttonLabel:"after",buttonValueComponent:Ace,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:Ace,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:Tce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:Tpn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:Tce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},Jmn={dateAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.date)):null},inputComponent:Ymn,type:"dateAfter"},dateBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Je(n==null?void 0:n.date)):null},inputComponent:qmn,type:"dateBefore"},dateEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Je(n.date)):null},inputComponent:rue,type:"dateEqual"},dateLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?xZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Je(o)):null},inputComponent:oue,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Je(n.date)):null},inputComponent:rue,type:"dateNotEqual"},dateRange:{...ga.dateRange,buttonValueComponent:Dce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Je(n.dateMin)," && ").concat(t," <= ").concat(Je(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:bZ().toISOString(),dateMin:null},inputComponent:Kmn,type:"dateRange"},dateTimeAfter:{...ga.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(n.date),")"):null},inputComponent:Zmn,type:"dateTimeAfter"},dateTimeBefore:{...ga.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Je(n.date),")"):null},inputComponent:Xmn,type:"dateTimeBefore"},dateTimeEqual:{...ga.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Vu(r)||!t)return null;const o=(n!=null&&n.includeTime?pZ(r):Lf(r)).toISOString(),i=(n!=null&&n.includeTime?mZ(r):dE(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Je(o),") && dateTime(").concat(t,") < dateTime(").concat(Je(i),")")},inputComponent:sue,type:"dateTimeEqual"},dateTimeLast:{...ga.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?xZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:oue,type:"dateTimeLast"},dateTimeNotEqual:{...ga.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Vu(r)||!t)return null;const o=(n!=null&&n.includeTime?pZ(r):Lf(r)).toISOString(),i=(n!=null&&n.includeTime?mZ(r):dE(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Je(o),") || dateTime(").concat(t,") > dateTime(").concat(Je(i),")")},inputComponent:sue,type:"dateTimeNotEqual"},dateTimeRange:{...ga.dateRange,buttonValueComponent:Dce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Je(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Je(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:bZ().toISOString(),dateMin:null},inputComponent:Qmn,type:"dateTimeRange"}},egn={numberEqual:{buttonLabel:"is",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Ea,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Je(n)):null},icon:SOe,initialValue:null,inputComponent:Ea,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Je(n)):null},icon:_Oe,initialValue:null,inputComponent:Ea,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Je(n)):null},icon:EOe,initialValue:null,inputComponent:Ea,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Je(n)):null},icon:kOe,initialValue:null,inputComponent:Ea,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Ea,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:Apn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.min)," && ").concat(t," < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:vOe,label:"is between",type:"numberRange"}};function Ia(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Rr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const tgn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"portableTextNotMatches"}},ngn={referenceEqual:{buttonLabel:"is",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:bb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:pl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:bb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:Wg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:Wg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"",buttonValueComponent:pl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:bb,label:"document",type:"referencesDocument"}},rgn={slugEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"slugNotMatches"}},ogn={stringEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:d5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:d5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Ia,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:wi,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ia,label:"does not contain",type:"stringNotMatches"}},ign={...Qpn,...mmn,...vmn,...Jmn,...ymn,...egn,...tgn,...ngn,...rgn,...ogn},sgn=Object.values(ign);function Wl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const HA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>HA(a,[...t,r.name])),o]},agn=[],lgn=[],cgn=[],ugn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Wl(o)))},dgn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},fgn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Wl(r)))},hgn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Wl(o)))},pgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Wl(o)))},mgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Wl(o)))},ggn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Wl(o)));return o(e,n)},vgn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Wl(i)))},ygn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Wl(i)))},bgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Wl(o)))},xgn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Wl(o)))},wgn=e=>{const{config:t,context:n,initialValue:r}=e;return HA(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Wl(f)))},r)};class aue extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=wt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function ya(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=HA(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new aue({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new aue({propertyName:o,path:d,cause:f})}return c})()}class Pa extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>wt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class ON extends Error{constructor(t){super("SchemaError"),this.schema=t}}var lue=Object.freeze,Cgn=Object.defineProperty,_gn=(e,t)=>lue(Cgn(e,"raw",{value:lue(t||e.slice())})),cue;function uue(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Sgn=O.text(cue||(cue=_gn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function kgn(e,t){const n=uue("".concat(e," ").concat(t)),r=u0e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=uue(n.toString()),a=i[Math.floor(s*i.length)],c=pe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=ATe(c,.4),f=$Vt(c,.4),p=CJ(c,"readable",d)?CJ(c,"readable",f)?FVt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(Sgn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Egn=e=>e.severity==="error";function jgn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Nl.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:kgn(t,n)}const zO=new WeakMap;function Tgn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Pa({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=Pgn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{Ggn({workspaces:r})}catch(i){throw new Pa({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(zO.has(i))return zO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=ya({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:ugn})}catch(_){throw new Pa({name:p.name,type:"source",causes:[_]})}const y=TKt({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some(Egn));if(x&&(b!=null&&b.length))throw new ON(y);const w=Agn(p),C=w.state.pipe(ue(_=>{let{client:S,authenticated:k,currentUser:j}=_;return Ign({config:p,client:S,currentUser:j,schema:y,authenticated:k,auth:w})}),Eo(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||fn(p.name),auth:w,schema:y,source:C}}),d=a.title||fn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:Ogn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:jgn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Rf,title:d,subtitle:a.subtitle,__internal:{sources:u}};return zO.set(i,f),f})}}function Agn(e){if(fGt(e.auth))return e.auth;const t=e.unstable_clientFactory||pSe,{projectId:n,dataset:r,apiHost:o}=e;return dGt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function Dgn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return Z1t(a,c)}function Ign(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=Dgn(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=ya({config:t,context:x,propertyName:"schema.templates",reducer:hgn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(po).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Pa({name:t.name,type:"source",causes:[T]})}let C;try{C=ya({config:t,context:x,initialValue:[],propertyName:"tools",reducer:fgn})}catch(T){throw new Pa({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),k=T=>{const{schemaType:A}=T,D=ya({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:ggn}),I=[];if(I.length)throw new Pa({name:t.name,type:"source",causes:I});return D.map((P,$)=>{const R=S.get(P.templateId);if(!R)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const V=o.get(R.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const N=P.title||R.title,H=(V==null?void 0:V.title)===N||V==null?void 0:V.title;return{id:"".concat(P.templateId,"-").concat($),templateId:P.templateId,type:"initialValueTemplateItem",title:N,subtitle:P.subtitle||H,description:P.description||R.description,icon:P.icon||R.icon||(V==null?void 0:V.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:R.schemaType}}).filter(P=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(P.templateId))==null?void 0:$.schemaType)})};let j;try{j=k({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Pa({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||fn(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>ya({config:t,context:{...x,...T},initialValue:lgn,propertyName:"document.actions",reducer:mgn}),badges:T=>ya({config:t,context:{...x,...T},initialValue:agn,propertyName:"document.badges",reducer:pgn}),unstable_fieldActions:T=>ya({config:t,context:{...x,...T},initialValue:DGt,propertyName:"document.unstable_fieldActions",reducer:AGt}),inspectors:T=>ya({config:t,context:{...x,...T},initialValue:dn,propertyName:"document.inspectors",reducer:xgn}),resolveProductionUrl:T=>ya({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:dgn}),resolveNewDocumentOptions:k,unstable_languageFilter:T=>ya({config:t,context:{...x,...T},initialValue:cgn,propertyName:"document.unstable_languageFilter",reducer:bgn}),unstable_comments:{enabled:T=>wgn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:ya({config:t,context:x,initialValue:[pOe],propertyName:"formBuilder.file.assetSources",reducer:vgn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:ya({config:t,context:x,initialValue:[mOe],propertyName:"formBuilder.image.assetSources",reducer:ygn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:kpn,operators:sgn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function Pgn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Pa({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function Ogn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Rgn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function $gn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}const due=wWt.__sanityErrorChannel;function Mgn(){const{push:e}=Vo();return h.useEffect(()=>{if(due)return due.subscribe(t=>{t.error&&(Fgn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Fgn(e){return e instanceof ON||e instanceof gB||e instanceof Pa}function xb(){return l.jsxs(Y,{as:ee,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading"}),l.jsx(dr,{muted:!0})]})}var fue=Object.freeze,Lgn=Object.defineProperty,OOe=(e,t)=>fue(Lgn(e,"raw",{value:fue(t||e.slice())})),hue,pue;const Bgn={error:"critical",warning:"caution"},mue=O.code(hue||(hue=OOe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Ngn=O(L)(pue||(pue=OOe([`
  white-space: pre-line;
`])));function ROe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(re,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=zgn(i);return l.jsxs(ee,{border:!0,padding:4,radius:2,tone:Bgn[s.severity],children:[l.jsxs(Y,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(ia,{}),c&&l.jsx($r,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[km(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(RL,{separator:l.jsx(L,{muted:!0,size:1,children:""}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Vgn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(mue,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(mue,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(re,{space:3,children:[l.jsx(Ngn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:n9(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},o)})})}function zgn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Vgn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function Hgn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Ugn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed(" Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=Hgn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function Wgn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>Ugn(t),[t]),l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(Xr,{width:1,children:l.jsxs(re,{space:5,children:[l.jsx(zo,{as:"h1",children:"Schema errors"}),l.jsx(ROe,{problemGroups:r})]})})})}function Ygn(e){return l.jsx(ee,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(Y,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(re,{space:4,children:[l.jsx(zo,{as:"h1",children:"Workspace not found"}),l.jsx(Gt,{children:l.jsx(se,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const $Oe=h.createContext(null),MOe=h.createContext(null);function qgn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Tgn(t,{basePath:r}),[t,r]);return l.jsx(MOe.Provider,{value:o,children:n})}function Iy(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:DF(r,t)}function DF(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function fC(){const e=h.useContext(MOe);if(!e)throw new Error("Could not find `workspaces` context");return e}class bc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Iy(n.workspace,n.index)}}function Ggn(e){let{workspaces:t}=e;if(t.length===0)throw new bc("At least one workspace is required.");Kgn(t),Zgn(t)}function Kgn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=DF(s,o);if(!i&&!t)throw new bc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new bc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=DF(d.workspace.title,d.index);throw new bc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new bc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function Zgn(e){e.length>1&&e.every(Xgn),e.every(Qgn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new bc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Iy(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Iy(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new bc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Iy(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Iy(i,s))})}function Xgn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new bc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new bc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function Qgn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new bc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function Jgn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function evn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(a9(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function tvn(e){return h.useMemo(()=>nvn(e),[e])}function nvn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(a9(n),"(\\/|$)"),"i")}})}function rvn(e,t){const n=tvn(t),r=h.useMemo(()=>evn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Jgn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return s9.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const FOe=h.createContext(null);function ovn(e){let{children:t,history:n}=e;return l.jsx(FOe.Provider,{value:n,children:t})}function ivn(){const e=h.useContext(FOe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const svn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx($Oe.Provider,{value:s,children:l.jsx(ovn,{history:r,children:n})})}),avn=()=>typeof document>"u"?kEt():SEt();function lvn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=fC(),s=h.useMemo(()=>o||avn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=rvn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(svn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function t1(){const e=h.useContext($Oe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var gue=Object.freeze,cvn=Object.defineProperty,uvn=(e,t)=>gue(cvn(e,"raw",{value:gue(t||e.slice())})),vue;const yue={"logged-in":"","logged-out":"Signed out","no-access":""},dvn=O(ee)(vue||(vue=uvn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),bue=e=>{if(Nl.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function IF(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>bue(i),[i]),c=h.useMemo(()=>bue(s),[s]);return l.jsxs(Y,{align:"center",flex:"none",gap:3,children:[l.jsx(dvn,{radius:2,tone:"transparent",children:a}),l.jsxs(re,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&yue[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:yue[t]})}),(r||c)&&l.jsxs(Y,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(Xs,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const LOe=sh(e=>Lo(e.map(t=>t.auth.state.pipe(ue(n=>[t.name,n])))).pipe(ue(t=>Object.fromEntries(t)))),fvn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var xue=Object.freeze,hvn=Object.defineProperty,pvn=(e,t)=>xue(hvn(e,"raw",{value:xue(t||e.slice())})),wue;const Cue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],mvn=O(L)(wue||(wue=pvn([`
  a {
    color: inherit;
  }
`])));function _ue(e){const{children:t,footer:n,header:r}=e;return l.jsxs(re,{space:6,children:[l.jsx(ee,{border:!0,radius:3,overflow:"auto",children:l.jsxs(re,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(zo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(ee,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(Y,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(GUt,{})}),l.jsx(Y,{align:"center",gap:2,children:Cue.map((o,i)=>l.jsxs(ie.Fragment,{children:[l.jsx(mvn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<Cue.length-1&&l.jsx(L,{size:1,muted:!0,children:""})]},o.title))})]})]})}function gvn(){var e;const t=fC(),{activeWorkspace:n,setActiveWorkspace:r}=t1(),[o]=LOe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(re,{space:2,children:[t.length>1&&l.jsx(Y,{children:l.jsx(se,{fontSize:1,icon:tw,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(_ue,{header:l.jsx(M,{padding:3,children:l.jsx(IF,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(re,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Di(a,["type","__internal"]),key:i})})})]}):l.jsx(_ue,{header:"Choose your workspace",footer:l.jsx(re,{padding:1,children:l.jsx(se,{as:"a",href:fvn,icon:ko,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(re,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(ee,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(IF,{icon:d==null?void 0:d.icon,iconRight:Oc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(xb,{})}const UA=h.createContext(null),WA=h.createContext(null);function BOe(){return AKe()?"dark":"light"}function NOe(e){let{children:t,scheme:n}=e;const r=BOe(),o=n==="system"?r:n;return l.jsx(jk,{scheme:o,theme:Rf,children:t})}const Sue="sanityStudio:ui:colorScheme";function vvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(bvn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(yvn,{onSchemeChange:n,children:t})}function yvn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=kue(localStorage.getItem(Sue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=kue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(Sue,o)},[n,o]),l.jsx(WA.Provider,{value:r.setSnapshot,children:l.jsx(UA.Provider,{value:o,children:l.jsx(NOe,{scheme:o,children:t})})})}function kue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function bvn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(WA.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(UA.Provider,{value:r,children:l.jsx(NOe,{scheme:r,children:t})})})}function RN(){const e=h.useContext(WA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function zOe(){const e=h.useContext(UA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function VOe(){const e=zOe(),t=BOe();return e==="system"?t:e}function Uc(){const e=VOe(),t=RN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function HOe(e){const t=zOe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:C0e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:L4},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:V4}],[t,e])}var Eue=Object.freeze,xvn=Object.defineProperty,wvn=(e,t)=>Eue(xvn(e,"raw",{value:Eue(t||e.slice())})),jue;const Cvn=O(Bt)(jue||(jue=wvn([`
  max-width: 350px;
  min-width: 250px;
`]))),Tue="Select workspace";function UOe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Uc(),i=fC(),{activeWorkspace:s,setActiveWorkspace:a}=t1(),[c]=LOe(i),{navigateUrl:u}=Bl(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?Tue:void 0,g=t?void 0:Tue;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(re,{children:l.jsx(tn,{button:l.jsx(se,{icon:Ll,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Cvn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Vt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(y=>{const b=c[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return l.jsx(Ve,{onClick:w,padding:2,pressed:y.name===s.name,children:l.jsx(IF,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function WOe(){return l.jsx(ee,{height:"fill",overflow:"auto",children:l.jsx(Y,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(Xr,{width:0,children:l.jsx(gvn,{})})})})}function _vn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function YOe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=t1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=ZAe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(ee,{height:"fill",children:l.jsx(Pi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(re,{paddingX:3,paddingY:2,children:l.jsx(se,{text:"Sign out",onClick:i})}),children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Aue=Object.freeze,Svn=Object.defineProperty,kvn=(e,t)=>Aue(Svn(e,"raw",{value:Aue(t||e.slice())})),Due;const Evn=O.label(Due||(Due=kvn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function jvn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(ee,{height:"fill",children:l.jsx(Pi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(Evn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Rr,{value:n,readOnly:!0}),l.jsx(se,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(Y,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(Uf,{})})]})})]})})})}function Tvn(e){let{children:t,AuthenticateComponent:n=WOe,LoadingComponent:r=xb,NotAuthenticatedComponent:o=YOe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=t1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function Avn(e){let{children:t}=e;const n=t1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(WA.Provider,{value:!1,children:l.jsx(UA.Provider,{value:r,children:l.jsx(jk,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Bu,{children:t})})})})}return l.jsx(jk,{theme:n,tone:"transparent",children:l.jsx(Bu,{children:t})})}function qOe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=wt(r)&&typeof r.message=="string"&&r.message,s=wt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return JUt(a),r instanceof gB?l.jsx(jvn,{projectId:r==null?void 0:r.projectId}):r instanceof ON?l.jsx(Wgn,{schema:r.schema}):r?l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(Xr,{width:3,children:l.jsxs(re,{space:4,children:[l.jsx(zo,{children:n}),l.jsx("div",{children:l.jsx(se,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(ee,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(re,{space:4,children:[i&&l.jsx(sr,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(sr,{size:1,children:s})]})})]})})}):l.jsx(x0,{onCatch:o,children:t})}const Dvn={toast:[100,11e3]};var Iue=Object.freeze,Ivn=Object.defineProperty,GOe=(e,t)=>Iue(Ivn(e,"raw",{value:Iue(t||e.slice())})),Pue,Oue;O(Y)(Pue||(Pue=GOe([""])));O(M).attrs({padding:4})(Oue||(Oue=GOe([""])));function Pvn(e){const{basePath:t="/",tools:n}=e,r=Hi.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?Hi.scope(i.name,"/",i.router):Hi.create("/")});return Hi.create(t,[Hi.intents("/intent"),r])}function $N(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const Ovn=["template"],Rvn=["mode"];function $vn(e,t){const r=$N(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Mvn(e,t){return t&&($N(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function Fvn(e,t){return $vn(e,Mvn(e,t))}function Lvn(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!wt(i))throw new Error("intent params must be a string");const a=$N(e),c=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=c?a.filter(m=>m!==c):a;let d=[];o==="create"?d=Ovn:o==="edit"&&(d=Rvn);const f={score:-1,tool:null},{tool:p}=(c?[c,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!wt(g))return m;const y=d.reduce((x,b)=>b in i&&g[b]===!0?x+1:x,0);return y>m.score?{score:y,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,y={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?y._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:y}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function Bvn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function Nvn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=ivn(),a=h.useMemo(()=>Pvn({basePath:o,tools:i}),[o,i]),[c,u]=zvn(s,a,i);return c?l.jsx(cpt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function zvn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(a9(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?Bvn(t,f):null}},[e,t]),i=s9.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ht),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=Fvn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=Rue(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=Rue(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function Rue(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=Lvn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function Vvn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=t1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Lo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(On(f=>{if(f instanceof Pa)return be(f);throw f}))})).pipe(ue(u=>{const d=u.filter(f=>f instanceof Pa);if(d.length)throw new Pa({name:i.name,causes:d,type:"workspace"});return u}),ue(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(Jpn,{workspace:s,children:l.jsx(jN,{source:s.unstable_sources[0],children:l.jsx(Nvn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function Hvn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(x0,{onCatch:o,children:l.jsx(Vvn,{...n})})}Dp.registerLanguage(jvt);Dp.registerLanguage(BNe);Dp.registerLanguage(Avt);Dp.registerLanguage(Ivt);Dp.registerLanguage(Ovt);function Uvn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(Hvn,{LoadingComponent:xb,ConfigErrorsComponent:_vn,children:l.jsx(Kqt,{children:t})});return l.jsx(vvn,{onSchemeChange:o,scheme:i,children:l.jsxs(FL,{paddingY:7,zOffset:Dvn.toast,children:[l.jsx(Mgn,{}),l.jsx(qOe,{children:l.jsx(qgn,{config:n,basePath:r,children:l.jsx(lvn,{unstable_history:s,NotFoundComponent:Ygn,LoadingComponent:xb,children:l.jsx(Avn,{children:l.jsx(TGt,{children:a?c:l.jsx(Tvn,{LoadingComponent:xb,AuthenticateComponent:WOe,NotAuthenticatedComponent:YOe,children:c})})})})})})]})})}function Wvn(){return l.jsx(ee,{height:"fill",children:l.jsx(Y,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Xr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(Y,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsxs(re,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function Yvn(e){const{reason:t="Redirecting"}=e;return l.jsx(ee,{height:"fill",children:l.jsx(Y,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Xr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"primary",children:l.jsxs(Y,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(R4,{})})}),l.jsx(re,{flex:1,marginLeft:3,space:3,children:l.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function qvn(e){const{toolName:t}=e;return l.jsx(ee,{height:"fill",children:l.jsx(Y,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Xr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(Y,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx($r,{})})}),l.jsx(re,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function Gvn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}var $ue=Object.freeze,Kvn=Object.defineProperty,Zvn=(e,t)=>$ue(Kvn(e,"raw",{value:$ue(t||e.slice())})),Mue;const Xvn=O.div(Mue||(Mue=Zvn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),Qvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Jvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),e0n=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),t0n=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(Xvn,{"data-logo":r,children:[t==="google"&&Qvn,t==="github"&&Jvn,t==="sanity"&&l.jsx(ZUt,{}),n&&e0n]})};var Fue=Object.freeze,n0n=Object.defineProperty,KOe=(e,t)=>Fue(n0n(e,"raw",{value:Fue(t||e.slice())})),Lue,Bue;const h5=1,r0n=O(Bt)(Lue||(Lue=KOe([`
  min-width: 200px;
  max-width: 300px;
`]))),o0n=O(M)(Bue||(Bue=KOe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[h5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[h5].size});function i0n(e){let{setScheme:t}=e;const n=HOe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Dr,{}),l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ve,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(Xs,{})},s)})]})}function s0n(){const{currentUser:e,projectId:t,auth:n}=Ul(),r=VOe(),o=RN(),i=!!(e&&PAe(e,"administrator")),s=ZAe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(tn,{button:l.jsx(se,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(Va,{user:"me",size:1}),l.jsx(L,{size:h5,muted:!0,children:l.jsx(qa,{})})]})}),id:"user-menu",menu:l.jsxs(r0n,{children:[l.jsx(ee,{padding:2,children:l.jsxs(Y,{align:"center",children:[l.jsx(at,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(o0n,{marginRight:3,children:[l.jsx(Va,{size:h5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(t0n,{provider:e.provider})]})}),l.jsxs(re,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(i0n,{setScheme:o}),l.jsx(Dr,{}),l.jsx(Ve,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:U5}),i&&l.jsx(Ve,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:G5}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Dr,{}),l.jsx(Ve,{iconRight:M4,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Nue=Object.freeze,a0n=Object.defineProperty,l0n=(e,t)=>Nue(a0n(e,"raw",{value:Nue(t||e.slice())})),zue;const c0n=O(M)(zue||(zue=l0n([`
  max-width: 300px;
`]))),ZOe=33;function u0n(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Ew({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(at,{disabled:t.hasPermission,portal:!0,content:l.jsx(c0n,{padding:2,children:l.jsx(Ic,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(ee,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Vue=Object.freeze,d0n=Object.defineProperty,XOe=(e,t)=>Vue(d0n(e,"raw",{value:Vue(t||e.slice())})),Hue,Uue;const VO=O(Y)(Hue||(Hue=XOe([`
  min-height: 100px;
`]))),f0n=O.strong(Uue||(Uue=XOe([`
  word-break: break-all;
`])));function Wue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(u0n,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(VO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Gt,{space:2,children:[l.jsx(dr,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading"})]})}):!c&&s?l.jsx(VO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(f0n,{children:["",s,""]})]})}):c?l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Xp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:ZOe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(VO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function h0n(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function p0n(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function m0n(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>h0n(t,o)).sort((o,i)=>p0n(t,o,i))}var Yue=Object.freeze,g0n=Object.defineProperty,Mm=(e,t)=>Yue(g0n(e,"raw",{value:Yue(t||e.slice())})),que,Gue,Kue,Zue,Xue,Que,Jue;const v0n=O(en)(()=>he(que||(que=Mm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),y0n=O(Pi)(()=>he(Gue||(Gue=Mm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),b0n=O(M)(Kue||(Kue=Mm([`
  max-width: 300px;
`]))),ede=O(Y)(Zue||(Zue=Mm([""]))),x0n=O(ee)(Xue||(Xue=Mm([`
  min-height: max-content;
`]))),w0n=O(ee)(Que||(Que=Mm([`
  min-height: max-content;
`]))),C0n=O(Y)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he(Jue||(Jue=Mm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),_0n=10;function S0n(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=Uc(),b=Ho(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",k=h.useMemo(()=>m0n(o,a),[o,a]),j=h.useCallback(N=>{c(N.currentTarget.value)},[]),E=h.useCallback(()=>s(N=>!N),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(N=>{N.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(N=>{(N.key==="Escape"||N.key==="Tab")&&i&&T()},[T,i]);cr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:E,options:k,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,k,E,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ei,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:ko,mode:"bleed",onClick:E,ref:v,selected:i}),[C,E,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(Ic,{currentUser:b,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,b,w]),V=h.useMemo(()=>({content:l.jsx(b0n,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$})})}),i&&l.jsx(y0n,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(ede,{direction:"column",flex:1,height:"fill",children:[l.jsx(w0n,{padding:2,borderBottom:!0,children:l.jsx(Rr,{...P})}),l.jsx(Y,{direction:"column",overflow:"hidden",children:l.jsx(Wue,{...I})})]})})]}):l.jsx(v0n,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(ede,{direction:"column",flex:1,forwardedAs:eh,height:"fill",returnFocus:!0,children:[l.jsx(x0n,{sizing:"border",children:l.jsxs(re,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Vt,{size:1,muted:!0,children:S})})}),l.jsx(ee,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Rr,{...P,fontSize:1,radius:1})})]})}),l.jsx(C0n,{$itemHeight:ZOe,$maxDisplayedItems:_0n,direction:"column",overflow:"hidden",children:l.jsx(Wue,{...I})})]}),children:l.jsx("div",{children:l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function k0n(){const{__internal:{staticInitialValueTemplateItems:e}}=Fn(),[t,n]=KN({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var tde=Object.freeze,E0n=Object.defineProperty,j0n=(e,t)=>tde(E0n(e,"raw",{value:tde(t||e.slice())})),nde;const T0n=O(ee)(nde||(nde=j0n([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),A0n=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=L0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(_m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Lr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ve,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(Y,{align:"center",children:[l.jsx(T0n,{children:l.jsx(Va,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(re,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var rde=Object.freeze,D0n=Object.defineProperty,MN=(e,t)=>rde(D0n(e,"raw",{value:rde(t||e.slice())})),ode,ide,sde;const I0n=4,P0n=O(ee)(ode||(ode=MN([`
  background: transparent;
`]))),O0n=O(Bt)(ide||(ide=MN([`
  max-width: 350px;
  min-width: 250px;
`]))),R0n=O(re)(sde||(sde=MN([`
  position: sticky;
  bottom: 0;
`])));function $0n(e){const{collapse:t}=e,n=Gwn(),{projectId:r}=Ul(),{scheme:o}=Uc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(lh,{icon:G5,mode:"bleed",tone:i?"positive":void 0}):l.jsx(se,{mode:"bleed",padding:1,children:l.jsx(P0n,{children:l.jsx(Sj,{maxLength:I0n,"aria-label":"Who is here",children:n.map(p=>l.jsx(Va,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(tn,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(O0n,{padding:1,children:[i&&l.jsx(re,{children:n.map(p=>l.jsx(A0n,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(re,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(R0n,{space:1,children:[l.jsx(Dr,{}),l.jsx(Ve,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:U5,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var ade=Object.freeze,M0n=Object.defineProperty,FN=(e,t)=>ade(M0n(e,"raw",{value:ade(t||e.slice())})),lde,cde,ude;const dde={duration:.2},F0n={open:{opacity:1},closed:{opacity:0}},L0n={open:{x:"0%"},closed:{x:"-100%"}},B0n=O(es)(lde||(lde=FN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),N0n=O(rd(ee))(cde||(cde=FN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),z0n=O(rd(ee))(ude||(ude=FN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function V0n(e){let{setScheme:t}=e;const n=HOe(t);return l.jsx(l.Fragment,{children:l.jsxs(ee,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(re,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":i,icon:o,iconRight:c&&l.jsx(Xs,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const H0n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=RN(),{auth:a,currentUser:c,projectId:u}=Ul(),d=fC(),f=v3e(),p=!!(c&&PAe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(wL,{children:r&&l.jsx(eh,{autoFocus:!0,returnFocus:!0,children:l.jsxs(B0n,{onKeyDown:m,children:[l.jsx(N0n,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:dde,variants:F0n}),l.jsxs(z0n,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:dde,variants:L0n,children:[l.jsx(ee,{borderBottom:!0,children:l.jsxs(re,{space:3,padding:3,children:[l.jsxs(Y,{align:"center",children:[l.jsx(Y,{flex:1,align:"center",paddingRight:2,children:l.jsxs(Y,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Va,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(se,{icon:Ei,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(UOe,{})]})}),l.jsxs(Y,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(ee,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(Y,{direction:"column",children:[s&&l.jsx(V0n,{setScheme:s}),l.jsx(ee,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(re,{as:"ul",space:1,children:[l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:U5,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(re,{as:"li",children:l.jsx(se,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:G5,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(ee,{flex:"none",padding:3,borderTop:!0,children:l.jsx(re,{children:l.jsx(se,{iconRight:M4,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function U0n(){var e;const n=((e=En()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Uc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(lh,{icon:$r,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Pi,{header:l.jsxs(re,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(re,{space:4,padding:4,children:[l.jsxs(zo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(ROe,{problemGroups:n})]})})]})}function fde(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(se,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const W0n=gi("mod+".concat(xOe)),Y0n=gi("escape");function q0n(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=la(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{W0n(a)&&(a.preventDefault(),t?i():r==null||r()),Y0n(a)&&t&&o&&i()},[i,o,t,r]);Es(s)}function QOe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Rt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return q0n({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function G0n(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Nf(e,t){return t?e[t]:void 0}function K0n(e,t){var n;return(n=Nf(e,t))==null?void 0:n.initialValue}function PF(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function _h(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>hC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Nf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:Z0n({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!t5t(i)).filter(po).join(" && ")}function Ju(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Yi(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Sh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=Bk(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),Bk(...a).sort()}function Z0n(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=Ju(n,t),i=dh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function hC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=dh(n,t.filterName),s=Nf(o,t.operatorType),a=Ju(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var hde=Object.freeze,X0n=Object.defineProperty,Q0n=(e,t)=>hde(X0n(e,"raw",{value:hde(t||e.slice())})),pde;const J0n=gi("escape"),e1n=500,t1n=O.div(pde||(pde=Q0n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function LN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=la(),i=h.useCallback(a=>{J0n(a)&&o&&r()},[o,r]);Es(i);const s=n1n(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(t1n,{onClick:r}),l.jsx(eh,{autoFocus:!1,returnFocus:!0,children:l.jsx(ee,{display:"flex",overflow:"hidden",radius:e1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(dC,"px - ").concat(Fx,"px), ").concat(e1n,"px"),zIndex:1},children:l.jsx(Y,{children:n})})})]})}function HO(e){const t=e.getBoundingClientRect();return t.y+t.height+dC}function n1n(e){const[t,n]=h.useState(e&&HO(e)),r=h.useCallback(()=>{e&&n(HO(e))},[e]);return h.useEffect(()=>{e&&n(HO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var mde=Object.freeze,r1n=Object.defineProperty,JOe=(e,t)=>mde(r1n(e,"raw",{value:mde(t||e.slice())})),gde,vde;const o1n=O(M)(gde||(gde=JOe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),i1n=O(Y)(vde||(vde=JOe([`
  box-sizing: border-box;
`]))),e3e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Rt();return l.jsx(o1n,{children:l.jsx(i1n,{align:"center",flex:1,padding:1,children:l.jsx(PN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ei,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function s1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>u1n(u,i)).map(u=>{const d=dh(r,u.filterName);return d?PF(d,u.id):null}).filter(po),c=l1n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...Lx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...a1n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Lx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:Ju(t,u),filterDefinition:dh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function a1n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=Ju(n,d);return h1n(t,f)}),c=t.length>1&&s.length>1?Lx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||fn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=Ju(n,v);return c1n([f],g)});return Lx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function l1n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(f1n).filter(s=>yde(s,r)).map(s=>PF(s)),i=Object.values(n).filter(d1n).filter(s=>yde(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(PF(a)),s),{});return[...Lx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return Lx({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function c1n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function u1n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function yde(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function d1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function f1n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function h1n(e,t){return Vp(e,(t==null?void 0:t.documentTypes)||[]).length===0}function t3e(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Rt(),o=h.useMemo(()=>{const i=dh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=Ju(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),""]}):l.jsx("span",{children:o}):null}function p1n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Rt(),o=(n=dh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(wl,{})}function n3e(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Rt(),i=Ju(o.fields,t);return l.jsxs(re,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ie.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Oc,{})})]},a))})}),l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(p1n,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(t3e,{filter:t})})]})]})}function r3e(e){return h.isValidElement(e)?m1n(YUt(e)):typeof e=="string"?e:""}function m1n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const UO=10;function g1n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Rt(),s=En(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||fn(d==null?void 0:d.name)}).filter(po).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=BA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&r3e(m==null?void 0:m.type.description)}return null}).filter(po).sort(),d=fo(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(at,{content:l.jsx(ee,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(re,{padding:3,space:4,children:[n&&l.jsxs(re,{space:2,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field name"}),l.jsx(Gt,{children:l.jsx(ee,{tone:"caution",padding:1,radius:2,children:l.jsx(sr,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(re,{space:3,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:bde(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:bde(r.description)}),!i.length&&a.length>0&&l.jsxs(re,{space:2,children:[l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(Vt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(ee,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,UO).join(", "),(a==null?void 0:a.length)>UO?" +".concat(a.length-UO," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function bde(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),""):e}const v1n=ie.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Rt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Yi(g)===Yi(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(se,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(g1n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx(n3e,{filter:n.filter})})})})})}),y1n=ie.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(ee,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Vt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function b1n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=En(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Rt(),m=h.useMemo(()=>s1n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(v1n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(y1n,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>Yi(w)===Yi(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],Yi(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return l.jsxs(Y,{direction:"column",style:{width:"300px"},children:[l.jsx(e3e,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(Y,{children:[m.length>0&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function xde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Rt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(en,{__unstable_margins:[dC,0,0,0],content:l.jsx(LN,{anchorElement:n,onClose:i,children:l.jsx(b1n,{onClose:i})}),open:e,placement:"bottom-start",radius:e1,portal:!0,children:l.jsx(se,{fontSize:1,icon:ko,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const x1n=ie.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Rt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(se,{fontSize:1,iconRight:n&&Xs,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var wde=Object.freeze,w1n=Object.defineProperty,C1n=(e,t)=>wde(w1n(e,"raw",{value:wde(t||e.slice())})),Cde;const _1n=O(M)(Cde||(Cde=C1n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function S1n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=En(),{dispatch:s,state:{terms:{types:a}}}=Rt(),[c,u]=h.useState(a),d=E1n(i,a,c,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(Dr,{})}):b.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Vt,{muted:!0,size:0,children:b.title})}):b.type==="item"?l.jsx(x1n,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return l.jsxs(Y,{direction:"column",style:{width:"250px"},children:[l.jsx(e3e,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(Y,{children:[d.length>0&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(k1n,{onClick:m,selectedTypes:a})]})}function k1n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(_1n,{padding:1,children:l.jsx(re,{children:l.jsx(se,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function E1n(e,t,n,r){return h.useMemo(()=>{const[o,i]=e9(Bpn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var _de=Object.freeze,j1n=Object.defineProperty,T1n=(e,t)=>_de(j1n(e,"raw",{value:_de(t||e.slice())})),Sde;const A1n=O(se)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return he(Sde||(Sde=T1n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),D1n=["top-start","bottom-start"];function I1n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Rt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);cr(c,[n,o]);const d=h.useMemo(()=>EN({types:a}),[a]);return l.jsx(en,{__unstable_margins:[dC,0,0,0],content:l.jsx(LN,{anchorElement:n,onClose:c,children:l.jsx(S1n,{})}),open:e,placement:"bottom-start",fallbackPlacements:D1n,portal:!0,radius:e1,ref:i,children:l.jsx(A1n,{fontSize:1,iconRight:Ll,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var kde=Object.freeze,P1n=Object.defineProperty,O1n=(e,t)=>kde(P1n(e,"raw",{value:kde(t||e.slice())})),Ede;const WO=O(M)(Ede||(Ede=O1n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function o3e(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Rt(),s=Nf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(Y,{align:"center",gap:1,children:[l.jsx(WO,{$flexShrink:i?1:0,children:l.jsx(ar,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(t3e,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(WO,{$flexShrink:0,children:l.jsx(ar,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(WO,{$flexShrink:1,children:l.jsx(ar,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function R1n(e){return l.jsx(M,{...e,children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(ar,{tone:"critical",children:l.jsx(ia,{})}),l.jsxs(re,{space:4,children:[l.jsx(ar,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(ar,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function $1n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ve,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(Y,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function M1n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Rt(),a=(r=dh(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Yi(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Gt,{children:l.jsx(tn,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(Y,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Ll,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>{if(u.type==="item"){const f=Nf(s.definitions.operators,u.name);return f?l.jsx($1n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Dr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function F1n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Rt(),a=dh(i.filters,t.filterName),c=Nf(i.operators,t.operatorType),u=Ju(i.fields,t),d=Yi(t),f=h.useCallback(()=>{o({filterKey:Yi(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(R1n,{padding:4}):l.jsx(x0,{onCatch:m,children:l.jsx(eh,{autoFocus:!Xp,returnFocus:!0,children:l.jsxs(Y,{direction:"column-reverse",children:[v&&l.jsx(ee,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(ee,{padding:3,children:l.jsxs(re,{space:3,children:[l.jsxs(Y,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(n3e,{filter:t,small:!s})}),s&&l.jsx(se,{fontSize:2,icon:ho,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(ee,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(M1n,{filter:t,operator:c})]})})]})})})}var jde=Object.freeze,L1n=Object.defineProperty,B1n=(e,t)=>jde(L1n(e,"raw",{value:jde(t||e.slice())})),Tde;const N1n=O(Y)(Tde||(Tde=B1n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function z1n(e){let{filter:t}=e;return l.jsxs(N1n,{direction:"column",children:[l.jsx(F1n,{filter:t}),bOe]})}var Ade=Object.freeze,V1n=Object.defineProperty,YA=(e,t)=>Ade(V1n(e,"raw",{value:Ade(t||e.slice())})),Dde,Ide,Pde,Ode;const H1n=O(se)(Dde||(Dde=YA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ye(t.sanity.radius[2])," ").concat(ye(t.sanity.radius[2])," 0")}),U1n=O(ee)(Ide||(Ide=YA([`
  position: absolute;
  right: 0;
`]))),W1n=O.div(Pde||(Pde=YA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),Y1n=O(se)(Ode||(Ode=YA([`
  border: none;
  width: 100%;
`])));function q1n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Rt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Yi(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=hC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(en,{__unstable_margins:[dC,0,0,0],content:l.jsx(LN,{onClose:c,children:l.jsx(z1n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:e1,children:l.jsxs(W1n,{children:[l.jsx(ee,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(Y1n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(o3e,{filter:t,showContent:p})})}),!a&&l.jsx(U1n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(H1n,{"aria-label":"Delete filter",fontSize:1,icon:Ei,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function i3e(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Rt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Yi(r),u=()=>l.jsx(se,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(Y,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(Y,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(I1n,{}),t==null?void 0:t.map(d=>{const f=Yi(d);return l.jsx(q1n,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(xde,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(Y,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(xde,{}),a&&l.jsx(u,{})]}),bOe]})}function G1n(){return l.jsx(Y,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Gt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(W5,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function K1n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>EN({availableCharacters:t,types:n}),[t,n]);return l.jsx(ee,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var Rde=Object.freeze,Z1n=Object.defineProperty,X1n=(e,t)=>Rde(Z1n(e,"raw",{value:Rde(t||e.slice())})),$de;const Q1n=O(ee)($de||($de=X1n([`
  cursor: default;
`])));function J1n(e){let{filter:t}=e;return l.jsx(Q1n,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(o3e,{filter:t})})}var Mde=Object.freeze,eyn=Object.defineProperty,qA=(e,t)=>Mde(eyn(e,"raw",{value:Mde(t||e.slice())})),Fde,Lde,Bde,Nde;const tyn=40,s3e=O(se)(Fde||(Fde=qA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])}),nyn=O(M)(Lde||(Lde=qA([`
  flex-shrink: 3;
`]))),ryn=O(M)(Bde||(Bde=qA([`
  flex-shrink: 2;
`]))),oyn=O.div(Nde||(Nde=qA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),s3e);function iyn(e){let{index:t,maxVisibleTypePillChars:n=tyn,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Rt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(s3e,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(Y,{align:"stretch",children:[l.jsxs(Gt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(v0e,{})}),l.jsx(L,{children:""})]}),l.jsxs(Y,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(ryn,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(nyn,{children:l.jsx(K1n,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(J1n,{filter:f},p))]}),l.jsx(Y,{align:"center",children:l.jsx(oyn,{onClick:d,children:l.jsx(Y,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Ei,{})})})})})]})})})}var zde=Object.freeze,syn=Object.defineProperty,ayn=(e,t)=>zde(syn(e,"raw",{value:zde(t||e.slice())})),Vde;const lyn=36,cyn=20,uyn=40,dyn=O(ee)(Vde||(Vde=ayn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function a3e(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Rt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=pm(),d=h.useMemo(()=>u<2?cyn:uyn,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(iyn,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(dyn,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Vt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:lyn,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(se,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(G1n,{})})}var Hde=Object.freeze,fyn=Object.defineProperty,GA=(e,t)=>Hde(fyn(e,"raw",{value:Hde(t||e.slice())})),Ude,Wde,Yde,qde;const hyn=am(Ude||(Ude=GA([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),pyn=O(rw)(Wde||(Wde=GA([`
  animation: `,` 500ms linear infinite;
`])),hyn),myn=O(M)(Yde||(Yde=GA([`
  position: relative;
`]))),gyn=O.div(qde||(qde=GA([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),l3e=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Rt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return l.jsx(ee,{flex:"none",children:l.jsxs(Y,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(ee,{children:l.jsx(se,{"aria-label":"Close search",icon:tw,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(PN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?pyn:ei,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(myn,{children:[l.jsx(se,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:W5,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),y&&l.jsx(gyn,{})]})]})})});function vyn(){return l.jsx(Xr,{width:0,children:l.jsxs(re,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function yyn(){return l.jsxs(Y,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(ar,{tone:"critical",children:l.jsx($r,{})})}),l.jsx(ar,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(ar,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Kh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Gde=Object.freeze,byn=Object.defineProperty,xyn=(e,t)=>Gde(byn(e,"raw",{value:Gde(t||e.slice())})),Kde;const Zde=[Kh.relevance,{type:"divider"},Kh.createdAsc,Kh.createdDesc,{type:"divider"},Kh.updatedAsc,Kh.updatedDesc],wyn=O(Y)(Kde||(Kde=xyn([`
  box-sizing: border-box;
`])));function Xde(e){return e.type==="divider"}function Cyn(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Rt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ht(r,t),[r,t]);return l.jsx(Ve,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(Y,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function _yn(){const{state:{ordering:e}}=Rt(),t=h.useId(),n=Zde.find(r=>Ht(e,r)&&!Xde(r));return n?l.jsx(ee,{borderBottom:!0,children:l.jsx(wyn,{align:"center",flex:1,padding:2,children:l.jsx(tn,{button:l.jsx(se,{mode:"bleed",padding:2,children:l.jsxs(Y,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(z4,{})})}),l.jsx(Gt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Bt,{children:Zde.map((r,o)=>Xde(r)?l.jsx(Dr,{},o):l.jsx(Cyn,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Qde=Object.freeze,Syn=Object.defineProperty,kyn=(e,t)=>Qde(Syn(e,"raw",{value:Qde(t||e.slice())})),Jde;const Eyn=O(ee)(Jde||(Jde=kyn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function jyn(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(re,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Gt,{space:3,children:[l.jsx(sr,{size:0,weight:"semibold",children:i.path}),l.jsx(sr,{size:0,children:i.why})]},i.path))}):l.jsx(sr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(Eyn,{padding:1,shadow:1,tone:r,children:l.jsxs(sr,{size:0,children:["score: ",n]})})})})}var efe=Object.freeze,Tyn=Object.defineProperty,Ayn=(e,t)=>efe(Tyn(e,"raw",{value:efe(t||e.slice())})),tfe;const Dyn=59,Iyn=4,Pyn=O(Y)(tfe||(tfe=Ayn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function c3e(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Rt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(kN,{documentId:Rn(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(jyn,{data:x})]}),[s,g]);return l.jsx(Y,{children:l.jsx(ee,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[p&&l.jsx(_yn,{}),l.jsx(Pyn,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(yyn,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Dyn,items:d.hits,overscan:Iyn,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&l.jsx(vyn,{})]})})]})})})}var nfe=Object.freeze,Oyn=Object.defineProperty,u3e=(e,t)=>nfe(Oyn(e,"raw",{value:nfe(t||e.slice())})),rfe,ofe;const Ryn=O(ee)(rfe||(rfe=u3e([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),$yn=O(M)(ofe||(ofe=u3e([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function Myn(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Uc(),{state:{filtersVisible:a,terms:c}}=Rt(),u=NA({terms:c});return l.jsx(QOe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(vm,{children:l.jsx(eh,{autoFocus:!Xp,returnFocus:!0,children:l.jsx($yn,{children:l.jsxs(Ryn,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(l3e,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx(i3e,{})}),u?l.jsx(c3e,{inputElement:o}):l.jsx(a3e,{inputElement:o})]})})})})})}var ife=Object.freeze,Fyn=Object.defineProperty,BN=(e,t)=>ife(Fyn(e,"raw",{value:ife(t||e.slice())})),sfe,afe,lfe;const Lyn=O(Y)(sfe||(sfe=BN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),Byn=O(Y)(afe||(afe=BN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),Nyn=O(Rr)(lfe||(lfe=BN([`
  padding-right: 60px;
`]))),zyn=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Rt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(Byn,{align:"center",children:[l.jsx(Nyn,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ei,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(Lyn,{align:"center",height:"fill",marginRight:2,children:[l.jsx(YR,{children:Fpn}),l.jsx(YR,{children:xOe.toUpperCase()})]})]})});var cfe=Object.freeze,Vyn=Object.defineProperty,OS=(e,t)=>cfe(Vyn(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe,ffe,hfe;const Hyn=O.div(ufe||(ufe=OS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),Uyn=O(ee)(hfe||(hfe=OS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?he(dfe||(dfe=OS([`
          left: `,`px;
        `])),t.x):he(ffe||(ffe=OS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Fx,"px), ").concat(Lpn,"px)")},e=>{let{$position:t}=e;return t.y},Fx*2,wOe);function Wyn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=la(),{scheme:p}=Uc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Rt(),y=NA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return cr(x,[s]),l.jsx(QOe,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:l.jsx(vm,{children:l.jsxs(eh,{autoFocus:!Xp,disabled:t,returnFocus:!0,children:[l.jsx(Hyn,{style:{zIndex:f}}),l.jsxs(Uyn,{$position:i,overflow:"hidden",radius:e1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(l3e,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx(i3e,{})}),y?l.jsx(c3e,{inputElement:c}):l.jsx(a3e,{inputElement:c})]})]})})})}function Yyn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=qyn(e);return l.jsxs(l.Fragment,{children:[l.jsx(zyn,{onOpen:i,ref:t}),s&&l.jsx(Wyn,{onClose:o,onOpen:i,open:n,position:s})]})}function pfe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>wOe?t.x-Fx:null,y:t.y-Fx}}function qyn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(pfe(e))},[e]);return h.useEffect(()=>{e&&n(pfe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const Gyn="search::recent",Kyn=5,Bx=2;function Zyn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=Bx}=e;if(!t||!i||!d3e||!a)return;const u="".concat(Gyn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>hC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Di(v,"created")),y={version:c,recentSearches:[v,...wb(u,c).recentSearches.filter(x=>JSON.stringify(Di(x,"created"))!==g)].slice(0,Kyn)};return window.localStorage.setItem(u,JSON.stringify(y)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...wb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=wb(u,c);if(d<0||d>f.recentSearches.length)return ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function wb(e,t){const n=d3e?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function ey(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=Xyn({lsKey:t,storedSearch:wb(t,s)});return Qyn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function Xyn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Bx){const r={version:Bx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function Qyn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=zA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>hC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Bx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),wb(r,a)}const d3e=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),Jyn=3;function ebn(e,t){var n;const r=zA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>mfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(mfe(c)&&(a.documentTypes[c.name]=c),h3e(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Spn(t);return rbn(s,o,i)}function tbn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function nbn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function rbn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=Jyn,v=a.name.startsWith("_"),g=a!=null&&a.title?r3e(a.title):fn(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=h3e(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:lbn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(obn).sort(cbn)}function obn(e){return{...e,id:nbn(e)}}function ibn(e){var t;return f3e(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function f3e(e){return e.type==="array"}function mfe(e){return e.type==="document"}function h3e(e){return e.type==="object"}function sbn(e){return e.type==="string"}function abn(e){var t;return sbn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function lbn(e){if(abn(e))return"stringList";if(f3e(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(ibn(e))return"arrayList"}return e.type}function cbn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function p3e(e){return typeof e.__recent<"u"}const OF="core:studio:navbar:search:";Hd(OF);function ubn(e){const t="".concat(OF).concat(e);return Hd&&Hd.enabled(t)?Hd(t):Hd(OF)}function dbn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(Mpn)}function fbn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:dbn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Kh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const hbn=ubn("reducer");function pbn(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),hbn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Kh.relevance,terms:kh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:kh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:kh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:K0n(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Yi(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Yi(u)===t.filterKey),o=Nf(e.definitions.operators,r==null?void 0:r.operatorType),i=Nf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Yi(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Yi(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(AF);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(AF),o=Sh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=Ju(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:kh({...e.terms,types:[]})}}default:return e}}function kh(e){if(p3e(e)){const{__recent:t,...n}=e;return n}return e}function mbn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=hr(ln),a=En(),c=Ho(),{search:{operators:u,filters:d}}=Fn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:tbn(ebn(a,d)),filterDefinitions:_pn(d),operatorDefinitions:G0n(u)}),[d,u,a]),y=h.useMemo(()=>Zyn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:Bx}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>fbn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(pbn,b),{documentTypesNarrowed:_,filters:S,ordering:k,pageIndex:j,result:E,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),I=h.useRef(b.pageIndex),P=h.useRef(b.terms),{handleSearch:$,searchState:R}=COe({initialState:{...E,terms:T},onComplete:U=>C({hits:U,type:"SEARCH_REQUEST_COMPLETE"}),onError:U=>C({error:U,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=NA({terms:T}),N=_.map(U=>a.get(U)),H=S.filter(U=>hC({fieldDefinitions:m,filter:U,filterDefinitions:v,operatorDefinitions:g})),G=h.useCallback(U=>{r.current=U},[]);return h.useEffect(()=>{const U=!Ht(k,D.current),q=j!==I.current,Z=!Ht(T,P.current);if(U||q||Z){const B=(k==null?void 0:k.customMeasurementLabel)||"".concat(k.sort.field," ").concat(k.sort.direction);$({options:{comments:[...p3e(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(B),"findability-source: global","findability-filter-count:".concat(H.length)],limit:Rce,offset:j*Rce,skipSortByScore:k.ignoreScore,sort:[k.sort]},terms:{...T,...N?{types:N}:{}}}),I.current=j}D.current=k,P.current=T},[H.length,S,N,$,V,k,j,R.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&E.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,E.hits,T.query,T.types]),l.jsx(gOe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:G,state:{...w,fullscreen:n}},children:t})}const m3e="3.20.2";function gbn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(m3e)]},tag:"module.version-check",json:!0}).pipe(ue(n=>({...n})))}function vbn(){const e=hr({apiVersion:"1"}),t=h.useMemo(()=>gbn(e),[e]);return IAe(t)}function ybn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(Y,{align:"center",justify:"center",padding:3,children:l.jsx(dr,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:bbn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(xbn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",m3e]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const bbn=l.jsxs(l.Fragment,{children:[l.jsx(Ve,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Dr,{})]});function xbn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(ee,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Vt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ve,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ve,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Dr,{})]})}var gfe=Object.freeze,wbn=Object.defineProperty,Cbn=(e,t)=>gfe(wbn(e,"raw",{value:gfe(t||e.slice())})),vfe;const _bn=O(Bt)(vfe||(vfe=Cbn([`
  max-width: 300px;
  min-width: 200px;
`])));function Sbn(){const{scheme:e}=Uc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=vbn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(Y,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(tn,{button:l.jsx(se,{"aria-label":"Help and resources",icon:Tv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(_bn,{children:l.jsx(ybn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var yfe=Object.freeze,kbn=Object.defineProperty,NN=(e,t)=>yfe(kbn(e,"raw",{value:yfe(t||e.slice())})),bfe,xfe,wfe;const Ebn=O(es)(bfe||(bfe=NN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),jbn=O(ee)(xfe||(xfe=NN([`
  line-height: 0;
`]))),Tbn=O(Y)(wfe||(wfe=NN([`
  width: max-content;
`])));function Abn(){const{name:e,tools:t,...n}=Ul(),r=b0().theme,o=fC(),i=Xj(),{scheme:s}=Uc(),{href:a,onClick:c}=N_e({state:{}}),u=pm(),d=typeof i.tool=="string"?i.tool:void 0,f=k0n(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(y3e),g=Lbn(),y=v3e(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[k,j]=h.useState(null),E=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&Hc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?fn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!E.searchFullscreen&&p(!1)},[p,E.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),k==null||k.focus()},[p,k]),P=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{b(!0)},[]);return l.jsxs(Ebn,{zOffset:100,"data-search-open":m,children:[l.jsx(jbn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(Y,{align:"center",justify:"space-between",children:[l.jsxs(Tbn,{align:"center",flex:E.brandingCenter?void 0:1,children:[!E.tools&&l.jsx(M,{marginRight:1,children:l.jsx(se,{mode:"bleed",icon:F4,onClick:$,ref:S})}),!E.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(fde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),E.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(UOe,{collapsed:!0})}),l.jsx(M,{marginRight:E.brandingCenter?void 0:2,children:l.jsx(S0n,{...f,modal:E.brandingCenter?"dialog":"popover"})}),l.jsx(Bu,{children:l.jsx(mbn,{fullscreen:E.searchFullscreen,children:l.jsxs(Lu,{element:document.body,children:[l.jsx(ym,{element:v,children:E.searchFullscreen&&l.jsx(Myn,{onClose:I,onOpen:D,open:m})}),!E.searchFullscreen&&l.jsx(Yyn,{})]})})}),E.tools&&l.jsx(ee,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(y,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),E.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(fde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(Y,{gap:2,children:[(E.configIssues||E.resources)&&l.jsx(ee,{borderRight:!0,children:l.jsxs(Y,{gap:1,paddingX:2,children:[E.configIssues&&l.jsx(U0n,{}),E.resources&&l.jsx(Sbn,{})]})}),l.jsxs(Y,{align:"center",gap:1,children:[l.jsx($0n,{collapse:E.collapsedPresenceMenu}),E.tools&&l.jsx(s0n,{}),E.searchFullscreen&&l.jsx(se,{"aria-label":"Open search",icon:ei,mode:"bleed",onClick:D,ref:j})]})]})]})}),!E.tools&&l.jsx(H0n,{activeToolName:d,isOpen:x,onClose:P,tools:t})]})}const g3e=h.forwardRef(function(t,n){const{name:r,...o}=t,i=Xj(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return l.jsx(Zj,{state:i,...o,ref:n})});function Dbn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Uc(),[o,i]=h.useState(null);VAe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||fn(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(g3e,{...m,ref:v,name:c.name})});return l.jsx(wN,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||wl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(xN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Ibn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(re,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||fn(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(g3e,{...c,ref:u,name:o.name})});return l.jsx(re,{as:"li",children:l.jsx(se,{as:s,icon:o.icon||M0e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function Pbn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(Ibn,{isVisible:n,...r}):l.jsx(Dbn,{...r})}function Obn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Rbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function $bn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Mbn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function v3e(){return Hl({defaultComponent:Pbn,pick:Obn})}function Fbn(){return Hl({defaultComponent:Abn,pick:Rbn})}function Lbn(){return Hl({defaultComponent:Gvn,pick:Mbn})}function Bbn(){return Hl({defaultComponent:Ubn,pick:$bn})}var Cfe=Object.freeze,Nbn=Object.defineProperty,zbn=(e,t)=>Cfe(Nbn(e,"raw",{value:Cfe(t||e.slice())})),_fe;const Vbn=O(ee)(_fe||(_fe=zbn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),y3e=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Hbn(){const e=Bbn();return l.jsx(e,{})}function Ubn(){var e;const{name:t,title:n,tools:r}=Ul(),o=Bl(),i=Xj(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||fn(t);return i?"".concat(fn(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{c(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=Fbn(),y=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{y&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[y,o]),l.jsxs(Y,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(y3e.Provider,{value:v,children:l.jsx(g,{})}),y&&l.jsx(Yvn,{}),r.length===0&&l.jsx(Wvn,{}),r.length>0&&!s&&i&&!y&&l.jsx(qvn,{toolName:i}),a&&l.jsx(Vbn,{ref:d,overflow:"auto"}),l.jsx(qOe,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:l.jsx(ee,{flex:1,hidden:a,children:s&&i&&l.jsx(lpt,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:l.jsx(h.Suspense,{fallback:l.jsx(Wbn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function Wbn(){return l.jsxs(Y,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading"}),l.jsx(dr,{muted:!0})]})}function Sfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(Uvn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(xGt,{}),l.jsx(Hbn,{})]})}function Ybn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=DTe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(Sfe,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(Sfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function hr(e){const t=Fn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const kfe="connecting";function qbn(e,t){const n=Ja();return mo(()=>n.pair.documentEvents(e,t).pipe(ue(r=>r.type),ue(r=>r!=="reconnect"),it(r=>r?be("connected"):Bo(200).pipe(Oj("reconnecting"))),ri(kfe),Qn()),[n.pair,e,t],kfe)}function b3e(){return Fn().dataset}function Yl(e,t){const n=Ja();return mo(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function x3e(e,t){const n=Ja();return mo(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function zN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=Ja();return mo(()=>{const o=r.pair.editState(e,t).pipe(ta());return n==="low"?sn(o.pipe(Ci(1)),o.pipe(BCe(1),KL(()=>Bo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function w3e(){return Fn().projectId}function En(){return Fn().schema}const Gbn={isSyncing:!0},Efe={isSyncing:!1};function C3e(e,t){const n=Ja();return mo(()=>n.pair.consistencyStatus(e,t).pipe(ue(r=>r?Efe:Gbn)),[n.pair,t,e],Efe)}function n1(){return Fn().templates}const YO=1e3*5,jfe=1e3*20,RF=1e3*60,i2=RF*60;function Xo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Kbn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function Kbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=v5t(r,n),i=x5t(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Jo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Jo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Jo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=b5t(r,n),a=zr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:i2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:i2};const c=Mke(r,n),u=zr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:i2}}const y=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":y,refreshInterval:i2}}const d=h5t(r,n),f=zr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:RF}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:RF};const p=p5t(r,n),m=zr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:jfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:jfe};const v=y5t(r,n),g=zr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:YO}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:YO}:{timestamp:"just now",refreshInterval:YO}}const Zbn={validation:[],isValidating:!1};function VN(e,t){const n=Ja();return mo(()=>n.pair.validation(e,t),[n.pair,e,t],Zbn)}const Tfe={isLoading:!0,enabled:!0,features:[]};function Xbn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let qO;function _3e(e){const t=hr(ln);return qO||(qO=Xbn({versionedClient:t}).pipe(Eo())),mo(()=>qO.pipe(ue(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ri(Tfe),On(r=>(console.error(r),be({isLoading:!1,enabled:!0,features:[]})))),[e],Tfe)}const Qbn=sh(e=>{let[t,n]=e;return Cr(t.getUser(n).catch(r=>(console.error(r),null)))});function r1(e){const t=ZN();return Qbn(h.useMemo(()=>[t,e],[e,t]))}function Ho(){const{currentUser:e}=Fn();return e}const Afe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Dfe=e=>({type:"snapshot",document:e}),Ife=e=>e.document,Jbn=e=>{const t=new wr,n=new Dj(!0),r=new wr,o=new wr,i=new wr,s=new wr,a=x=>{const b=new tBt(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Afe(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},c=e.pipe(ea((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),mt(x=>x!==null),Qn(),vl(1),gl()),u=e.pipe(mt(x=>x.type==="mutation"),Qy(c),ue(x=>{let[b,w]=x;return w.arrive(new Sc(b)),Afe(w)})),d=t.pipe(Qy(c),xn(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new Sc({mutations:b.mutations})),b.type==="commit"&&w.commit()}),zp(Xn),ta()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(Ci(1),xn(x=>x.commit())).subscribe()},g=sn(c.pipe(ue(x=>x.LOCAL)),r.pipe(ue(Ife)),o.pipe(ue(Ife)),u).pipe(ue(Dfe),vl(1),gl()),y=sn(c.pipe(ue(x=>x.document.HEAD),ue(Dfe)),i).pipe(vl(1),gl());return{updates$:sn(g,d,r,o),consistency$:n.pipe(Qn(),vl(1),gl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},exn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},Pfe=(e,t)=>{const n=Jbn(t),r=exn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},txn={type:"pending",phase:"begin"},nxn={type:"pending",phase:"end"};function rxn(e){return e.type==="mutation"}function oxn(e){return e.transactionTotalEvents>1}function ixn(e){const t=v7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function sxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return uo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(u$(s=>s.type==="welcome"?i().pipe(u$(a=>[Ofe(o,a.draft),Ofe(r,a.published)])):be(s)),ea((s,a)=>{if(!rxn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=oxn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return ixn(d)?{next:d.concat(nxn),buffer:[]}:{next:d.length===1?[txn]:[],buffer:d}},{next:[],buffer:[]}),ht(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ue(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Ofe(e,t){return{type:"snapshot",documentId:e,document:t}}const Rfe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function s2(e){return t=>({...t,version:e})}function axn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function lxn(e,t){return Cr(axn(e,t.mutation.params)).pipe(xn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function S3e(e,t){const{publishedId:n,draftId:r}=t,o=sxn(e,t).pipe(ta()),i=o.pipe(mt(d=>d.type==="reconnect")),s=Pfe(r,o.pipe(mt(Rfe(r)))),a=Pfe(n,o.pipe(mt(Rfe(n)))),c=o.pipe(mt(d=>d.type==="pending")),u=sn(s.commitRequest$,a.commitRequest$).pipe(ht(d=>lxn(e,d)),zp(Xn),ta());return{transactionsPendingEvents$:c,draft:{...s,events:sn(u,i,s.events).pipe(ue(s2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ue(s2("draft")))},published:{...a,events:sn(u,i,a.events).pipe(ue(s2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ue(s2("published")))}}}function Wc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Fm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function pC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const KA=Wc((e,t,n)=>new gt(r=>{r.next(S3e(e,t))}).pipe(vl(1),gl()),pC);function cxn(e){return e.type==="snapshot"}function $fe(e){return{snapshots$:e.events.pipe(mt(cxn),ue(t=>t.document),vl(1),gl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const HN=Wc((e,t,n)=>KA(e,t,n).pipe(ue(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:$fe(o),draft:$fe(i)}}),vl(1),gl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),uxn={enabled:!0},Mfe={enabled:!1},k3e=Wc((e,t,n)=>{const r=Fm(e.schema,n);return HN(e.client,t,n).pipe(it(o=>Lo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ue(i=>i.phase==="begin"?uxn:Mfe),ri(Mfe))])),ue(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ri({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),vl(1),gl())},(e,t,n)=>pC(e.client,t,n)),E3e=Wc((e,t,n)=>HN(e.client,t,n).pipe(it(r=>Lo([r.draft.snapshots$,r.published.snapshots$]).pipe(ue(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),vl(1),gl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),p5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Fm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function $F(e){return ed(e)?e._strengthenOnPublish?Di(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map($F):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,$F(r)]}))}const j3e={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Fm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=$F(Di(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},T3e={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Fm(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},A3e={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Xn}},D3e={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},I3e={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Fm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Di(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},dxn=["_createdAt","_updatedAt"],P3e={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Di(s,dxn),_id:Fm(n,i)?t:si(t),_type:s._type},{tag:"document.duplicate"})}},O3e={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Fm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},R3e=Wc((e,t,n)=>KA(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return Lo([o.consistency$,i.consistency$])}),ue(r=>{let[o,i]=r;return o&&i}),Qn(),vl(1),gl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function fxn(e){return typeof e>"u"?be(null):e}const hxn={del:p5,delete:p5,publish:j3e,patch:T3e,commit:A3e,discardChanges:D3e,unpublish:I3e,duplicate:P3e,restore:O3e},pxn=(e,t,n)=>{const r=hxn[e];return uo(()=>sn(be(null),fxn(r.execute(t,...n)))).pipe(Ont())},$3e=new wr;function M3e(e,t,n,r){$3e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const mxn=["publish","unpublish","discardChanges","delete"],F3e=Wc(e=>{const t=$3e.pipe(LCe(o=>o.idPair.publishedId),ht(o=>o.pipe(it(i=>E3e(e,i.idPair,i.typeName).pipe(Ci(1),it(s=>{const a=mxn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=R3e(e.client,i.idPair,i.typeName).pipe(mt(Boolean));return(a?c.pipe(Ci(1)):be(!0)).pipe(it(()=>pxn(i.operationName,s,i.extraArgs)))}),ue(()=>({type:"success",args:i})),On(s=>be({type:"error",args:i,error:s})))))),ta()),n=1e3,r=t.pipe(mt(o=>o.type==="success"&&o.args.operationName==="patch"),Jb(n,Al,{leading:!0,trailing:!0}),xn(o=>{M3e("commit",o.args.idPair,o.args.typeName,[])}));return sn(t,r.pipe(zp(Xn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),gxn=Wc((e,t,n)=>KA(e,t,n).pipe(it(r=>{let{published:o,draft:i}=r;return sn(o.remoteSnapshot$,i.remoteSnapshot$)})),pC),vxn={isValidating:!0,validation:[]};function yxn(e){return dTe(e,(t,n)=>(ed(n)&&t.add(n._ref),t),new Set)}const bxn=[],xxn=(e,t)=>e(t).pipe(ue(n=>{let{published:r}=n;return r.available})),wxn=200,Cxn=1e3;function GO(){return Eo({bufferSize:1,refCount:!0})}const _xn=Wc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=k3e(e,{draftId:r,publishedId:o},n).pipe(ue(d=>{let{draft:f,published:p}=d;return f||p}),Jb(wxn,Al,{trailing:!0}),Qn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:zu(Di(d,"_rev","_updatedAt"),Di(f,"_rev","_updatedAt"))),GO()),a=i.pipe(ue(d=>yxn(d)),ht(d=>Cr(d))).pipe(LCe(d=>d,{duration:()=>Bo(1e3*60*30)}),ht(d=>d.pipe(Ant(),ht(f=>xxn(e.observeDocumentPairAvailability,f).pipe(ue(p=>[f,p]))))),ea((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Qn(zu),GO()),c=d=>{let{id:f}=d;return bo(a.pipe(FCe(p=>f in p),ue(p=>p[f])))},u=a.pipe(BCe(1),Jb(Cxn,Al,{leading:!0,trailing:!0}));return Lo([i,Vr(be(null),u)]).pipe(ue(d=>{let[f]=d;return f}),P7(d=>uo(()=>d!=null&&d._type?Vr(be({isValidating:!0,revision:d._rev}),dKt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ue(f=>({validation:f,isValidating:!1})))):be({validation:bxn,isValidating:!1}))),ea((d,f)=>({...d,...f}),vxn),GO())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Sxn=Wc((e,t,n)=>KA(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return sn(o.events,i.events)})),pC);function Jc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const kxn={commit:Jc("commit"),delete:Jc("delete"),del:Jc("del"),publish:Jc("publish"),patch:Jc("patch"),discardChanges:Jc("discardChanges"),unpublish:Jc("unpublish"),duplicate:Jc("duplicate"),restore:Jc("restore")},Exn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return M3e(e,t,n,o)};function eu(e,t,n){return{disabled:t.disabled(n),execute:Exn(e,n.idPair,n.typeName)}}function jxn(e){return{commit:eu("commit",A3e,e),delete:eu("delete",p5,e),del:eu("delete",p5,e),publish:eu("publish",j3e,e),patch:eu("patch",T3e,e),discardChanges:eu("discardChanges",D3e,e),unpublish:eu("unpublish",I3e,e),duplicate:eu("duplicate",P3e,e),restore:eu("restore",O3e,e)}}const Txn=Wc((e,t,n)=>{const r=F3e(e),i=E3e(e,t,n).pipe(ue(jxn));return Vr(be(kxn),sn(r.pipe(ht(()=>Xn)),i)).pipe(Eo({refCount:!0,bufferSize:1}))},(e,t,n)=>pC(e.client,t,n)),Axn=(e,t,n,r)=>uo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),Dxn=(e,t,n,r)=>uo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Ffe(e){return e.type==="welcome"}function Ixn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=Dxn(e,i,n,r).pipe(ht((f,p)=>p===0&&!Ffe(f)?Nu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):be(f)),ta()),[a,c]=GL(s,Ffe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>Axn(e,o,n,r);return sn(a.pipe(Ci(1)),c.pipe(mt(u),Jb(r.throttleTime||1e3,Al,{leading:!0,trailing:!0}))).pipe(P7(f=>f.type==="mutation"&&f.visibility!=="query"?Bo(1200).pipe(ht(d)):d()))}function Pxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return be(n);const r="*[_id in [$documentId, $draftId]]._type",o=Rn(t),i=si(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ue(s=>s[0]))}function em(e){return _r(e)}const Oxn=["_key","_ref","_weak","_type"];function Rxn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function Lfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!em(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return MF(e)}catch(r){throw r.message=n(r.message),r}}function MF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Lr(t),'")'));return MF(o,t.concat(i),!0)});if(!em(e))return e;const r=n&&!e._key?{_key:Fw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&$xn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=MF(e[i],t.concat([i])),o),r)}function $xn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Lr(t),'"'));const n=Object.keys(e).filter(r=>!Oxn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Rxn).join(", "),' at path "').concat(Lr(t),'"'))}}function UN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];em(o)&&em(i)&&(n[r]=UN(i,o))}),n}function Mxn(e){return em(e)&&typeof e.serialize=="function"}async function ZA(e,t,n){return typeof e=="function"?e(t,n):e}async function WN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Mxn(t))return WN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await ZA(s,n,r);if(!em(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));em(a)&&!Object.keys(a).length&&(a={_type:i}),a=Lfe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=UN(await XA(c,n,YN,r)||{},a);return Lfe(u,t)}function Fxn(e,t){const n=Ss(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const YN=10;function XA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ua(e)?Bxn(e,t,n,r):Ml(e)?Lxn(e,t,n,r):ZA(e.initialValue,t,r)}async function Lxn(e,t,n,r){const o=await ZA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=Fxn(e,i);return Ua(s)?{...i,...await XA(s,t,n-1,r),_key:Fw()}:i}))}async function Bxn(e,t,n,r){const o={...await ZA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await XA(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=UN(i,o);if(!w9(s))return e.name!=="object"&&(s._type=e.name),s}const Bfe={type:"loading"};function Nxn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:si(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:Rn(r.documentId)},["_type"]);return sn(i.pipe(ue(c=>({draft:c}))),s.pipe(ue(c=>({published:c})))).pipe(ea((c,u)=>({...c,...u}),{}),mt(c=>"draft"in c&&"published"in c),ue(c=>c.draft||c.published),Qn((c,u)=>!!c!=!!u),ZL(25)).pipe(it(c=>{if(c)return be({type:"success",value:null});if(!r.templateName)return be({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),be({isResolving:!1,initialValue:void 0});const d=Cr(WN(e,u,r.templateParams,o)).pipe(ue(f=>({isResolving:!1,initialValue:f}))).pipe(On(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),be({type:"error",error:f}))));return sn(be({isResolving:!0}),d).pipe(it(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return be(v?{type:"error",message:"Failed to resolve initial value"}:p?Bfe:{type:"success",value:m})}))}),ri(Bfe),Qn())}function ty(e){if(sB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:si(e)}}function zxn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(ln),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return S3e(a,u)},initialValue(u,d){return Nxn(i,o,n,u,d)},listenQuery(u,d,f){return Ixn(a,u,d,f)},resolveTypeForDocument(u,d){return Pxn(a,u,d)},pair:{consistencyStatus(u,d){return R3e(c.client,ty(u),d)},documentEvents(u,d){return Sxn(c.client,ty(u),d)},editOperations(u,d){return Txn(c,ty(u),d)},editState(u,d){return k3e(c,ty(u),d)},operationEvents(u,d){return F3e({client:a,historyStore:r,schema:i}).pipe(mt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ue(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return _xn(c,ty(u),d)}}}}const Nfe={isLoaded:!1,documentType:void 0};function Vxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=Ja(),r=Rn(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Nfe);return h.useEffect(()=>a(Nfe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function Hxn(e,t){const n=Mi(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):be(void 0),[e,n,t]);return IAe(r)}function Uxn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Zo(o),s=Ja(),a=qN(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function qN(){const e=Fn(),t=En(),n=Ho(),r=w3e(),o=b3e(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function GN(){const e=qN();return h.useCallback((t,n)=>XA(t,n,YN,e),[e])}function Wxn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function Yxn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:Rn(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:si(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:si("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function qxn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return be({granted:!1,reason:"Type specified was `*`"});const a=!!Wxn(r,s).liveEdit;return HN(t,{draftId:si(o),publishedId:Rn(o)},s).pipe(it(c=>Lo([c.draft.snapshots$,c.published.snapshots$]).pipe(ue(u=>{let[d,f]=u;return{draft:d,published:f}}))),it(c=>{let{draft:u,published:d}=c;const f=Yxn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ue(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Lo(f).pipe(ue(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):be({granted:!0,reason:""})}))}const Gxn=sh(qxn);function fh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=hr(ln),c=En(),u=XN(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return Gxn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function L3e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const Kxn=sh(L3e);function Zxn(e){let{document:t,permission:n,...r}=e;const o=XN();return Kxn({grantsStore:r.grantsStore||o,document:t,permission:n})}function B3e(e){return typeof e=="object"&&e!==null&&"serialize"in e?B3e(e.serialize()):e}function Xxn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Lo(n.map(B3e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await WN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>Cr(s).pipe(it(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return L3e({grantsStore:t,permission:"create",document:{_id:p?Rn(m):si(m),...u}}).pipe(ue(v=>{let{granted:g,reason:y}=v;const x=c.title||d.title;return{...c,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):be([])}const Qxn=sh(Xxn);function KN(e){let{templateItems:t,...n}=e;const r=En(),o=n1(),i=XN(),s=qN();return Qxn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const zfe="_debug_",Jxn=typeof window>"u"?be({}):Ai(window,"hashchange"),N3e=Vr(be(0),Jxn).pipe(ue(()=>typeof document>"u"?"#":document.location.hash),Qn(),ue(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(zfe)).map(t=>t.substring(zfe.length)))),ewn=N3e.pipe(ue(e=>e.find(t=>t.startsWith("roles="))),ue(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),twn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Vfe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],nwn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],rwn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Hfe=[{filter:'_id in path("**")',permissions:["read","history"]}],own=[{filter:"!locked",permissions:["read","create","update"]}],iwn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Ufe={administrator:twn,editor:Vfe,developer:nwn,contributor:rwn,viewer:Hfe,restricted:iwn,requiresApproval:own,read:Hfe,write:Vfe},swn=ewn.pipe(ue(e=>e.length?e.filter(t=>!!t&&t in Ufe).flatMap(t=>Ufe[t]||[]):null));async function awn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function lwn(e){const t={};return e!==null&&(t.identity=e.id),t}const KO=new Map;async function cwn(e,t,n){KO.has(t)||KO.set(t,STe("*[".concat(t,"]")));const r=KO.get(t),o=lwn(e),{identity:i}=o,s={...o},a=await(await yTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function uwn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=uo(()=>be(r.config())).pipe(it(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return awn(r,a,c)})),i=swn.pipe(it(s=>s?be(s):o),vl(1),azt(1e3));return{checkDocumentPermission(s,a){return i.pipe(it(c=>dwn(n,c,s,a)),Qn(zu))}}}async function dwn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await cwn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function fwn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return hwn(r)}function hwn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Wfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function pwn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Yfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class mwn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Wfe(t.draftId),published:Wfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Yfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Yfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=pwn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=NM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class gwn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return qfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return qfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function qfe(e){return e.draft||e.published}const vwn=50;class ywn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new mwn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new gwn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=vwn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await fwn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function bwn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Gfe(e){return e.draft||e.published}class xwn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=m5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class wwn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=m5(r,this.value[t],this.extractor)}}class Cwn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(bwn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function m5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new xwn(e.content,t,r,n);case"object":return new wwn(e.content,t,r,n);case"string":return new Cwn(e.content,t,r,n)}return L7(t,r)}function Kfe(e,t,n){return n?FF(e,n.transactionIndex+1,n.chunk.index):t?FF(e,t.start,t.index):null}function Zfe(e,t){return t?FF(e,t.transactionIndex,t.chunk.index):null}function FF(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function _wn(e,t,n,r,o,i){const s=m5(n,r,{fromValue(c){return Kfe(e,t,c.endMeta)},fromMeta(c){return Kfe(e,t,c)}}),a=m5(o,i,{fromValue(c){return Zfe(e,c.startMeta)},fromMeta(c){return Zfe(e,c)}});return tA(s,a)}class a2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Swn(e){return e==="create"||e==="editDraft"}const kwn=5*60*1e3;function Ewn(e,t){return Date.parse(t)-Date.parse(e)<kwn}function Xfe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Jfe(e.draftState,t.draftState),r=Jfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Swn(e.type)&&t.type==="editDraft"&&Ewn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Qfe(e){const t=!!e;return e&&LF(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function jwn(e){const t=Qfe(e.draftEffect),n=Qfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function ZO(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&LF(e.draftEffect.apply),o=e.publishedEffect&&LF(e.publishedEffect.apply),i=jwn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Jfe(e,t){return t==="unknown"?e:t}function LF(e){return e[0]===0&&e[1]===null}let Twn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new a2,this._chunks=new a2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new a2,this._chunks=new a2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(ZO(s),Xfe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(ZO(s),Xfe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=ZO(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=NM(o,a.draftEffect.revert)),a.publishedEffect&&(i=NM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=sl.wrap(t.draft,null),s=sl.wrap(t.published,null);const a=Awn(i,s),c=Gfe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=sl.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=sl.applyPatch(s,g.publishedEffect.apply,y));const w=sl.getType(x)!=="null",C=sl.getType(i)!=="null";sl.getType(s)!=="null"&&!C&&(s=sl.rebaseValue(x,s)),C&&!w&&(i=sl.rebaseValue(b,i))}}const d=sl.getType(i)==="null"?s:i,f=Gfe(n);return _wn(this,u,a,c,d,f)}};function Awn(e,t){return sl.getType(e)==="null"?t:e}const ehe=Object.create(null),Dwn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},z3e=(e,t,n)=>{const r=Rn(t),o=si(t),i="".concat(r,"@").concat(n),s=ehe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return ehe[i]=u,u},Iwn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Twn({enableTrace:Hc,publishedId:n});return new ywn({client:t,documentId:n,documentType:r,timeline:o})},Pwn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},Own=e=>dTe(e,(t,n)=>ed(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function BF(e,t){return Array.isArray(e)?t(e.map(n=>BF(n,t)).filter(n=>typeof n<"u")):wt(e)?t(Object.keys(e).reduce((n,r)=>{const o=BF(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Rwn=(e,t)=>BF(e,n=>ed(n)?t(n):n),$wn=(e,t)=>Rwn(e,n=>t[n._ref]?n:void 0);function Mwn(e,t,n,r){return Cr(z3e(e,t,r)).pipe(ht(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Own(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ue(s=>$wn(o,s)))}),ue(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ht(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function Fwn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>z3e(t,n,r),getHistory:(n,r)=>Dwn(t,n,r),getTransactions:n=>Pwn(t,n),restore:(n,r,o)=>Mwn(t,n,r,o),getTimelineController:Iwn}}const the={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Lwn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=H3e(),a=h.useRef(null),c=h.useRef(the),u=hr(ln),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Dj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=gxn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(xn(g=>g.setLoadMore(!1)),ue(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Qn(_4),On(g=>(r==null||r(g),be(the))),xn(g=>{c.current=g}),xn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function so(e,t){return s9.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const Bwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],Nwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],zwn=uo(()=>Bo(0,1e4)).pipe(zp(Bwn),ue((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:oVt(Nwn)}]})),Eo()),Vwn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},Hwn=(e,t)=>{const n=e.request("presence").pipe(ue(Vwn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Xn;return[n.pipe(ta()),r]},V3e="presence_session_id",Uwn=()=>L1t(16);function Wwn(){try{return window.sessionStorage.getItem(V3e)}catch{}return null}function Ywn(e){try{window.sessionStorage.setItem(V3e,e)}catch{}return e}const l2=Wwn()||Ywn(Uwn());function qwn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=Hwn(t,l2),s=new Dj([]),a=s.pipe(Qn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(mt(A=>A.type==="rollCall"),mt(A=>A.sessionId!==l2)),m=Bo(0,3e4),v=uo(()=>sn(a,f)).pipe(it(()=>m),Qy(s),ue(A=>{let[,D]=A;return D}),_nt(200),it(A=>u(A)),zp(Xn),ta()),g=uo(()=>d()).pipe(zp(Xn)),y=n.connectionStatus$.pipe(ue(A=>A.type),mt(A=>A==="connected"||A==="error"),Qn()),x=N3e.pipe(ue(A=>A.find(D=>D.startsWith("presence="))),ue(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(mt(A=>A.includes("fake_others")),xn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),Mnt(zwn)),w=x.pipe(ue(A=>A.includes("show_own"))),C=sn(g,o).pipe(mt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=sn(C,b).pipe(ea((A,D)=>D.type==="disconnect"?Di(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),k=y.pipe(it(A=>A==="connected"?sn(S,v):qL),ue(A=>Object.values(A)),it(A=>{const D=fo(A.map(I=>I.userId));return Cr(r.getUsers(D)).pipe(ue(I=>A.map(P=>({user:I.find($=>$.id===P.userId),session:P})).filter(j)))}),XL(Ai(window,"beforeunload").pipe(it(()=>i({type:"disconnect"})))),Eo({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const E=k.pipe(ue(A=>{const D=v7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find($=>$.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),Qy(w),ue(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some(R=>R.sessionId===l2))}),ue(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:In((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,$)=>P.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:E,documentPresence:A=>k.pipe(Qy(w),it(D=>{let[I,P]=D;return Cr(I).pipe(mt($=>P||$.session.sessionId!==l2),Rnt($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),DCe())}))}}function Gwn(){const[e,t]=h.useState([]),n=QN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function mC(e){const t=QN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function Kwn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const Zwn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},Xwn=(e,t)=>{const n=localStorage.getItem(e);return be(n===null?t:Zwn(n,t))},Qwn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),be(t)),Jwn={get:Xwn,set:Qwn},g5=Object.create(null),eCn=(e,t)=>be(e in g5?g5[e]:t),tCn=(e,t)=>(typeof t>"u"||t===null?delete g5[e]:g5[e]=t,be(t)),nCn={get:eCn,set:tCn};let ny=null;function rCn(){if(ny!==null)return ny;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),ny=!0}catch{ny=!1}return ny}function oCn(){return rCn()?Jwn:nCn}function iCn(){const e=oCn(),t=new wr,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(it(a=>e.set(a.key,a.value).pipe(ue(c=>({key:a.key,value:c}))))),o=(a,c)=>sn(e.get(a,c),r.pipe(mt(u=>u.key===a),ue(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const sCn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function aCn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new mVt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>xVt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),sCn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>wt(c)&&typeof c.id=="string")}}function ZN(){const{getClient:e,currentUser:t}=Fn(),n=pd(),r=e(ln);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||aCn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function XN(){const{getClient:e}=Fn(),t=e(ln),n=Ho(),r=pd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||uwn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function H3e(){const e=hr(ln),t=pd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||Fwn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Mi(){const e=hr(ln),t=pd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||BZt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function Ja(){const e=Fn().getClient,t=En(),n=n1(),r=pd(),o=H3e(),i=Mi();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||zxn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function lCn(){const{bifur:e}=Fn().__internal,t=pd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||bGt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function QN(){const{__internal:{bifur:e}}=Fn(),t=pd(),n=ZN(),r=lCn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||qwn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function cCn(){const e=hr(ln),t=pd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||Kwn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function uCn(){const e=pd(),t=Ul();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||iCn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const dCn=/[^\p{Alpha}\p{White_Space}]/gu,fCn=new RegExp("\\p{White_Space}+","u"),hCn={small:0,medium:1,large:2};function pCn(e){const t=e.replace(dCn,"").split(fCn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Va(e){const{user:t,...n}=e;return wt(t)?n.withTooltip?l.jsx(mCn,{...n,user:t}):l.jsx(U3e,{...n,user:t}):l.jsx(gCn,{...e,user:t})}function mCn(e){const{user:{displayName:t}}=e;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(U3e,{...e})})})}const U3e=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=wGt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(kwe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&pCn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?hCn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function gCn(e){let{user:t,...n}=e;const[r]=r1(t);return r?l.jsx(Va,{...n,user:r}):null}var nhe=Object.freeze,vCn=Object.defineProperty,yCn=(e,t)=>nhe(vCn(e,"raw",{value:nhe(t||e.slice())})),rhe;const bCn=O(EL)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=pe.purple[r].hex,i=pe.purple[n].hex;return he(rhe||(rhe=yCn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function xCn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(bCn,{...r,fontSize:t,children:n})}function Uh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Pr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Uh(a[s]||{},i,n)}}}const JN=20,wCn=3,nf={name:"all-fields",title:"All fields",hidden:!1};function CCn(e){return Ua(e.schemaType)}function _Cn(e){return m4(e.schemaType)}function W3e(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function SCn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...Y3e(e,t)]}function Y3e(e,t){return t.length===0?[]:CCn(e)&&W3e(e)?q3e(e,t):_Cn(e)?G3e(e,t):[]}function q3e(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===nf.name||u&&Dw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||nf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&W3e(c.field)&&(sN(c)?m.push(...G3e(c.field,i)):FIe(c)&&m.push(...q3e(c.field,i))),m}function G3e(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Pr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?Y3e(o.item,r):[]}function ao(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function kCn(e,t){const n=Ss(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function ECn(e,t){const n=Ss(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function ez(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=wCn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function K3e(e,t,n){return n.name===nf.name?!0:t===void 0?!1:e.length===0&&n.name===nf.name?!0:Dw(t).includes(n.name)}function ohe(e){return typeof e>"u"||wt(e)}function jCn(e){return typeof e>"u"||Array.isArray(e)}function TCn(e){return typeof e>"u"||Array.isArray(e)}function ACn(e){return e.length===0||e.every(t=>wt(t))}function DCn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function ICn(e){return"_key"in e}function PCn(e){return e==null?void 0:e.every(t=>wt(t)&&ICn(t))}function bv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ht(e,t)}function ihe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=jc([...w.path,C.name]),k=Hon(C.type,w.level+1),j=w.value,E=w.comparisonValue;if(!ohe(j))throw new Error("Unexpected non-object value");const T=C.group?Dw(C.group):[],A=K3e(w.groups,C.group,w.selectedGroup);if(Ua(C.type)){const D=j==null?void 0:j[C.name],I=wt(E)?E==null?void 0:E[C.name]:void 0;if(!ohe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:Ss(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(ao(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||ao(C.type.readOnly,P),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],N=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],H=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],G=tz({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:bv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:k,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:N,collapsedFieldSets:H,readOnly:R,changesOpen:w.changesOpen});if(G===null)return null;const U=ez(C.type.options,k),q=N?N.value:U.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),field:G,collapsed:q,collapsible:U.collapsible}}else if(Ml(C.type)){const D=j==null?void 0:j[C.name],I=wt(E)?E==null?void 0:E[C.name]:void 0;if(m4(C.type)){const P=typeof D<"u";if(P&&!jCn(D)){const U=Ss(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:U,value:D}}}if(P&&!ACn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(P&&!PCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=P?DCn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],N=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],H=w.readOnly||ao(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),G=RCn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:bv(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:N,level:k,path:S,readOnly:H});return G===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:G}}else{if(!TCn(D)){const H=Ss(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],R=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],V=w.readOnly||ao(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),N=OCn({changed:bv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:k,path:S,readOnly:V});return N===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:yi(S,w.openPath),collapsible:!1,collapsed:!1,field:N}}}else{const D=j==null?void 0:j[C.name],I=wt(E)?E==null?void 0:E[C.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(ao(C.type.hidden,P))return null;const R=w.readOnly||ao(C.type.readOnly,P),V=Z3e({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:yi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function tz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===JN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||ao(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(w=>w.default)||nf)==null?void 0:n.name,a=[nf,...i].flatMap(w=>{var C;const _=ao(w.hidden,r),S=w.name===(((C=e.fieldGroupState)==null?void 0:C.value)||s),k=e.changesOpen?w.name===nf.name:S,j=e.changesOpen?!k:!1;return _?[]:[{disabled:j,icon:w==null?void 0:w.icon,name:w.name,selected:k,title:w.title}]}),c=a.find(w=>w.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(w=>({single:!0,field:w}))).flatMap((w,C)=>{var _,S,k,j;if(w.single){const $=w.field,R=ihe({field:$,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:C});return R?[R]:[]}const E=w.fields.map($=>$.name),T=ao(w.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:kt(e.value,E)}),A=ao(w.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:kt(e.value,E)}),D=w.fields.flatMap($=>{if(T)return[{kind:"hidden",key:"field-".concat($.name),name:$.name,index:C}];const R=ihe({field:$,parent:{...e,readOnly:o||A,groups:a,selectedGroup:c},index:C});return R?[R]:[]}),I=ez(w.options,e.level),P=(k=(S=(((_=e.collapsedFieldSets)==null?void 0:_.children)||{})[w.name])==null?void 0:S.value)!=null?k:I.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(w.name),_inSelectedGroup:K3e(a,w.group,c),groups:w.group?Dw(w.group):[],fieldSet:{path:jc(e.path.concat(w.name)),name:w.name,title:w.title,description:w.description,hidden:!1,level:e.level+1,members:D.filter($=>$.kind!=="hidden"),collapsible:I==null?void 0:I.collapsible,collapsed:P,columns:(j=w==null?void 0:w.options)==null?void 0:j.columns}}]}),f=i.length>0,p=e.presence.filter(w=>bn(w.path,e.path)),m=p.length?p:dn,v=e.validation.filter(w=>bn(w.path,e.path)).map(w=>({level:w.level,message:w.item.message,path:w.path})),g=d.filter(w=>w.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(w=>w.name===nf.name||g.some(_=>_.kind==="error"?!1:_.kind==="field"?_.groups.includes(w.name):_.groups.includes(w.name)||_.fieldSet.members.some(S=>S.kind!=="error"&&S.groups.includes(w.name)))?w:[]):[],x=g.flatMap(w=>{if(w.kind==="error")return[w];if(w.kind==="field")return w.inSelectedGroup?[w]:[];const C=w.fieldSet.members.filter(_=>_.kind!=="field"||_.inSelectedGroup);return C.length>0?[{...w,fieldSet:{...w.fieldSet,members:C}}]:[]}),b={value:e.value,changed:bv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Lr(e.path),level:e.level,focused:bn(e.path,e.focusPath),focusPath:C4(e.path,e.focusPath),presence:m,validation:v,members:x,groups:y};return Object.defineProperty(b,"_allMembers",{value:d,enumerable:!1}),b}function OCn(e){if(e.level===JN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(ao(e.schemaType.hidden,t))return null;const r=e.readOnly||ao(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>bn(u.path,e.path)),s=i.length?i:dn,a=e.validation.filter(u=>bn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>MCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:bn(e.path,e.focusPath),focusPath:C4(e.path,e.focusPath),path:e.path,id:Lr(e.path),level:e.level,validation:a,presence:s,members:c}}function RCn(e){if(e.level===JN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(ao(e.schemaType.hidden,t))return null;const r=e.readOnly||ao(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>bn(u.path,e.path)),s=i.length?i:dn,a=e.validation.filter(u=>bn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>$Cn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:bn(e.path,e.focusPath),focusPath:C4(e.path,e.focusPath),path:e.path,id:Lr(e.path),level:e.level,validation:a,presence:s,members:c}}function $Cn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=kCn(u.schemaType,c),p=c._key;if(!f){const j=Ss(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=jc([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||ao(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=tz({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:bv(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=ez(f.options,v),k=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:yi(m,u.openPath),collapsed:k,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function MCn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=ECn(o.schemaType,r),a=jc([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:Ss(s),value:c}};const p=o.readOnly||ao(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=Z3e({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:bn(a,o.openPath),item:m}}function Z3e(e){const t=e.presence.filter(o=>bn(o.path,e.path)),n=t.length?t:dn,r=e.validation.filter(o=>bn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:bv(e.value,e.comparisonValue),value:e.value,level:e.level,id:Lr(e.path),readOnly:e.readOnly,focused:bn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function FCn(e){return tz(e)}function LCn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Ho(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=FCn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:jc([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=YB(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function BCn(e){return e.map(VCn)}function NF(e,t){return In(t.map(n=>zCn(e,n)))}const NCn=e=>t=>!e.includes(t);function zCn(e,t){return In(Object.keys(t).filter(NCn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:eg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:eg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:eg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:eg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:eg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:eg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function VCn(e){if(e.patchType!==Qp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Qp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=eTe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=Qa(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(ft.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(WB.Provider,{value:i,children:t.children})});Rf.fonts.code.family,Rf.fonts.text.family,ac.hex,xa.hex,ly[500].hex,xa.hex,ac.hex,S2[500].hex,S2[500].hex,S2[500].hex,j3[500].hex,ly[500].hex,A3[500].hex,T3[500].hex,ly[500].hex,ly[500].hex,A3[500].hex,T3[500].hex,j3[500].hex,ac.hex,xa.hex;({...Rf});var QA={},HCn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},UCn=HCn,she={"text/plain":"Text","text/html":"Url",default:"Text"},WCn="Copy to clipboard: #{key}, Enter";function YCn(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function qCn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=UCn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=she[t.format]||she.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=YCn("message"in t?t.message:WCn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var GCn=qCn;function zF(e){"@babel/helpers - typeof";return zF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zF(e)}Object.defineProperty(QA,"__esModule",{value:!0});QA.CopyToClipboard=void 0;var c2=X3e(h),KCn=X3e(GCn),ZCn=["text","onCopy","options","children"];function X3e(e){return e&&e.__esModule?e:{default:e}}function ahe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ahe(Object(n),!0).forEach(function(r){nz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ahe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XCn(e,t){if(e==null)return{};var n=QCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function JCn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function che(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e_n(e,t,n){return t&&che(e.prototype,t),n&&che(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t_n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VF(e,t)}function VF(e,t){return VF=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},VF(e,t)}function n_n(e){var t=o_n();return function(){var r=v5(e),o;if(t){var i=v5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return r_n(this,o)}}function r_n(e,t){if(t&&(zF(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(e)}function Q3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o_n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v5(e){return v5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},v5(e)}function nz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J3e=function(e){t_n(n,e);var t=n_n(n);function n(){var r;JCn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),nz(Q3e(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=c2.default.Children.only(f),v=(0,KCn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return e_n(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=XCn(o,ZCn),a=c2.default.Children.only(i);return c2.default.cloneElement(a,lhe(lhe({},s),{},{onClick:this.onClick}))}}]),n}(c2.default.PureComponent);QA.CopyToClipboard=J3e;nz(J3e,"defaultProps",{onCopy:void 0,options:void 0});var i_n=QA,HF=i_n.CopyToClipboard;HF.CopyToClipboard=HF;var s_n=HF;const a_n=Pe(s_n);var l_n=Hf,c_n=Ya,u_n="[object Number]";function d_n(e){return typeof e=="number"||c_n(e)&&l_n(e)==u_n}var f_n=d_n;const h_n=Pe(f_n);function uhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uhe(Object(n),!0).forEach(function(r){p_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p_n(e,t,n){return t=m_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_n(e){var t=g_n(e,"string");return typeof t=="symbol"?t:String(t)}function g_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function eRe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function tRe(e){return eRe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function nRe(e){return e._type==="@list"}function rRe(e){return e._type==="@span"}function oRe(e){return e._type==="@text"}const fhe=["strong","em","code","underline","strike-through"];function v_n(e,t,n){if(!y5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&y5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>y_n(o,i,s))}function y_n(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=fhe.indexOf(t),s=fhe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function b_n(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(v_n),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(y5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function x_n(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!tRe(i)){n.push(i),r=void 0;continue}if(!r){r=u2(i,o,t),n.push(r);continue}if(w_n(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=u2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=dhe(dhe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&UF(s,i);if(a){r=a,r.children.push(i);continue}r=u2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&UF(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=u2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function w_n(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function u2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function UF(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(nRe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!y5(i)?UF(i,t):void 0}function iRe(e){let t="";return e.children.forEach(n=>{oRe(n)?t+=n.text:rRe(n)&&(t+=iRe(n))}),t}const C_n="html",__n=["block","list","listItem","marks","types"],S_n=["listItem"],k_n=["_key"];function hhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hhe(Object(n),!0).forEach(function(r){E_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E_n(e,t,n){return t=j_n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_n(e){var t=T_n(e,"string");return typeof t=="symbol"?t:String(t)}function T_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WF(e,t){if(e==null)return{};var n=A_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function D_n(e,t){const n=WF(t,__n);return uc(uc({},e),{},{block:ry(e,t,"block"),list:ry(e,t,"list"),listItem:ry(e,t,"listItem"),marks:ry(e,t,"marks"),types:ry(e,t,"types")},n)}function ry(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?uc(uc({},o),r):o}const I_n=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},P_n={textDecoration:"underline"},O_n={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:P_n,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:I_n},R_n={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},$_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},gC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),sRe=e=>gC('block type "'.concat(e,'"'),"types"),M_n=e=>gC('mark type "'.concat(e,'"'),"marks"),F_n=e=>gC('block style "'.concat(e,'"'),"block"),L_n=e=>gC('list style "'.concat(e,'"'),"list"),B_n=e=>gC('list item style "'.concat(e,'"'),"listItem");function N_n(e){console.warn(e)}const phe={display:"none"},z_n=e=>{let{value:t,isInline:n}=e;const r=sRe(t._type);return n?l.jsx("span",{style:phe,children:r}):l.jsx("div",{style:phe,children:r})},V_n=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},H_n=e=>{let{children:t}=e;return l.jsx("p",{children:t})},U_n=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},W_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},Y_n=()=>l.jsx("br",{}),q_n={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},mhe={types:{},block:q_n,marks:O_n,list:R_n,listItem:$_n,hardBreak:Y_n,unknownType:z_n,unknownMark:V_n,unknownList:U_n,unknownListItem:W_n,unknownBlockStyle:H_n};function G_n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=N_n}=e;const i=o||Z_n,s=Array.isArray(t)?t:[t],a=x_n(s,r||C_n),c=h.useMemo(()=>n?D_n(mhe,n):mhe,[n]),u=h.useMemo(()=>K_n(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const K_n=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return nRe(p)?i(p,m,g):tRe(p)?o(p,m,g):rRe(p)?s(p,m,g):r(p)?d(p,m,g,v):eRe(p)?a(p,m,g,v):oRe(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=ghe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(B_n(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=WF(f,S_n);b=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:uc(uc({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(L_n(b),{nodeType:"listStyle",type:b})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(M_n(g),{nodeType:"mark",type:g}),l.jsx(x,{text:iRe(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=ghe({node:f,index:p,isInline:v,renderNode:n}),y=WF(g,k_n),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(F_n(x),{nodeType:"blockStyle",type:x}),l.jsx(w,uc(uc({},y),{},{value:y.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(sRe(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return l.jsx(y,uc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?l.jsx(y,uc({},g),m):null}return n};function ghe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=b_n(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function Z_n(){}var X_n=KSe,Q_n=B8,J_n=Q_n(function(e,t,n){return t=t.toLowerCase(),e+(n?X_n(t):t)}),e2n=J_n;const vhe=Pe(e2n);var t2n=B8,n2n=t2n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),r2n=n2n;const o2n=Pe(r2n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var yhe=Object.getOwnPropertySymbols,i2n=Object.prototype.hasOwnProperty,s2n=Object.prototype.propertyIsEnumerable;function a2n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function l2n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var c2n=l2n()?Object.assign:function(e,t){for(var n,r=a2n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)i2n.call(n,s)&&(r[s]=n[s]);if(yhe){o=yhe(n);for(var a=0;a<o.length;a++)s2n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},d2=c2n,u2n={};function il(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var bhe="mixins";function d2n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=d2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=d2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=d2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&il(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&il(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){il(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),il(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,k=S.__reactAutoBindPairs;_.hasOwnProperty(bhe)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==bhe){var E=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,E);else{var A=o.hasOwnProperty(j),D=typeof E=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)k.push(j,E),S[j]=E;else if(T){var P=o[j];il(A&&(P==="DEFINE_MANY_MERGED"||P==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",P,j),P==="DEFINE_MANY_MERGED"?S[j]=f(S[j],E):P==="DEFINE_MANY"&&(S[j]=p(S[j],E))}else S[j]=E}}}}function u(C,_){if(_)for(var S in _){var k=_[S];if(_.hasOwnProperty(S)){var j=S in s;il(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var E=S in C;if(E){var T=i.hasOwnProperty(S)?i[S]:null;il(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],k);return}C[S]=k}}}function d(C,_){il(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(il(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var k=C.apply(this,arguments),j=_.apply(this,arguments);if(k==null)return j;if(j==null)return k;var E={};return d(E,k),d(E,j),E}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var k=_[S],j=_[S+1];C[k]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},b=function(){};d2(b.prototype,e.prototype,x);function w(C){var _=function(k,j,E){this.__reactAutoBindPairs.length&&v(this),this.props=k,this.context=j,this.refs=u2n,this.updater=E||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;il(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new b,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,y),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),il(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var f2n=d2n,b5=h,h2n=f2n;if(typeof b5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var p2n=new b5.Component().updater,JA=h2n(b5.Component,b5.isValidElement,p2n),m2n=Date.now||g2n;function g2n(){return new Date().getTime()}var xhe=m2n,v2n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=xhe()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=xhe();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},y2n=b2n;function b2n(e){for(var t=x2n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=fi(n,r,o,i,t[s+0],7,-680876936),i=fi(i,n,r,o,t[s+1],12,-389564586),o=fi(o,i,n,r,t[s+2],17,606105819),r=fi(r,o,i,n,t[s+3],22,-1044525330),n=fi(n,r,o,i,t[s+4],7,-176418897),i=fi(i,n,r,o,t[s+5],12,1200080426),o=fi(o,i,n,r,t[s+6],17,-1473231341),r=fi(r,o,i,n,t[s+7],22,-45705983),n=fi(n,r,o,i,t[s+8],7,1770035416),i=fi(i,n,r,o,t[s+9],12,-1958414417),o=fi(o,i,n,r,t[s+10],17,-42063),r=fi(r,o,i,n,t[s+11],22,-1990404162),n=fi(n,r,o,i,t[s+12],7,1804603682),i=fi(i,n,r,o,t[s+13],12,-40341101),o=fi(o,i,n,r,t[s+14],17,-1502002290),r=fi(r,o,i,n,t[s+15],22,1236535329),n=hi(n,r,o,i,t[s+1],5,-165796510),i=hi(i,n,r,o,t[s+6],9,-1069501632),o=hi(o,i,n,r,t[s+11],14,643717713),r=hi(r,o,i,n,t[s+0],20,-373897302),n=hi(n,r,o,i,t[s+5],5,-701558691),i=hi(i,n,r,o,t[s+10],9,38016083),o=hi(o,i,n,r,t[s+15],14,-660478335),r=hi(r,o,i,n,t[s+4],20,-405537848),n=hi(n,r,o,i,t[s+9],5,568446438),i=hi(i,n,r,o,t[s+14],9,-1019803690),o=hi(o,i,n,r,t[s+3],14,-187363961),r=hi(r,o,i,n,t[s+8],20,1163531501),n=hi(n,r,o,i,t[s+13],5,-1444681467),i=hi(i,n,r,o,t[s+2],9,-51403784),o=hi(o,i,n,r,t[s+7],14,1735328473),r=hi(r,o,i,n,t[s+12],20,-1926607734),n=pi(n,r,o,i,t[s+5],4,-378558),i=pi(i,n,r,o,t[s+8],11,-2022574463),o=pi(o,i,n,r,t[s+11],16,1839030562),r=pi(r,o,i,n,t[s+14],23,-35309556),n=pi(n,r,o,i,t[s+1],4,-1530992060),i=pi(i,n,r,o,t[s+4],11,1272893353),o=pi(o,i,n,r,t[s+7],16,-155497632),r=pi(r,o,i,n,t[s+10],23,-1094730640),n=pi(n,r,o,i,t[s+13],4,681279174),i=pi(i,n,r,o,t[s+0],11,-358537222),o=pi(o,i,n,r,t[s+3],16,-722521979),r=pi(r,o,i,n,t[s+6],23,76029189),n=pi(n,r,o,i,t[s+9],4,-640364487),i=pi(i,n,r,o,t[s+12],11,-421815835),o=pi(o,i,n,r,t[s+15],16,530742520),r=pi(r,o,i,n,t[s+2],23,-995338651),n=mi(n,r,o,i,t[s+0],6,-198630844),i=mi(i,n,r,o,t[s+7],10,1126891415),o=mi(o,i,n,r,t[s+14],15,-1416354905),r=mi(r,o,i,n,t[s+5],21,-57434055),n=mi(n,r,o,i,t[s+12],6,1700485571),i=mi(i,n,r,o,t[s+3],10,-1894986606),o=mi(o,i,n,r,t[s+10],15,-1051523),r=mi(r,o,i,n,t[s+1],21,-2054922799),n=mi(n,r,o,i,t[s+8],6,1873313359),i=mi(i,n,r,o,t[s+15],10,-30611744),o=mi(o,i,n,r,t[s+6],15,-1560198380),r=mi(r,o,i,n,t[s+13],21,1309151649),n=mi(n,r,o,i,t[s+4],6,-145523070),i=mi(i,n,r,o,t[s+11],10,-1120210379),o=mi(o,i,n,r,t[s+2],15,718787259),r=mi(r,o,i,n,t[s+9],21,-343485551),n=rf(n,a),r=rf(r,c),o=rf(o,u),i=rf(i,d)}return f2(n)+f2(r)+f2(o)+f2(i)}var whe="0123456789abcdef";function rz(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function YF(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function x5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function rf(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function f2(e){var t="",n;for(n=0;n<=3;n++)t+=whe.charAt(e>>n*8+4&15)+whe.charAt(e>>n*8&15);return t}function x2n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function w2n(e,t){return e<<t|e>>>32-t}function eD(e,t,n,r,o,i){return rf(w2n(rf(rf(t,e),rf(r,i)),o),n)}function fi(e,t,n,r,o,i,s){return eD(rz(x5(t,n),x5(~t,r)),e,t,o,i,s)}function hi(e,t,n,r,o,i,s){return eD(rz(x5(t,r),x5(n,~r)),e,t,o,i,s)}function pi(e,t,n,r,o,i,s){return eD(YF(YF(t,n),r),e,t,o,i,s)}function mi(e,t,n,r,o,i,s){return eD(YF(n,rz(t,~r)),e,t,o,i,s)}var C2n=Math.ceil(Math.random()*10),_2n=function(){return++C2n},oz=function(e){return Object.prototype.toString.call(e).slice(8,-1)},S2n=oz;function k2n(e){var t=S2n(e);return t!=="Object"&&t!=="Array"}var aRe=k2n,E2n=h,j2n=JA,h2=E2n.createElement,T2n=j2n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return h2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return h2("span",null,e.string.split(e.highlight).map(function(o,i){return h2("span",{key:i},i>0?h2("span",{className:"json-inspector__hl"},r):null,o)}))}}),A2n=h,D2n=JA,I2n=y2n,P2n=_2n,lRe=oz,RS=aRe,O2n=T2n,va=A2n.createElement,R2n=".root.",cRe=D2n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+P2n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return va("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},va("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),va("label",{className:"json-inspector__line",htmlFor:e,onClick:r},va("div",{className:"json-inspector__flatpath"},n.path),va("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=lRe(e);switch(t){case"Array":var n=e.length;return va("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[] ":"[] ")+$2n(n));case"Object":var r=Object.keys(e).length;return va("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{} ":"{} ")+M2n(r));default:return va("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!RS(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return va(cRe,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:F2n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return RS(e.data)||this.state.original||!e.getOriginal||!e.query||XO(this.keypath(),e.query)?null:va("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?va(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!XO(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(R2n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return va(O2n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),RS(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!XO(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function $2n(e){return e+(e===1?" item":" items")}function M2n(e){return e+(e===1?" property":" properties")}function F2n(e,t){if(RS(t)){var n=I2n(String(t));return e+":"+n}else return e+"["+lRe(t)+"]"}function XO(e,t){return e.indexOf(t)!==-1}var L2n=cRe,uRe=function(){},B2n=h,N2n=JA,z2n=B2n.createElement,V2n=uRe,H2n=N2n({getDefaultProps:function(){return{onChange:V2n}},render:function(){return z2n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),dRe=function(e){return Object.keys(e).length===0},U2n=Object.keys,W2n=aRe,Y2n=dRe,q2n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return $S(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=$S(n[o],r,t);break}}return n[r]||(n[r]=$S(e,r,t)),n[r]}};function $S(e,t,n){return U2n(e).reduce(function(r,o){var i=e[o],s;return W2n(i)?(QO(t,o,n)||QO(t,i,n))&&(r[o]=i):QO(t,o,n)?r[o]=i:(s=$S(i,t,n),Y2n(s)||Object.assign(r,G2n(o,s))),r},{})}function QO(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function G2n(e,t){var n={};return n[e]=t,n}var K2n=oz,JO=".";function qF(e,t){var n=t.split(JO),r=n.shift();if(!r)return e;var o=K2n(e);if(o==="Array"&&e[Che(r)])return qF(e[Che(r)],n.join(JO));if(o==="Object"&&e[r])return qF(e[r],n.join(JO))}function Che(e){return parseInt(e,10)}var Z2n=qF,X2n=h,Q2n=JA,J2n=v2n,oy=X2n.createElement,eSn=L2n,tSn=H2n,nSn=q2n,rSn=dRe,oSn=Z2n,iSn=uRe,sSn=Q2n({getDefaultProps:function(){return{data:null,search:tSn,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:iSn,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&rSn(r);return oy("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?oy("div",{className:"json-inspector__not-found"},"Nothing found"):oy(eSn,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return oy("div",{className:"json-inspector__toolbar"},oy(e,{onChange:J2n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:nSn(e,t)})},getOriginal:function(e){return oSn(this.props.data,e)}});const aSn=Pe(sSn);var lSn=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const cSn=Pe(lSn);function iz(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function fRe(e){const{document:t}=e,r=En().get(t._type),{error:o,value:i}=CB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const sz=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(MAe,{onReset:o,hooks:t,args:r,children:n})},uSn=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(MAe,{...o,hooks:t,args:r,children:n})};function dSn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const fSn=5e3;let e3;const hRe=()=>(e3||(e3=Ai(document,"visibilitychange").pipe(ri(null),ue(()=>document.visibilityState==="visible"),Qn(),it(e=>e?Bo(0,fSn):Xn),Eo({refCount:!0,bufferSize:1}))),e3);function hSn(e,t){let{versionedClient:n}=t;const r=si(e),o=Rn(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ue(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function pSn(e,t){const{versionedClient:n}=t;return hRe().pipe(it(()=>hSn(e,t)),it(r=>{if(!r)return be({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(On(i=>{if(dSn(i)&&i.statusCode===404)return be({totalCount:0,references:[]});throw i}))}))}const mSn=sh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),gSn=sh(e=>{let[t,n]=e;return hRe().pipe(it(()=>pSn(t,{versionedClient:n})))});function vSn(e){const t=hr(ln),n=Ja(),r=Rn(e),[o,i]=mSn(h.useMemo(()=>[r,n],[n,r])),[s,a]=gSn(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function ySn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Xo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(ar,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(f0,{"aria-label":r})})})}function bSn(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Xo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(ar,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Du,{})})})}function pRe(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=wt(i.title)&&h.isValidElement(i.title)||dT(i.title)||h_n(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=mo(()=>pA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Gt,{space:4,children:[r&&r.length>0&&l.jsx(KB,{presence:r}),l.jsx(ySn,{document:c}),l.jsx(bSn,{document:a})]});return l.jsx(ch,{...kB({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function as(){throw new Error("Pane is missing router context")}const tD=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>as(),ChildLink:()=>as(),ReferenceChildLink:()=>as(),handleEditReference:()=>as(),ParameterizedLink:()=>as(),replaceCurrent:()=>as(),closeCurrentAndAfter:()=>as(),closeCurrent:()=>as(),duplicateCurrent:()=>as(),setView:()=>as(),setParams:()=>as(),setPayload:()=>as(),navigateIntent:()=>as(),createPathWithParams:()=>as()}),xSn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(tD),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(Zj,{...t,ref:n,state:s})}),mRe=h.createContext(null);function o1(){const e=h.useContext(mRe);if(!e)throw new Error("PaneLayout: missing context value");return e}const wSn=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(tD);return l.jsx(Zj,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),pMn=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(wSn,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Lr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),mMn=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(tD),{params:s,payload:a,...c}=t,u=Zo(s),d=Zo(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(Zj,{ref:n,...c,state:f})});function Yc(){return h.useContext(tD)}const _he=[];function CSn(e){const{onClick:t,type:n,value:r}=e,o=Rn(r==null?void 0:r._id),i=mC(o),s=Mi(),{ReferenceChildLink:a}=Yc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:_he,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Cp,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(pRe,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:_he,schemaType:n,value:r})})}var She=Object.freeze,_Sn=Object.defineProperty,vC=(e,t)=>She(_Sn(e,"raw",{value:She(t||e.slice())})),khe,Ehe,jhe,The,Ahe;const gRe=O(M)(khe||(khe=vC([`
  margin-left: auto;
`]))),SSn=O.details(Ehe||(Ehe=vC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),gRe),kSn=O.summary(jhe||(jhe=vC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),ESn=O.table(The||(The=vC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.space[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),jSn=O(Y)(Ahe||(Ahe=vC([`
  min-height: 35px;
`]))),Dhe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Gt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(at,{portal:!0,placement:"top",content:l.jsx(Xr,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(lm,{})})})]}):null};function TSn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=En(),d=Vo(),f=h.useCallback(y=>{const x=u.get(y._type);return x?l.jsx(CSn,{type:x,value:y,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(ch,{icon:wl,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["",r,""]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(ee,{children:[l.jsx(ee,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(Y,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx($r,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to ",r,""]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to ",r,""]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," ",r," because the following documents refer to it:"]})}),l.jsx(ee,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(Y,{direction:"column",children:[n.totalCount>0&&l.jsxs(re,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>l.jsx(M,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(Dhe,{...n})})]}),t.totalCount>0&&l.jsxs(SSn,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(kSn,{children:l.jsx(ee,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(Y,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(O4,{})})}),l.jsxs(Y,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(gRe,{children:l.jsx(L,{muted:!0,children:l.jsx(qa,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(ESn,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:b})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(jSn,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(a_n,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(se,{title:"Copy ID to clipboard",mode:"bleed",icon:Au,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(Dhe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Ihe=Object.freeze,ASn=Object.defineProperty,vRe=(e,t)=>Ihe(ASn(e,"raw",{value:Ihe(t||e.slice())})),Phe,Ohe;const DSn=O(M).attrs({padding:4})(Phe||(Phe=vRe([`
  box-sizing: border-box;
`]))),ISn=O(Y).attrs({align:"center",direction:"column",justify:"center"})(Ohe||(Ohe=vRe([`
  height: 300px;
`])));function PSn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=vSn(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(fRe,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return l.jsx(Pi,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(Jt,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(se,{mode:"ghost",onClick:o,text:"Cancel"}),y&&l.jsx(se,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(DSn,{children:c&&a&&!u?l.jsx(TSn,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(ISn,{"data-testid":"loading-container",children:[l.jsx(dr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents"})})]})})})}function yRe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Pi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(Y,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(se,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(x0,{onCatch:r,children:l.jsx(PSn,{...e})})}const OSn={constrainSize:!0,placement:"left-start",portal:!0};function w5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Dr,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(w5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),l.jsx(ML,{disabled:t,icon:r.icon,popover:OSn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(w5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Dr,{}),l.jsx(RSn,{disabled:t,node:r})]})}function RSn(e){const{node:t}=e;return t.intent?l.jsx(MSn,{...e,intent:t.intent}):l.jsx($Sn,{...e})}function $Sn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(Jw,{content:o,placement:"left",children:l.jsx(Ve,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Xs,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function MSn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=Ew({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(Jw,{content:i,placement:"left",children:l.jsx(Ve,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Xs:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const FSn={constrainSize:!0,placement:"bottom",portal:!0};function GF(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&GF(n.children,t))}function bRe(e){const{nodes:t}=e,n=h.useId(),r=GF(t,"critical"),o=GF(t,"caution");return l.jsx(tn,{button:l.jsx(lh,{icon:jo,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Bt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(w5,{isAfterGroup:c,node:i},i.key)})}),popover:FSn})}const LSn=!1,xv=51,wv=xv*4,xRe=h.createContext(null);var Rhe=Object.freeze,BSn=Object.defineProperty,NSn=(e,t)=>Rhe(BSn(e,"raw",{value:Rhe(t||e.slice())})),$he;const zSn=O(es)($he||($he=NSn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function VSn(e){let{disabled:t,element:n}=e;const{resize:r}=o1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(zSn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Mhe=Object.freeze,HSn=Object.defineProperty,USn=(e,t)=>Mhe(HSn(e,"raw",{value:Mhe(t||e.slice())})),Fhe;const WSn=O(ee)(Fhe||(Fhe=USn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),nD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=o1(),k=S.find(z=>z.element===g),j=k&&S.indexOf(k),E=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(k==null?void 0:k.collapsed)||!1,D=(E==null?void 0:E.collapsed)||!1,I=ur(n),P=(r=k==null?void 0:k.flex)!=null?r:u,$=(o=k==null?void 0:k.currentMinWidth)!=null?o:a,R=(i=k==null?void 0:k.currentMaxWidth)!=null?i:c,V=h.useCallback(z=>{y(z),I.current=z},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const N=h.useCallback(()=>{g&&x(g)},[x,g]),H=h.useCallback(()=>{g&&w(g)},[w,g]),G=h.useMemo(()=>({collapse:N,collapsed:b?!1:A,expand:H,index:j,isLast:T,rootElement:g}),[A,N,H,T,b,j,g]),U=h.useMemo(()=>{if(!b)return A?xv:$===0||T?f||wv:$||f||wv},[A,$,T,b,f]),q=h.useMemo(()=>{if(A)return xv;if(!(b&&T))return T?p?R??p:void 0:R??p},[A,R,T,b,p]),Z=b&&!T,B=h.useMemo(()=>!T&&!b&&l.jsx(Gu,{zOffset:"paneResizer",children:l.jsx(VSn,{disabled:A||D,element:g})}),[A,T,b,D,g]),W=h.useMemo(()=>({flex:P,minWidth:U,maxWidth:q===1/0?void 0:q}),[P,U,q]);return l.jsxs(l.Fragment,{children:[l.jsx(Gu,{zOffset:"pane",children:l.jsx(xRe.Provider,{value:G,children:l.jsxs(WSn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:Z,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:W,children:[LSn,l.jsx(Lu,{element:g,children:!Z&&l.jsx(Y,{direction:"column",height:"fill",children:s})})]})})}),B]})});function hh(){const e=h.useContext(xRe);if(!e)throw new Error("Pane: missing context value");return e}var Lhe=Object.freeze,YSn=Object.defineProperty,qSn=(e,t)=>Lhe(YSn(e,"raw",{value:Lhe(t||e.slice())})),Bhe;const wRe=O(ee)(Bhe||(Bhe=qSn([`
  position: relative;
  outline: none;
`])));wRe.displayName="PaneContent__root";const rD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=hh(),{collapsed:u}=o1();return l.jsx(wRe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Nhe=Object.freeze,GSn=Object.defineProperty,CRe=(e,t)=>Nhe(GSn(e,"raw",{value:Nhe(t||e.slice())})),zhe,Vhe;const KSn=O(es)(zhe||(zhe=CRe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),ZSn=O(ee)(Vhe||(Vhe=CRe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),XSn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=hh();return l.jsx(Gu,{zOffset:"paneFooter",children:l.jsx(KSn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(ZSn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var Hhe=Object.freeze,QSn=Object.defineProperty,i1=(e,t)=>Hhe(QSn(e,"raw",{value:Hhe(t||e.slice())})),Uhe,Whe,Yhe,qhe,Ghe,Khe;const JSn=O(es)(Uhe||(Uhe=i1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),ekn=O(Y)(Whe||(Whe=i1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),tkn=O(ee)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return he(Yhe||(Yhe=i1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),nkn=O(Ti)(qhe||(qhe=i1([`
  width: 66%;
  max-width: 175px;
`]))),rkn=O(L)(Ghe||(Ghe=i1([`
  cursor: default;
  outline: none;
`]))),okn=O(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return he(Khe||(Khe=i1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Dt(n.base.bg,0),r[3])}),az=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=hh(),g=Zf(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Bu,{zOffset:100,children:l.jsx(JSn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(Gu,{zOffset:"paneHeader",children:l.jsxs(ee,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(ekn,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(tkn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(nkn,{animated:!0,radius:1}),!s&&l.jsx(rkn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(Y,{align:"center",hidden:p,children:l.jsx(Gu,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(Y,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(okn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function _Re(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(ikn,{node:t,padding:n}):t.type==="group"?l.jsx(akn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function ikn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(skn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(Jw,{content:o,placement:"bottom",children:l.jsx(lh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function skn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=Ew({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(Jw,{content:i,placement:"bottom",children:l.jsx(lh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function akn(e){var t;const{node:n,padding:r}=e;return l.jsx(tn,{button:l.jsx(lh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:wl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Bt,{children:n.children.map((o,i)=>{var s;return l.jsx(w5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Zhe=Object.freeze,lkn=Object.defineProperty,ckn=(e,t)=>Zhe(lkn(e,"raw",{value:Zhe(t||e.slice())})),Xhe;const ukn=O(ee)(Xhe||(Xhe=ckn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function dkn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:wv,c=(i=n.minWidth)!=null?i:wv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),y=e.left.width+g,x=e.right.width-g,b=y/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:b,leftW:y,rightFlex:w,rightW:x}}function fkn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Qhe=[];function hkn(e,t){const n=new WeakMap;for(const o of t)n.set(o,fkn(e,o));const r=(o,i)=>{const s=n.get(o)||Qhe,a=n.get(i)||Qhe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function pkn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(b){r.add(b),a===b&&(a=null),x()}function f(b){r.delete(b),a=b,x()}function p(b,w){return n.set(b,{...w,original:w}),t.push(b),i&&hkn(i,t),f(b),()=>{const C=t.indexOf(b);C>-1&&t.splice(C,1),n.delete(b),x()}}function m(b,w,C){var _,S,k,j;const E=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[E+1],D=n.get(A);if(D){if(b==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),b==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:P,leftFlex:$,rightFlex:R}=dkn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:P}),x()}if(b==="end"){u=!1;const I=c.get(w),P=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(k=T.maxWidth)!=null?k:1/0,flex:(j=P==null?void 0:P.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(b){i=b}function g(b){s=b,x()}function y(b){return e.push(b),()=>{const w=e.push(b);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:y};function x(){var b,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const k=new WeakMap,j=S.length,E=S[0],T=(j-1)*xv;let A=s-T;for(const I of S){const P=n.get(I);if(!P)continue;const $=P.currentMinWidth||P.minWidth||wv,R=I===E,V=r.has(I),N=$>A,H=R?!1:V||N,G=c.get(I);k.set(I,{element:I,collapsed:H,currentMinWidth:(b=G==null?void 0:G.width)!=null?b:P.currentMinWidth,currentMaxWidth:(w=G==null?void 0:G.width)!=null?w:P.currentMaxWidth,flex:(_=(C=G==null?void 0:G.flex)!=null?C:P.flex)!=null?_:1}),H?A-=xv:A-=$-xv}const D=[];for(const I of t){const P=k.get(I);P&&D.push(P)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function gMn(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>pkn(),[]),[a,c]=h.useState(null),u=Zf(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(mRe.Provider,{value:v,children:l.jsx(ukn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function lz(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const SRe=zwt(lz);function kRe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(ERe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function ERe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>ERe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const mkn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(_m,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(se,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(se,{...o,as:i,"data-as":"a",ref:n})});function t3(e){let{reveal:t,loading:n,children:r}=e;const o=Ho();return t?l.jsx(at,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading"})}):l.jsx(Ic,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const gkn={constrainSize:!0,placement:"bottom",portal:!0},Jhe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function vkn(e){let{templateItems:t}=e;const n=En(),r=n1(),[o,i]=KN({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(t3,{reveal:!0,loading:i,children:l.jsx(se,{"aria-label":"Insufficient permissions",icon:ko,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=Jhe(n,r,c);return f?l.jsx(t3,{reveal:d,loading:i,children:l.jsx(mkn,{"aria-label":c.title,icon:c.icon||ko,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Bt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Vt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=Jhe(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:y}):l.jsx(_m,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",l.jsx(t3,{reveal:f,loading:i,children:l.jsx(Ve,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:gkn})}function ykn(e){return e!=null}const bkn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},xkn=h.memo(function(t){const{initialValueTemplateItems:n=dn,menuItems:r=dn,menuItemGroups:o=dn,actionHandlers:i=bWt}=t,s=n1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>kRe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(lz),[c]),d=h.useMemo(()=>c.filter(SRe),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(ykn).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>Ff([...f,...n],m=>bkn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(Y,{gap:1,children:[p.length>0&&l.jsx(vkn,{templateItems:p}),u.map(m=>l.jsx(_Re,{node:m},m.key)),d.length>0&&l.jsx(bRe,{nodes:d})]})}),wkn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx($r,{})});function Ckn(e){const{layout:t,value:n}=e;return l.jsx(ch,{...wkn(n._id,n._type),layout:t})}function epe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function _kn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=En(),m=Mi(),{ChildLink:v}=Yc(),g=mC(n),y=!!(i&&i.name&&p.get(i.name)),[x,b]=h.useState(!1),w=h.useMemo(()=>c&&YMe(c)?!i||!y?l.jsx(Ckn,{value:c}):l.jsx(pRe,{documentPreviewStore:m,icon:epe(t,i,Ef),layout:r,schemaType:i,value:c,presence:g}):l.jsx(ch,{status:l.jsx(L,{muted:!0,children:l.jsx(Oc,{})}),icon:epe(t,i,j0e),layout:r,title:a}),[m,y,t,r,i,a,c,g]),C=h.useMemo(()=>function(k){return l.jsx(v,{...k,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){b(!1);return}b(!0)},[]);return h.useEffect(()=>b(!1),[s]),l.jsx(Cp,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const jRe=h.createContext(null);function Mr(){const e=h.useContext(jRe);if(!e)throw new Error("DocumentPane: missing context value");return e}const Skn={NOTHING_TO_DELETE:"This document doesnt yet exist or is already deleted"},TRe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=Mr(),{delete:s}=Yl(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=fh({id:t,type:n,permission:"delete"}),y=Ho();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:ho,disabled:!0,label:"Delete",title:l.jsx(Ic,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:ho,disabled:a||!!s.disabled||g,title:s.disabled&&Skn[s.disabled]||"",label:a?"Deleting":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(yRe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};TRe.action="delete";const kkn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},ARe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=Yl(t,n),[a,c]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"discardDraft"}),f=Ho(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Iu,disabled:!0,label:"Discard changes",title:l.jsx(Ic,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Iu,disabled:!!s.disabled||d,title:s.disabled&&kkn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};ARe.action="discardChanges";const Ekn={NOTHING_TO_DUPLICATE:"This document doesnt yet exist so theres nothing to duplicate"},DRe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=Yl(t,n),{navigateIntent:i}=Bl(),[s,a]=h.useState(!1),[c,u]=fh({id:t,type:n,permission:"duplicate"}),d=Ho(),f=h.useCallback(()=>{const p=ld();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Au,disabled:!0,label:"Duplicate",title:l.jsx(Ic,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Au,disabled:s||!!o.disabled||u,label:s?"Duplicating":"Duplicate",title:o.disabled&&Ekn[o.disabled]||"",onHandle:f}};DRe.action="duplicate";const cz=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=Yl(t,n),s=x3e(t,n),{navigateIntent:a}=Bl(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:B4,dialog:m,disabled:v}};cz.action="restore";const jkn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function Tkn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):jkn[e]}const IRe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=Yl(n,r),d=VN(n,r),f=C3e(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=Mr(),y=zN(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(qMe),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[k,j]=fh({id:n,type:r,permission:"publish"}),E=Ho(),T=Xo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?Tkn(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(b||I(),C(!1))},[_,I,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const V=R?"published":null,H=setTimeout(()=>{c(V)},R?200:4e3);return()=>clearTimeout(H)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(k!=null&&k.granted))return{tone:"positive",label:"Publish",title:l.jsx(Ic,{operationLabel:"publish this document",currentUser:E}),disabled:!0};const $=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing":"Publish",icon:a==="published"?Xs:f0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:P}};IRe.action="publish";const Akn={NOT_PUBLISHED:"This document is not published"},PRe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=Yl(t,n),[a,c]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"unpublish"}),f=Ho(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(yRe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:US,label:"Unpublish",title:l.jsx(Ic,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:US,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?Akn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};PRe.action="unpublish";const Dkn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},Ikn=!1,ORe={},vMn=Symbol("LOADING_PANE"),RRe="documentPanelPortalElement",$Re={activePanes:[]};function yMn(e){$Re.activePanes=e}function Pkn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=$Re.activePanes||[],a=t.id||ld(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:ORe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const Okn={};function Rkn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function $kn(e){return(e||[]).map(t=>t.map(Wkn).join("|")).map(encodeURIComponent).join(";")}function Mkn(e){return JSON.stringify(e)}function Fkn(e){return Ykn(decodeURIComponent(e))}function Lkn(e){return $kn(e)}const Bkn=Hi.create("/",[Hi.intents("/intent"),Hi.create("/edit/:type/:editDocumentId",[Hi.create({path:"/:params",transform:{params:{toState:Rkn,toPath:Mkn}}})]),Hi.create({path:"/:panes",children:[Hi.create("/:action",Hi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:Fkn,toPath:Lkn}}})]),Nkn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,zkn=e=>/^[a-z0-9]+=[^=]+/i.test(e),Vkn=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),MRe=["view","since","rev","inspect","comment"],Hkn=Boolean;function Ukn(e,t){const n={...t,params:Okn,payload:void 0};return e.reduce((r,o)=>{if(zkn(o)){const i=o.slice(0,o.indexOf("=")),s=o.slice(i.length+1);r.params={...r.params,[decodeURIComponent(i)]:decodeURIComponent(s)}}else Vkn(o)?r.payload=Kkn(o):console.warn("Unknown pane segment: %s - skipping",o);return r},n)}function Wkn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:q_e(r),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!MRe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(Hkn).flat()).join(",")||","}function Ykn(e){return e.indexOf(",{")!==-1?qkn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return Ukn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Di(n.params,MRe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function qkn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(Nkn)||[];if(!r){n=n.slice(1);continue}const s=i&&Gkn(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function Gkn(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function Kkn(e){try{return e?Y_e(e):void 0}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}const Zkn=320,Xkn=600,KF=320,Qkn=540,Jkn={},ZF="inspect:",eEn=[{id:"inspectors"},{id:"links"}],XF="sanity/desk/history",tEn="sanity/desk/validation",Cb="sanity/desk/comments";var tpe=Object.freeze,nEn=Object.defineProperty,rEn=(e,t)=>tpe(nEn(e,"raw",{value:tpe(t||e.slice())})),npe;const rpe=O(kwe)(npe||(npe=rEn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),oEn=/[^\p{Alpha}\p{White_Space}]/gu,iEn=new RegExp("\\p{White_Space}+","u");function sEn(e){const t=e.replace(oEn,"").split(iEn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function oD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>sEn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(rpe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(rpe,{...n})}const FRe=25,aEn={minWidth:FRe};function MS(){return l.jsx("div",{style:aEn})}var ope=Object.freeze,lEn=Object.defineProperty,cEn=(e,t)=>ope(lEn(e,"raw",{value:ope(t||e.slice())})),ipe;const uEn={open:500,close:0},spe=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return he(ipe||(ipe=cEn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function LRe(e){const{selected:t,userId:n}=e,[r,o]=r1(n),i=Ho();return!r||o?l.jsx(spe,{children:"@Loading"}):l.jsx(at,{portal:!0,open:t,delay:uEn,content:l.jsxs(Y,{align:"center",padding:2,gap:2,children:[l.jsx(Y,{children:l.jsx(oD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(spe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var ape=Object.freeze,dEn=Object.defineProperty,fEn=(e,t)=>ape(dEn(e,"raw",{value:ape(t||e.slice())})),lpe;const hEn=O(L)(lpe||(lpe=fEn([`
  word-break: break-word;
`])));function $s(e){const{children:t}=e;return l.jsx(hEn,{size:1,children:t})}var cpe=Object.freeze,pEn=Object.defineProperty,mEn=(e,t)=>cpe(pEn(e,"raw",{value:cpe(t||e.slice())})),upe;const gEn=O(re)(()=>he(upe||(upe=mEn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),vEn=[],yEn={block:{normal:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h1:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h2:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h3:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h4:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h5:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h6:e=>{let{children:t}=e;return l.jsx($s,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx($s,{children:t})},code:e=>{let{children:t}=e;return l.jsx($s,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx($s,{children:t})},number:e=>{let{children:t}=e;return l.jsx($s,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx($s,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(LRe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function bEn(e){const{blocks:t}=e;return l.jsx(gEn,{children:l.jsx(G_n,{value:t||vEn,components:yEn})})}const xEn=Ave({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),wEn=Ave({type:"block",name:"block",of:[xEn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),CEn=QMe({type:"array",name:"body",of:[wEn]}),_En=K8.compile({name:"comments",types:[CEn]}),SEn=_En.get("body"),kEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),jEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),TEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function BRe(e){const t=h.useRef(e);return h.useMemo(()=>!Ht(t.current,e),[e])}function yC(e){return e?e==null?void 0:e.some(t=>{var n;return ju(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>qs(r)?r.text:r.userId))}):!1}const NRe=ie.createContext(null);function AEn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=go(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>yC(a),[a]),x=BRe(a),b=h.useCallback(()=>{c||Se.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Se.getSelection(u))},[u]),_=h.useCallback(E=>{const T=Se.getSelection(u),A=T?T.focus.offset:0,D=Se.focusChild(u),I=qs(D)&&D||void 0,P=E.inputType==="insertText",$=E.inputType==="deleteContentBackward",R=P&&E.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,N=(I==null?void 0:I.text.substring(A-1,A))===" ",H=P&&E.data===" "&&!p;if(R&&(A<1||N)){C();return}if(H||$&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(qs(D)){let G=D.text.substring(V+1,A);P&&(G+=E.data),$&&(G=G.substring(0,G.length-1)),m(G)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Se.focus(u),Se.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Se.getSelection(u))},[u]);$i(d,()=>s==null?void 0:s(d));const k=h.useCallback(E=>{var T;const A=u.schemaTypes.inlineObjects.find(P=>P.name==="mention"),[D,I]=v&&Se.findByPath(u,v.focus.path)||[];if(D&&qs(D)&&I&&A){Se.focus(u);const P=(T=Se.getSelection(u))==null?void 0:T.focus.offset;typeof P<"u"&&(Se.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:P}},{mode:"selected"}),Se.insertChild(u,A,{userId:E}),Se.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:k,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[y,w,u,n,r,b,o,x,S,k,i,d,p,_,C,c,a]);return l.jsx(NRe.Provider,{value:j,children:t})}function zRe(){const e=h.useContext(NRe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var dpe=Object.freeze,DEn=Object.defineProperty,IEn=(e,t)=>dpe(DEn(e,"raw",{value:dpe(t||e.slice())})),fpe;const PEn=O(Y)(fpe||(fpe=IEn([""]))),OEn={width:"50%"};function REn(e){const{user:t,onSelect:n}=e,[r]=r1(t.id),o=l.jsx(oD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Ti,{size:1,style:OEn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(ee,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(Y,{align:"center",gap:3,children:[l.jsxs(PEn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(EL,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const hpe=[],$En=O(re)({maxWidth:"220px"}),ppe=41,MEn=4,FEn=7,LEn=O(Y)({maxHeight:ppe*FEn+MEn*2+ppe/2}),BEn=ie.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(REn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||hpe;const g=ZG(a).toLocaleLowerCase(),y=i==null?void 0:i.map(b=>({...b,displayName:ZG(b.displayName||"").toLocaleLowerCase()}));return((v=y==null?void 0:y.filter(b=>{var w;return(w=b==null?void 0:b.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((b,w)=>{var C,_;const S=(C=b.displayName)==null?void 0:C.startsWith(g),k=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!k?-1:!S&&k?1:0}))||hpe},[i,a]);if(r)return l.jsx($En,{children:l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(dr,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(Y,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(LEn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),NEn=e=>{const{children:t}=e;return l.jsx($s,{children:t})},zEn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(LRe,{selected:r,userId:n==null?void 0:n.userId}):t},VEn={passive:!0};function HEn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,VEn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var mpe=Object.freeze,UEn=Object.defineProperty,VRe=(e,t)=>mpe(UEn(e,"raw",{value:mpe(t||e.slice())})),gpe,vpe;const WEn=["bottom","top"],YEn={outline:"none"},ype=[],qEn=O.span(()=>he(gpe||(gpe=VRe([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),GEn=O(en)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return he(vpe||(vpe=VRe([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function KEn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=M0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=zRe(),_=HEn({disabled:!x,rootElement:u.current}),S=h.useCallback(()=>l.jsx(qEn,{children:n}),[n]),k=h.useCallback(()=>{x&&v()},[v,x]);cr(k,[a]);const j=h.useCallback(A=>{switch(A.key){case"Enter":if(A.shiftKey)break;if(A.preventDefault(),A.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(A.preventDefault(),A.stopPropagation(),v());break}i&&i(A)},[m,v,x,i,s]),E=h.useMemo(()=>{if(p)return;const A=(C||ype).slice(-1)[0],D=ju(A)?A.children.slice(-1)[0]:void 0;if(!D)return;const I={path:[{_key:A._key},"children",{_key:D._key}],offset:qs(D)?D.text.length:0};return{focus:I,anchor:I}},[C,p]);h.useEffect(()=>{var A;(A=f.current)==null||A.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Ht(p.anchor,p.focus)&&v()},[x,v,p]);const T=l.jsx(BEn,{inputElement:d.current,loading:y.loading,onSelect:g,options:y.data||ype,ref:f});return l.jsxs("div",{ref:u,children:[l.jsx(GEn,{arrow:!1,constrainSize:!0,content:T,disabled:!x,fallbackPlacements:WEn,open:x,placement:"bottom",ref:c,referenceElement:_}),l.jsx(S5e,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:j,ref:d,renderBlock:NEn,renderChild:zEn,renderPlaceholder:S,selection:E,style:YEn,tabIndex:t?0:void 0})]})}var bpe=Object.freeze,ZEn=Object.defineProperty,uz=(e,t)=>bpe(ZEn(e,"raw",{value:bpe(t||e.slice())})),xpe,wpe,Cpe;const FS=O(M)(xpe||(xpe=uz([`
  max-height: 20vh;
  overflow-y: auto;
`]))),XEn=O(Dr)({height:20,width:1}),_pe=O(se).attrs({fontSize:1,padding:2})(wpe||(wpe=uz([`
  /* border-radius: 50%; */
`]))),QEn=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return he(Cpe||(Cpe=uz([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,FS,FS,FS)});function JEn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=r1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=zRe(),x=c?l.jsx(oD,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(Y,{align:"flex-start",gap:2,children:[x,l.jsx(QEn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:l.jsxs(re,{children:[l.jsx(FS,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(KEn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(Y,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(_pe,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:y,icon:EEn,mode:"bleed",onClick:b}),l.jsx(XEn,{}),l.jsx(_pe,{"aria-label":"Send comment",disabled:!d||!m||y,icon:kEn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const e5n=9999999;function t5n(e){const{onClose:t,onConfirm:n}=e,r=h.useCallback(i=>{i.stopPropagation(),t()},[t]),o=h.useCallback(i=>{i.stopPropagation(),n()},[n]);return l.jsx(vwe,{tone:"default",children:l.jsx(r$,{zOffset:e5n,children:l.jsx(Pi,{header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(Jt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:r}),l.jsx(se,{onClick:o,text:"Discard",tone:"critical"})]}),children:l.jsx(re,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})}const n3=[],n5n={behavior:"smooth",block:"center",inline:"center"},iD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=n3,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),k=h.useRef(null),[j,E]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[I,P]=h.useState(px()),$=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Se.focus(S.current)})},[]),R=h.useCallback(()=>{P(px())},[]),V=h.useCallback(Z=>{if(Z.type==="ready"&&s&&$(),Z.type==="focus"&&_(!0),Z.type==="blur"&&_(!1),Z.type==="patch"&&S.current){const B=Se.getValue(S.current);u(B||n3)}},[s,u,$]),N=h.useCallback(()=>{var Z;(Z=k.current)==null||Z.scrollIntoView(n5n)},[]),H=h.useCallback(()=>{g(),R(),$(),N()},[g,$,R,N]),G=h.useCallback(()=>{f(),R()},[f,R]),U=h.useMemo(()=>({open:()=>{E(!0)},close:()=>{E(!1),$()}}),[$]);h.useImperativeHandle(n,()=>({focus:$,blur(){S.current&&Se.blur(S.current)},scrollTo:N,reset:R,discardDialogController:U}),[U,$,R,N]);const q=h.useCallback(Z=>{if(!i)return;const B=Z.target,W=D.current;if(W&&B===T.current){AL(W);return}W&&B===A.current&&Lp(W)},[i]);return l.jsxs(l.Fragment,{children:[j&&l.jsx(t5n,{onClose:d,onConfirm:G}),l.jsx(re,{ref:k,"data-testid":"comment-input",onFocus:q,children:l.jsx(Se,{onChange:V,readOnly:x,ref:S,schemaType:SEn,value:b||n3,children:l.jsxs(AEn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:[i&&l.jsx("div",{ref:T,tabIndex:0}),l.jsx(re,{ref:D,children:l.jsx(JEn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:H,placeholder:y,withAvatar:w})}),i&&l.jsx("div",{ref:A,tabIndex:0})]})},I)})]})}),r3=3;var Spe=Object.freeze,r5n=Object.defineProperty,o5n=(e,t)=>Spe(r5n(e,"raw",{value:Spe(t||e.slice())})),kpe;const i5n={open:500},s5n=O(L)(kpe||(kpe=o5n([`
  min-width: max-content;
`])));function a5n(e){const{children:t,text:n}=e;return l.jsx(at,{delay:i5n,portal:!0,placement:"top",content:l.jsx(s5n,{size:1,children:n}),padding:2,children:l.jsx(Y,{children:t})})}var Epe=Object.freeze,l5n=Object.defineProperty,c5n=(e,t)=>Epe(l5n(e,"raw",{value:Epe(t||e.slice())})),jpe;const u5n={open:500},d5n={placement:"bottom-end"},f5n=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(jpe||(jpe=c5n([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function h5n(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f}=e,p=!!(o||i||s);return l.jsx(zwe,{delay:u5n,children:l.jsx(Y,{children:l.jsxs(f5n,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(a5n,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(se,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?V5:HS,mode:"bleed",onClick:u,padding:2})}),l.jsx(tn,{id:"comment-actions-menu",button:l.jsx(se,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!p,icon:jo,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{fontSize:1,hidden:!n,icon:Du,onClick:s,text:"Edit comment"}),l.jsx(Ve,{fontSize:1,hidden:!t,icon:ho,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Dr,{hidden:!t&&!n}),l.jsx(Ve,{fontSize:1,hidden:!o,icon:jf,onClick:o,text:"Copy link to comment"})]}),popover:d5n})]})})})}var Tpe=Object.freeze,p5n=Object.defineProperty,s1=(e,t)=>Tpe(p5n(e,"raw",{value:Tpe(t||e.slice())})),Ape,Dpe,Ipe,Ppe,Ope,Rpe;const Py=O(M)(Ape||(Ape=s1([""])));function m5n(e){const{children:t,isParent:n}=e,r=h.useCallback(o=>{o.stopPropagation()},[]);return l.jsx(Py,{"data-root-menu":n?"true":"false",onClick:r,children:t})}const g5n={width:"50%"},$pe=O(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=pe.gray[n?200:800].hex;return he(Dpe||(Dpe=s1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),v5n=O(re)(Ipe||(Ipe=s1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),y5n=O(Y)(Ppe||(Ppe=s1([`
  min-height: `,`px;
`])),FRe),b5n=O(ee)(Ope||(Ope=s1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),x5n=O(re)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(Rpe||(Rpe=s1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Py,n[1],n[1],Py,Py,Py)}),w5n={agoSuffix:!0};function Mpe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=r1(x),[S,k]=h.useState(b),[j,E]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[I,P]=h.useState(!1),$=BRe(S),R=h.useMemo(()=>yC(S),[S]),V=h.useRef(null),N=y?new Date(y):new Date,H=Xo(N,w5n),G=Jo(N,"PPPPp"),U=C?Jo(new Date(C),"PPPPp"):null,q=i||a,Z=h.useCallback(()=>P(!0),[]),B=h.useCallback(()=>P(!1),[]),W=h.useCallback(()=>u==null?void 0:u(w),[w,u]),z=h.useCallback(Ae=>{Ae.stopPropagation(),d==null||d(w)},[w,d]),X=h.useCallback(()=>f(w),[w,f]),Q=h.useCallback(()=>{E(!1),k(D.current)},[]),ne=h.useCallback(()=>{var Ae;if(!R||!$){Q();return}(Ae=V.current)==null||Ae.discardDialogController.open()},[Q,$,R]),K=h.useCallback(Ae=>{Ae.isDefaultPrevented()||(Ae.key==="Escape"&&(Ae.preventDefault(),Ae.stopPropagation(),ne()),m&&m(Ae))},[m,ne]),J=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close()},[]),oe=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close(),Q()},[Q]),fe=h.useCallback(()=>{p(w,{message:S}),E(!1)},[w,p,S]),ae=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ge=h.useCallback(()=>{E(Ae=>!Ae)},[]),xe=h.useCallback(()=>P(!1),[]),ce=h.useCallback(()=>{$||Q()},[Q,$]),ve=h.useCallback(Ae=>{Ae.key==="Escape"&&!$&&Q()},[Q,$]);$i(j,xe),cr(ce,[T]);const $e=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Ti,{size:1,style:g5n});return l.jsxs(x5n,{"data-menu-open":I?"true":"false",onKeyDown:ve,ref:A,space:4,children:[l.jsxs(v5n,{space:1,"data-muted":q,children:[l.jsxs(Y,{align:"center",gap:r3,flex:1,children:[l.jsx(oD,{user:_}),l.jsx(Y,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(Y,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:$e}),!q&&l.jsxs(Y,{align:"center",gap:1,children:[l.jsx($pe,{muted:!0,size:0,title:G,children:H}),U&&l.jsx($pe,{muted:!0,size:0,title:U,children:"(edited)"})]})]})}),!j&&!q&&l.jsx(m5n,{isParent:s,children:l.jsx(h5n,{canDelete:t,canEdit:n,isParent:s,onCopyLink:W,onDeleteStart:X,onEditStart:ge,onMenuClose:B,onMenuOpen:Z,onStatusChange:ae,readOnly:g,status:r.status})})]}),j&&l.jsxs(Y,{align:"flex-start",gap:2,children:[l.jsx(MS,{}),l.jsx(re,{flex:1,children:l.jsx(iD,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:k,onDiscardCancel:J,onDiscardConfirm:oe,onKeyDown:K,onSubmit:fe,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&l.jsxs(Y,{gap:r3,children:[l.jsx(MS,{}),l.jsx(bEn,{blocks:b})]})]}),q&&l.jsxs(y5n,{gap:r3,children:[l.jsx(MS,{}),l.jsxs(Y,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(Y,{hidden:a,children:l.jsx(b5n,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:z,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Fpe=Object.freeze,C5n=Object.defineProperty,_5n=(e,t)=>Fpe(C5n(e,"raw",{value:Fpe(t||e.slice())})),Lpe;const HRe=O(ee).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(Lpe||(Lpe=_5n([`
  // ...
`])));var Bpe=Object.freeze,S5n=Object.defineProperty,dz=(e,t)=>Bpe(S5n(e,"raw",{value:Bpe(t||e.slice())})),Npe,zpe,Vpe;const iy=[],sy=5,k5n=O(HRe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return he(Npe||(Npe=dz([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When the comment is not selected, we want to apply hover styles.
    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),E5n=O(se)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return he(zpe||(zpe=dz([`
    font-weight: `,`;
  `])),n)}),j5n=O(se)(Vpe||(Vpe=dz([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),T5n=ie.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:y,readOnly:x,replies:b=iy}=t,[w,C]=h.useState(iy),[_,S]=h.useState(!0),k=h.useRef(!1),j=h.useRef(null),E=h.useMemo(()=>yC(w),[w]),[T,A]=h.useState(!1),D=h.useCallback(()=>A(!0),[]),I=h.useCallback(()=>A(!1),[]),P=h.useCallback(()=>{const W={fieldPath:y.target.path.field,message:w,parentCommentId:y._id,status:(y==null?void 0:y.status)||"open",threadId:y.threadId};v==null||v(W),C(iy)},[v,y._id,y==null?void 0:y.status,y.target.path.field,y.threadId,w]),$=h.useCallback(()=>{var W;if(!E){C(iy);return}(W=j.current)==null||W.discardDialogController.open()},[E]),R=h.useCallback(W=>{W.isDefaultPrevented()||W.key==="Escape"&&(W.preventDefault(),W.stopPropagation(),$())},[$]),V=h.useCallback(()=>{var W;(W=j.current)==null||W.discardDialogController.close()},[]),N=h.useCallback(()=>{var W,z;C(iy),(W=j.current)==null||W.discardDialogController.close(),(z=j.current)==null||z.focus()},[]),H=h.useCallback(W=>{W.stopPropagation(),m==null||m({fieldPath:y.target.path.field,origin:"inspector",threadId:y.threadId})},[m,y.target.path.field,y.threadId]),G=h.useCallback(W=>{W.stopPropagation(),S(!1),k.current=!0},[]),U=h.useMemo(()=>_?b==null?void 0:b.slice(-sy):b,[b,_]),q=h.useMemo(()=>b?b.length>sy:!1,[b]),Z=h.useMemo(()=>"".concat((b==null?void 0:b.length)-sy," more ").concat((b==null?void 0:b.length)-sy===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>sy&&!k.current&&S(!0)},[b]);const B=h.useMemo(()=>U.map(W=>{var z,X;return l.jsx(re,{as:"li","data-comment-id":W._id,children:l.jsx(Mpe,{canDelete:W.authorId===i.id,canEdit:W.authorId===i.id,comment:W,currentUser:i,hasError:((z=W._state)==null?void 0:z.type)==="createError",isRetrying:((X=W._state)==null?void 0:X.type)==="createRetrying",mentionOptions:a,onInputKeyDown:R,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},W._id)}),[i,R,a,c,u,d,f,x,U]);return l.jsx(re,{space:2,children:l.jsxs(k5n,{"data-active":s?"true":"false","data-hovered":T?"true":"false",onClick:H,onMouseEnter:D,onMouseLeave:I,tone:s?"primary":void 0,children:[l.jsx(j5n,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(re,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(re,{as:"li","data-comment-id":y._id,children:l.jsx(Mpe,{canDelete:y.authorId===i.id,canEdit:y.authorId===i.id,comment:y,currentUser:i,hasError:((n=y._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=y._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),q&&!k.current&&l.jsxs(Y,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(MS,{}),l.jsx(E5n,{fontSize:1,iconRight:qa,mode:"bleed",onClick:G,padding:2,space:2,text:Z})]}),B,o&&l.jsx(iD,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:V,onDiscardConfirm:N,onKeyDown:R,onSubmit:P,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),A5n={close:0,open:500},Hpe=l.jsx(L,{muted:!0,children:l.jsx(Oc,{})}),o3=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function D5n(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(at,{delay:A5n,content:l.jsx(re,{space:2,padding:2,children:i.map(o3)}),children:l.jsx(M,{children:o3("...",s)})}),c&&Hpe]},a):l.jsxs(h.Fragment,{children:[o3(i,s),c&&Hpe]},a)}),[r]);return l.jsx(Y,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const I5n=4,Upe=0,Wpe=1,P5n=2;function a1(e){let t=e.length;for(;--t>=0;)e[t]=0}const O5n=0,URe=1,R5n=2,$5n=3,M5n=258,fz=29,bC=256,Nx=bC+1+fz,Cv=30,hz=19,WRe=2*Nx+1,cp=15,i3=16,F5n=7,pz=256,YRe=16,qRe=17,GRe=18,QF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),LS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),L5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),KRe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B5n=512,cu=new Array((Nx+2)*2);a1(cu);const _b=new Array(Cv*2);a1(_b);const zx=new Array(B5n);a1(zx);const Vx=new Array(M5n-$5n+1);a1(Vx);const mz=new Array(fz);a1(mz);const C5=new Array(Cv);a1(C5);function s3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let ZRe,XRe,QRe;function a3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const JRe=e=>e<256?zx[e]:zx[256+(e>>>7)],Hx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},xs=(e,t,n)=>{e.bi_valid>i3-n?(e.bi_buf|=t<<e.bi_valid&65535,Hx(e,e.bi_buf),e.bi_buf=t>>i3-e.bi_valid,e.bi_valid+=n-i3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},gc=(e,t,n)=>{xs(e,n[t*2],n[t*2+1])},e$e=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},N5n=e=>{e.bi_valid===16?(Hx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},z5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=cp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<WRe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},t$e=(e,t,n)=>{const r=new Array(cp+1);let o=0,i,s;for(i=1;i<=cp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=e$e(r[a]++,a))}},V5n=()=>{let e,t,n,r,o;const i=new Array(cp+1);for(n=0,r=0;r<fz-1;r++)for(mz[r]=n,e=0;e<1<<QF[r];e++)Vx[n++]=r;for(Vx[n-1]=r,o=0,r=0;r<16;r++)for(C5[r]=o,e=0;e<1<<LS[r];e++)zx[o++]=r;for(o>>=7;r<Cv;r++)for(C5[r]=o<<7,e=0;e<1<<LS[r]-7;e++)zx[256+o++]=r;for(t=0;t<=cp;t++)i[t]=0;for(e=0;e<=143;)cu[e*2+1]=8,e++,i[8]++;for(;e<=255;)cu[e*2+1]=9,e++,i[9]++;for(;e<=279;)cu[e*2+1]=7,e++,i[7]++;for(;e<=287;)cu[e*2+1]=8,e++,i[8]++;for(t$e(cu,Nx+1,i),e=0;e<Cv;e++)_b[e*2+1]=5,_b[e*2]=e$e(e,5);ZRe=new s3(cu,QF,bC+1,Nx,cp),XRe=new s3(_b,LS,0,Cv,cp),QRe=new s3(new Array(0),L5n,0,hz,F5n)},n$e=e=>{let t;for(t=0;t<Nx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Cv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<hz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[pz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},r$e=e=>{e.bi_valid>8?Hx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ype=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},l3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Ype(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Ype(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},qpe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?gc(e,o,t):(s=Vx[o],gc(e,s+bC+1,t),a=QF[s],a!==0&&(o-=mz[s],xs(e,o,a)),r--,s=JRe(r),gc(e,s,n),a=LS[s],a!==0&&(r-=C5[s],xs(e,r,a)));while(i<e.sym_next);gc(e,pz,t)},JF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=WRe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)l3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],l3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,l3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],z5n(e,t),t$e(n,c,e.bl_count)},Gpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[YRe*2]++):a<=10?e.bl_tree[qRe*2]++:e.bl_tree[GRe*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Kpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do gc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(gc(e,i,e.bl_tree),a--),gc(e,YRe,e.bl_tree),xs(e,a-3,2)):a<=10?(gc(e,qRe,e.bl_tree),xs(e,a-3,3)):(gc(e,GRe,e.bl_tree),xs(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},H5n=e=>{let t;for(Gpe(e,e.dyn_ltree,e.l_desc.max_code),Gpe(e,e.dyn_dtree,e.d_desc.max_code),JF(e,e.bl_desc),t=hz-1;t>=3&&e.bl_tree[KRe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},U5n=(e,t,n,r)=>{let o;for(xs(e,t-257,5),xs(e,n-1,5),xs(e,r-4,4),o=0;o<r;o++)xs(e,e.bl_tree[KRe[o]*2+1],3);Kpe(e,e.dyn_ltree,t-1),Kpe(e,e.dyn_dtree,n-1)},W5n=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Upe;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Wpe;for(n=32;n<bC;n++)if(e.dyn_ltree[n*2]!==0)return Wpe;return Upe};let Zpe=!1;const Y5n=e=>{Zpe||(V5n(),Zpe=!0),e.l_desc=new a3(e.dyn_ltree,ZRe),e.d_desc=new a3(e.dyn_dtree,XRe),e.bl_desc=new a3(e.bl_tree,QRe),e.bi_buf=0,e.bi_valid=0,n$e(e)},o$e=(e,t,n,r)=>{xs(e,(O5n<<1)+(r?1:0),3),r$e(e),Hx(e,n),Hx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},q5n=e=>{xs(e,URe<<1,3),gc(e,pz,cu),N5n(e)},G5n=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===P5n&&(e.strm.data_type=W5n(e)),JF(e,e.l_desc),JF(e,e.d_desc),s=H5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?o$e(e,t,n,r):e.strategy===I5n||i===o?(xs(e,(URe<<1)+(r?1:0),3),qpe(e,cu,_b)):(xs(e,(R5n<<1)+(r?1:0),3),U5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),qpe(e,e.dyn_ltree,e.dyn_dtree)),n$e(e),r&&r$e(e)},K5n=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Vx[n]+bC+1)*2]++,e.dyn_dtree[JRe(t)*2]++),e.sym_next===e.sym_end);var Z5n=Y5n,X5n=o$e,Q5n=G5n,J5n=K5n,ejn=q5n,tjn={_tr_init:Z5n,_tr_stored_block:X5n,_tr_flush_block:Q5n,_tr_tally:J5n,_tr_align:ejn};const njn=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Ux=njn;const rjn=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},ojn=new Uint32Array(rjn()),ijn=(e,t,n,r)=>{const o=ojn,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Io=ijn,tm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:sjn,_tr_stored_block:e4,_tr_flush_block:ajn,_tr_tally:Cf,_tr_align:ljn}=tjn,{Z_NO_FLUSH:_f,Z_PARTIAL_FLUSH:cjn,Z_FULL_FLUSH:ujn,Z_FINISH:Ta,Z_BLOCK:Xpe,Z_OK:qo,Z_STREAM_END:Qpe,Z_STREAM_ERROR:kc,Z_DATA_ERROR:djn,Z_BUF_ERROR:c3,Z_DEFAULT_COMPRESSION:fjn,Z_FILTERED:hjn,Z_HUFFMAN_ONLY:p2,Z_RLE:pjn,Z_FIXED:mjn,Z_DEFAULT_STRATEGY:gjn,Z_UNKNOWN:vjn,Z_DEFLATED:sD}=Lm,yjn=9,bjn=15,xjn=8,wjn=29,Cjn=256,t4=Cjn+1+wjn,_jn=30,Sjn=19,kjn=2*t4+1,Ejn=15,qt=3,of=258,Ec=of+qt+1,jjn=32,i0=42,gz=57,n4=69,r4=73,o4=91,i4=103,up=113,Oy=666,qi=1,l1=2,nm=3,c1=4,Tjn=3,dp=(e,t)=>(e.msg=tm[t],t),Jpe=e=>e*2-(e>4?9:0),Nd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ajn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let Djn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Sf=Djn;const Ms=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Ys=(e,t)=>{ajn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ms(e.strm)},mn=(e,t)=>{e.pending_buf[e.pending++]=t},ay=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},s4=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Ux(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Io(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},i$e=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Ec?e.strstart-(e.w_size-Ec):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+of;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=of-(p-r),r=p-of,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},s0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ec)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ajn(e),r+=t),e.strm.avail_in===0)break;if(n=s4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=qt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Sf(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Sf(e,e.ins_h,e.window[o+qt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<qt)););}while(e.lookahead<Ec&&e.strm.avail_in!==0)},s$e=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ta||t===_f||r!==o+e.strm.avail_in)))break;s=t===Ta&&r===o+e.strm.avail_in?1:0,e4(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ms(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(s4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?c1:t!==_f&&t!==Ta&&e.strm.avail_in===0&&e.strstart===e.block_start?l1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(s4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ta)&&t!==_f&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ta&&e.strm.avail_in===0&&r===o?1:0,e4(e,e.block_start,r,s),e.block_start+=r,Ms(e.strm)),s?nm:qi)},u3=(e,t)=>{let n,r;for(;;){if(e.lookahead<Ec){if(s0(e),e.lookahead<Ec&&t===_f)return qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=Sf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Ec&&(e.match_length=i$e(e,n)),e.match_length>=qt)if(r=Cf(e,e.strstart-e.match_start,e.match_length-qt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=qt){e.match_length--;do e.strstart++,e.ins_h=Sf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Sf(e,e.ins_h,e.window[e.strstart+1]);else r=Cf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ys(e,!1),e.strm.avail_out===0))return qi}return e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ta?(Ys(e,!0),e.strm.avail_out===0?nm:c1):e.sym_next&&(Ys(e,!1),e.strm.avail_out===0)?qi:l1},rg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Ec){if(s0(e),e.lookahead<Ec&&t===_f)return qi;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=Sf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=qt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ec&&(e.match_length=i$e(e,n),e.match_length<=5&&(e.strategy===hjn||e.match_length===qt&&e.strstart-e.match_start>4096)&&(e.match_length=qt-1)),e.prev_length>=qt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-qt,r=Cf(e,e.strstart-1-e.prev_match,e.prev_length-qt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=Sf(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=qt-1,e.strstart++,r&&(Ys(e,!1),e.strm.avail_out===0))return qi}else if(e.match_available){if(r=Cf(e,0,e.window[e.strstart-1]),r&&Ys(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return qi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Cf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ta?(Ys(e,!0),e.strm.avail_out===0?nm:c1):e.sym_next&&(Ys(e,!1),e.strm.avail_out===0)?qi:l1},Ijn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=of){if(s0(e),e.lookahead<=of&&t===_f)return qi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=qt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+of;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=of-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=qt?(n=Cf(e,1,e.match_length-qt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Cf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ys(e,!1),e.strm.avail_out===0))return qi}return e.insert=0,t===Ta?(Ys(e,!0),e.strm.avail_out===0?nm:c1):e.sym_next&&(Ys(e,!1),e.strm.avail_out===0)?qi:l1},Pjn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(s0(e),e.lookahead===0)){if(t===_f)return qi;break}if(e.match_length=0,n=Cf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ys(e,!1),e.strm.avail_out===0))return qi}return e.insert=0,t===Ta?(Ys(e,!0),e.strm.avail_out===0?nm:c1):e.sym_next&&(Ys(e,!1),e.strm.avail_out===0)?qi:l1};function Ql(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Ry=[new Ql(0,0,0,0,s$e),new Ql(4,4,8,4,u3),new Ql(4,5,16,8,u3),new Ql(4,6,32,32,u3),new Ql(4,4,16,16,rg),new Ql(8,16,32,32,rg),new Ql(8,16,128,128,rg),new Ql(8,32,128,256,rg),new Ql(32,128,258,1024,rg),new Ql(32,258,258,4096,rg)],Ojn=e=>{e.window_size=2*e.w_size,Nd(e.head),e.max_lazy_match=Ry[e.level].max_lazy,e.good_match=Ry[e.level].good_length,e.nice_match=Ry[e.level].nice_length,e.max_chain_length=Ry[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=qt-1,e.match_available=0,e.ins_h=0};function Rjn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=sD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(kjn*2),this.dyn_dtree=new Uint16Array((2*_jn+1)*2),this.bl_tree=new Uint16Array((2*Sjn+1)*2),Nd(this.dyn_ltree),Nd(this.dyn_dtree),Nd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ejn+1),this.heap=new Uint16Array(2*t4+1),Nd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*t4+1),Nd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const xC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==i0&&t.status!==gz&&t.status!==n4&&t.status!==r4&&t.status!==o4&&t.status!==i4&&t.status!==up&&t.status!==Oy?1:0},a$e=e=>{if(xC(e))return dp(e,kc);e.total_in=e.total_out=0,e.data_type=vjn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?gz:t.wrap?i0:up,e.adler=t.wrap===2?0:1,t.last_flush=-2,sjn(t),qo},l$e=e=>{const t=a$e(e);return t===qo&&Ojn(e.state),t},$jn=(e,t)=>xC(e)||e.state.wrap!==2?kc:(e.state.gzhead=t,qo),c$e=(e,t,n,r,o,i)=>{if(!e)return kc;let s=1;if(t===fjn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>yjn||n!==sD||r<8||r>15||t<0||t>9||i<0||i>mjn||r===8&&s!==1)return dp(e,kc);r===8&&(r=9);const a=new Rjn;return e.state=a,a.strm=e,a.status=i0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+qt-1)/qt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,l$e(e)},Mjn=(e,t)=>c$e(e,t,sD,bjn,xjn,gjn),Fjn=(e,t)=>{if(xC(e)||t>Xpe||t<0)return e?dp(e,kc):kc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Oy&&t!==Ta)return dp(e,e.avail_out===0?c3:kc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ms(e),e.avail_out===0)return n.last_flush=-1,qo}else if(e.avail_in===0&&Jpe(t)<=Jpe(r)&&t!==Ta)return dp(e,c3);if(n.status===Oy&&e.avail_in!==0)return dp(e,c3);if(n.status===i0&&n.wrap===0&&(n.status=up),n.status===i0){let o=sD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=p2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=jjn),o+=31-o%31,ay(n,o),n.strstart!==0&&(ay(n,e.adler>>>16),ay(n,e.adler&65535)),e.adler=1,n.status=up,Ms(e),n.pending!==0)return n.last_flush=-1,qo}if(n.status===gz){if(e.adler=0,mn(n,31),mn(n,139),mn(n,8),n.gzhead)mn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),mn(n,n.gzhead.time&255),mn(n,n.gzhead.time>>8&255),mn(n,n.gzhead.time>>16&255),mn(n,n.gzhead.time>>24&255),mn(n,n.level===9?2:n.strategy>=p2||n.level<2?4:0),mn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(mn(n,n.gzhead.extra.length&255),mn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Io(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=n4;else if(mn(n,0),mn(n,0),mn(n,0),mn(n,0),mn(n,0),mn(n,n.level===9?2:n.strategy>=p2||n.level<2?4:0),mn(n,Tjn),n.status=up,Ms(e),n.pending!==0)return n.last_flush=-1,qo}if(n.status===n4){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Ms(e),n.pending!==0)return n.last_flush=-1,qo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=r4}if(n.status===r4){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,qo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,mn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=o4}if(n.status===o4){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,qo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,mn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o))}n.status=i4}if(n.status===i4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ms(e),n.pending!==0))return n.last_flush=-1,qo;mn(n,e.adler&255),mn(n,e.adler>>8&255),e.adler=0}if(n.status=up,Ms(e),n.pending!==0)return n.last_flush=-1,qo}if(e.avail_in!==0||n.lookahead!==0||t!==_f&&n.status!==Oy){let o=n.level===0?s$e(n,t):n.strategy===p2?Pjn(n,t):n.strategy===pjn?Ijn(n,t):Ry[n.level].func(n,t);if((o===nm||o===c1)&&(n.status=Oy),o===qi||o===nm)return e.avail_out===0&&(n.last_flush=-1),qo;if(o===l1&&(t===cjn?ljn(n):t!==Xpe&&(e4(n,0,0,!1),t===ujn&&(Nd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ms(e),e.avail_out===0))return n.last_flush=-1,qo}return t!==Ta?qo:n.wrap<=0?Qpe:(n.wrap===2?(mn(n,e.adler&255),mn(n,e.adler>>8&255),mn(n,e.adler>>16&255),mn(n,e.adler>>24&255),mn(n,e.total_in&255),mn(n,e.total_in>>8&255),mn(n,e.total_in>>16&255),mn(n,e.total_in>>24&255)):(ay(n,e.adler>>>16),ay(n,e.adler&65535)),Ms(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?qo:Qpe)},Ljn=e=>{if(xC(e))return kc;const t=e.state.status;return e.state=null,t===up?dp(e,djn):qo},Bjn=(e,t)=>{let n=t.length;if(xC(e))return kc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==i0||r.lookahead)return kc;if(o===1&&(e.adler=Ux(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Nd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,s0(r);r.lookahead>=qt;){let c=r.strstart,u=r.lookahead-(qt-1);do r.ins_h=Sf(r,r.ins_h,r.window[c+qt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=qt-1,s0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=qt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,qo};var Njn=Mjn,zjn=c$e,Vjn=l$e,Hjn=a$e,Ujn=$jn,Wjn=Fjn,Yjn=Ljn,qjn=Bjn,Gjn="pako deflate (from Nodeca project)",Sb={deflateInit:Njn,deflateInit2:zjn,deflateReset:Vjn,deflateResetKeep:Hjn,deflateSetHeader:Ujn,deflate:Wjn,deflateEnd:Yjn,deflateSetDictionary:qjn,deflateInfo:Gjn};const Kjn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Zjn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Kjn(n,r)&&(e[r]=n[r])}}return e},Xjn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},aD={assign:Zjn,flattenChunks:Xjn};let u$e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u$e=!1}const Wx=new Uint8Array(256);for(let e=0;e<256;e++)Wx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Wx[254]=Wx[254]=1;var Qjn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const Jjn=(e,t)=>{if(t<65534&&e.subarray&&u$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var eTn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Wx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return Jjn(i,o)},tTn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Wx[e[n]]>t?n:t},Yx={string2buf:Qjn,buf2string:eTn,utf8border:tTn};function nTn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var d$e=nTn;const f$e=Object.prototype.toString,{Z_NO_FLUSH:rTn,Z_SYNC_FLUSH:oTn,Z_FULL_FLUSH:iTn,Z_FINISH:sTn,Z_OK:_5,Z_STREAM_END:aTn,Z_DEFAULT_COMPRESSION:lTn,Z_DEFAULT_STRATEGY:cTn,Z_DEFLATED:uTn}=Lm;function wC(e){this.options=aD.assign({level:lTn,method:uTn,chunkSize:16384,windowBits:15,memLevel:8,strategy:cTn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d$e,this.strm.avail_out=0;let n=Sb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==_5)throw new Error(tm[n]);if(t.header&&Sb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Yx.string2buf(t.dictionary):f$e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Sb.deflateSetDictionary(this.strm,r),n!==_5)throw new Error(tm[n]);this._dict_set=!0}}wC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?sTn:rTn,typeof e=="string"?n.input=Yx.string2buf(e):f$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===oTn||i===iTn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Sb.deflate(n,i),o===aTn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Sb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===_5;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};wC.prototype.onData=function(e){this.chunks.push(e)};wC.prototype.onEnd=function(e){e===_5&&(this.result=aD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function vz(e,t){const n=new wC(t);if(n.push(e,!0),n.err)throw n.msg||tm[n.err];return n.result}function dTn(e,t){return t=t||{},t.raw=!0,vz(e,t)}function fTn(e,t){return t=t||{},t.gzip=!0,vz(e,t)}var hTn=wC,pTn=vz,mTn=dTn,gTn=fTn,vTn=Lm,yTn={Deflate:hTn,deflate:pTn,deflateRaw:mTn,gzip:gTn,constants:vTn};const m2=16209,bTn=16191;var xTn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_,S,k,j,E,T;const A=t.state;r=t.next_in,E=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=E[r++]<<v,v+=8,m+=E[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=E[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=E[r++]<<v,v+=8,m+=E[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=E[r++]<<v,v+=8,v<C&&(m+=E[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=m2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=m2;break e}if(k=0,j=p,f===0){if(k+=u-C,C<_){_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}}else if(f<C){if(k+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[k++];while(--C);if(k=0,f<_){C=f,_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}}}else if(k+=f-C,C<_){_-=C;do T[i++]=p[k++];while(--C);k=i-S,j=T}for(;_>2;)T[i++]=j[k++],T[i++]=j[k++],T[i++]=j[k++],_-=3;_&&(T[i++]=j[k++],_>1&&(T[i++]=j[k++]))}else{k=i-S;do T[i++]=T[k++],T[i++]=T[k++],T[i++]=T[k++],_-=3;while(_>2);_&&(T[i++]=T[k++],_>1&&(T[i++]=T[k++]))}}else if(C&64){t.msg="invalid distance code",A.mode=m2;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=bTn;break e}else{t.msg="invalid literal/length code",A.mode=m2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const og=15,eme=852,tme=592,nme=0,d3=1,rme=2,wTn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),CTn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_Tn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),STn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kTn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,k,j=null,E;const T=new Uint16Array(og+1),A=new Uint16Array(og+1);let D=null,I,P,$;for(u=0;u<=og;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=og;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=og;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===nme||p!==1))return-1;for(A[1]=0,u=1;u<og;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===nme?(j=D=s,E=20):e===d3?(j=wTn,D=CTn,E=257):(j=_Tn,D=STn,E=0),b=0,d=0,u=f,k=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===d3&&x>eme||e===rme&&x>tme)return 1;for(;;){I=u-g,s[d]+1<E?(P=0,$=s[d]):s[d]>=E?(P=D[s[d]-E],$=j[s[d]-E]):(P=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[k+(b>>g)+C]=I<<24|P<<16|$|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),k+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===d3&&x>eme||e===rme&&x>tme)return 1;_=b&S,o[_]=m<<24|v<<16|k-i|0}}return b!==0&&(o[k+b]=u-g<<24|64<<16|0),a.bits=m,0};var kb=kTn;const ETn=0,h$e=1,p$e=2,{Z_FINISH:ome,Z_BLOCK:jTn,Z_TREES:g2,Z_OK:rm,Z_STREAM_END:TTn,Z_NEED_DICT:ATn,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:m$e,Z_MEM_ERROR:g$e,Z_BUF_ERROR:DTn,Z_DEFLATED:ime}=Lm,lD=16180,sme=16181,ame=16182,lme=16183,cme=16184,ume=16185,dme=16186,fme=16187,hme=16188,pme=16189,S5=16190,tu=16191,f3=16192,mme=16193,h3=16194,gme=16195,vme=16196,yme=16197,bme=16198,v2=16199,y2=16200,xme=16201,wme=16202,Cme=16203,_me=16204,Sme=16205,p3=16206,kme=16207,Eme=16208,gr=16209,v$e=16210,y$e=16211,ITn=852,PTn=592,OTn=15,RTn=OTn,jme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $Tn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<lD||t.mode>y$e?1:0},b$e=e=>{if(Bm(e))return Ha;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=lD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ITn),t.distcode=t.distdyn=new Int32Array(PTn),t.sane=1,t.back=-1,rm},x$e=e=>{if(Bm(e))return Ha;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,b$e(e)},w$e=(e,t)=>{let n;if(Bm(e))return Ha;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ha:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,x$e(e))},C$e=(e,t)=>{if(!e)return Ha;const n=new $Tn;e.state=n,n.strm=e,n.window=null,n.mode=lD;const r=w$e(e,t);return r!==rm&&(e.state=null),r},MTn=e=>C$e(e,RTn);let Tme=!0,m3,g3;const FTn=e=>{if(Tme){m3=new Int32Array(512),g3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(kb(h$e,e.lens,0,288,m3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;kb(p$e,e.lens,0,32,g3,0,e.work,{bits:5}),Tme=!1}e.lencode=m3,e.lenbits=9,e.distcode=g3,e.distbits=5},_$e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},LTn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,k,j;const E=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bm(e)||!e.output||!e.input&&e.avail_in!==0)return Ha;n=e.state,n.mode===tu&&(n.mode=f3),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=rm;e:for(;;)switch(n.mode){case lD:if(n.wrap===0){n.mode=f3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=Io(n.check,E,2,0),u=0,d=0,n.mode=sme;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=gr;break}if((u&15)!==ime){e.msg="unknown compression method",n.mode=gr;break}if(u>>>=4,d-=4,k=(u&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=gr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?pme:tu,u=0,d=0;break;case sme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==ime){e.msg="unknown compression method",n.mode=gr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=gr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Io(n.check,E,2,0)),u=0,d=0,n.mode=ame;case ame:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=Io(n.check,E,4,0)),u=0,d=0,n.mode=lme;case lme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Io(n.check,E,2,0)),u=0,d=0,n.mode=cme;case cme:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=Io(n.check,E,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=ume;case ume:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),k)),n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=dme;case dme:if(n.flags&2048){if(a===0)break e;m=0;do k=r[i+m++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=fme;case fme:if(n.flags&4096){if(a===0)break e;m=0;do k=r[i+m++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,k)break e}else n.head&&(n.head.comment=null);n.mode=hme;case hme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=gr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=tu;break;case pme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=jme(u),u=0,d=0,n.mode=S5;case S5:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,ATn;e.adler=n.check=1,n.mode=tu;case tu:if(t===jTn||t===g2)break e;case f3:if(n.last){u>>>=d&7,d-=d&7,n.mode=p3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=mme;break;case 1:if(FTn(n),n.mode=v2,t===g2){u>>>=2,d-=2;break e}break;case 2:n.mode=vme;break;case 3:e.msg="invalid block type",n.mode=gr}u>>>=2,d-=2;break;case mme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=gr;break}if(n.length=u&65535,u=0,d=0,n.mode=h3,t===g2)break e;case h3:n.mode=gme;case gme:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=tu;break;case vme:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=gr;break}n.have=0,n.mode=yme;case yme:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=kb(ETn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=gr;break}n.have=0,n.mode=bme;case bme:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=gr;break}k=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,k=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,k=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=gr;break}for(;m--;)n.lens[n.have++]=k}}if(n.mode===gr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=gr;break}if(n.lenbits=9,T={bits:n.lenbits},j=kb(h$e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=gr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=kb(p$e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=gr;break}if(n.mode=v2,t===g2)break e;case v2:n.mode=y2;case y2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,xTn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===tu&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=Sme;break}if(b&32){n.back=-1,n.mode=tu;break}if(b&64){e.msg="invalid literal/length code",n.mode=gr;break}n.extra=b&15,n.mode=xme;case xme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=wme;case wme:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=gr;break}n.offset=w,n.extra=b&15,n.mode=Cme;case Cme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=gr;break}n.mode=_me;case _me:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=gr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=y2);break;case Sme:if(c===0)break e;o[s++]=n.length,c--,n.mode=y2;break;case p3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Io(n.check,o,p,s-p):Ux(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:jme(u))!==n.check){e.msg="incorrect data check",n.mode=gr;break}u=0,d=0}n.mode=kme;case kme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=gr;break}u=0,d=0}n.mode=Eme;case Eme:j=TTn;break e;case gr:j=m$e;break e;case v$e:return g$e;case y$e:default:return Ha}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<gr&&(n.mode<p3||t!==ome))&&_$e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Io(n.check,o,p,e.next_out-p):Ux(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===tu?128:0)+(n.mode===v2||n.mode===h3?256:0),(f===0&&p===0||t===ome)&&j===rm&&(j=DTn),j},BTn=e=>{if(Bm(e))return Ha;let t=e.state;return t.window&&(t.window=null),e.state=null,rm},NTn=(e,t)=>{if(Bm(e))return Ha;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,rm):Ha},zTn=(e,t)=>{const n=t.length;let r,o,i;return Bm(e)||(r=e.state,r.wrap!==0&&r.mode!==S5)?Ha:r.mode===S5&&(o=1,o=Ux(o,t,n,0),o!==r.check)?m$e:(i=_$e(e,t,n,n),i?(r.mode=v$e,g$e):(r.havedict=1,rm))};var VTn=x$e,HTn=w$e,UTn=b$e,WTn=MTn,YTn=C$e,qTn=LTn,GTn=BTn,KTn=NTn,ZTn=zTn,XTn="pako inflate (from Nodeca project)",uu={inflateReset:VTn,inflateReset2:HTn,inflateResetKeep:UTn,inflateInit:WTn,inflateInit2:YTn,inflate:qTn,inflateEnd:GTn,inflateGetHeader:KTn,inflateSetDictionary:ZTn,inflateInfo:XTn};function QTn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JTn=QTn;const S$e=Object.prototype.toString,{Z_NO_FLUSH:eAn,Z_FINISH:tAn,Z_OK:qx,Z_STREAM_END:v3,Z_NEED_DICT:y3,Z_STREAM_ERROR:nAn,Z_DATA_ERROR:Ame,Z_MEM_ERROR:rAn}=Lm;function CC(e){this.options=aD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d$e,this.strm.avail_out=0;let n=uu.inflateInit2(this.strm,t.windowBits);if(n!==qx)throw new Error(tm[n]);if(this.header=new JTn,uu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Yx.string2buf(t.dictionary):S$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=uu.inflateSetDictionary(this.strm,t.dictionary),n!==qx)))throw new Error(tm[n])}CC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?tAn:eAn,S$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=uu.inflate(n,s),i===y3&&o&&(i=uu.inflateSetDictionary(n,o),i===qx?i=uu.inflate(n,s):i===Ame&&(i=y3));n.avail_in>0&&i===v3&&n.state.wrap>0&&e[n.next_in]!==0;)uu.inflateReset(n),i=uu.inflate(n,s);switch(i){case nAn:case Ame:case y3:case rAn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===v3))if(this.options.to==="string"){let c=Yx.utf8border(n.output,n.next_out),u=n.next_out-c,d=Yx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===qx&&a===0)){if(i===v3)return i=uu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};CC.prototype.onData=function(e){this.chunks.push(e)};CC.prototype.onEnd=function(e){e===qx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=aD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yz(e,t){const n=new CC(t);if(n.push(e),n.err)throw n.msg||tm[n.err];return n.result}function oAn(e,t){return t=t||{},t.raw=!0,yz(e,t)}var iAn=CC,sAn=yz,aAn=oAn,lAn=yz,cAn=Lm,uAn={Inflate:iAn,inflate:sAn,inflateRaw:aAn,ungzip:lAn,constants:cAn};const{Deflate:dAn,deflate:fAn,deflateRaw:hAn,gzip:pAn}=yTn,{Inflate:mAn,inflate:gAn,inflateRaw:vAn,ungzip:yAn}=uAn;var bAn=dAn,xAn=fAn,wAn=hAn,CAn=pAn,_An=mAn,SAn=gAn,kAn=vAn,EAn=yAn,jAn=Lm,k$e={Deflate:bAn,deflate:xAn,deflateRaw:wAn,gzip:CAn,Inflate:_An,inflate:SAn,inflateRaw:kAn,ungzip:EAn,constants:jAn};function TAn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function E$e(e,t){return a0(e)?e[Number(t)]:e[t]}function j$e(e,t){if(e){var n=t.shift(),r=E$e(e,n);return t.length&&(a0(r)||Gx(r))?j$e(r,t):r}}function a0(e){return Array.isArray(e)}function Gx(e){return e&&typeof e=="object"}function b3(e,t,n){if(a0(e)){e[Number(t)]=n;return}if(Gx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function Dme(e){if(a0(e))return e.slice(0);if(Gx(e))return TAn({},e);throw new Error("shallowClone: source must be an object or an array")}function AAn(e,t){return t?j$e(e,t.split("/")):e}function DAn(e,t,n){if(!t){if(a0(n)||Gx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(AAn(e,t)===n)return e;for(var r=Dme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=E$e(i,a);if(c===void 0&&(c={},b3(i,a,c)),!a0(c)&&!Gx(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=Dme(i);b3(s,a,u),s=u}else b3(s,a,n)}return r}const _v=[],a4={},IAn="auto",PAn=1,k5=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],Ime=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function T$e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const OAn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function RAn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function A$e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const D$e=h.createContext(null);function u1(){const e=h.useContext(D$e);if(!e)throw new Error("Props: missing context value");return e}const $An=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(Y,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(kj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),MAn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Rr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),FAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx($f,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),LAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Rr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),BAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Lwe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function NAn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx($An,{schema:t,value:n}):t.type==="number"?l.jsx(MAn,{schema:t,value:n}):t.type==="select"?l.jsx(FAn,{schema:t,value:n}):t.type==="string"?l.jsx(LAn,{schema:t,value:n}):t.type==="text"?l.jsx(BAn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const zAn=h.memo(function(){const{schemas:t,value:n}=u1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(NAn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Sv=Ht,I$e=h.createContext(null);function el(){const e=h.useContext(I$e);if(!e)throw new Error("Workshop: missing context value");return e}const VAn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,HAn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function UAn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return VAn(t)}function WAn(e){const t=HAn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function YAn(e){if(e.length===0)return"";const t=WAn(e);return k$e.inflate(t,{to:"string"})}function qAn(e){if(e.length===0)return"";const t=k$e.deflate(e);return UAn(t)}function GAn(e){return qAn(JSON.stringify(e))}function Pme(e){try{return JSON.parse(YAn(e))}catch{return{}}}function KAn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const ZAn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=el(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:Pme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=KAn(y,g);return Sv(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=GAn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:Pme(String(s))||{}})))},[s]),l.jsx(D$e.Provider,{value:v,children:n})});function XAn(){return{name:"props",title:"Properties",inspector:zAn,provider:ZAn}}const P$e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=_v,collections:v=_v,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[XAn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>RAn(y,c),[c,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,c,u,d,w,y,C,x,f,p]);let S=r;for(const k of b)k.provider&&(S=h.createElement(k.provider,{options:k.options||a4},S));return l.jsx(I$e.Provider,{value:_,children:S})});function O$e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Sv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Sv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Sv(e.payload,n)?e:{...e,payload:n}}return e}const Ome=(()=>{try{return{}.ROOT_PATH}catch{return}})(),QAn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,JAn=/\/@fs\//g,eDn=/\?([a-z]{1})=([0-9]+)/g;function Rme(e){let t=decodeURIComponent(e);return t=e.replace(QAn,"").replace(JAn,"/").replace(eDn,""),Ome?tDn(t,Ome+"/"):t}function tDn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const nDn=h.memo(function(){const{story:t}=el(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(ee,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(oDn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(rDn,{story:t}),children:l.jsx(ee,{as:"main",height:"fill",children:l.jsx(x0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),rDn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),""]}),l.jsx(Y,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(dr,{muted:!0})})]})}),oDn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(re,{space:4,children:[l.jsx(zo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(se,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(sr,{size:1,children:Rme(n.stack)}),r&&l.jsx(sr,{size:1,children:"Component stack:"+Rme(r.componentStack)})]})})});function R$e(e){return Array.isArray(e)}function $$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function iDn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(R$e(c)){for(const u of c)if($$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function sDn(){const e=typeof window>"u"?{}:OAn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>iDn(),[]),i=h.useMemo(()=>T$e(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>sDn());return h.useEffect(()=>i.subscribe(b=>x(w=>O$e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(FL,{children:l.jsx(Lu,{element:s,children:l.jsx(ym,{element:c,children:l.jsx(P$e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:l.jsxs(ee,{height:"fill",ref:a,children:[l.jsx(nDn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var $me=Object.freeze,aDn=Object.defineProperty,lDn=(e,t)=>$me(aDn(e,"raw",{value:$me(t||e.slice())})),Mme;l0e(Mme||(Mme=lDn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Fme=Object.freeze,cDn=Object.defineProperty,uDn=(e,t)=>Fme(cDn(e,"raw",{value:Fme(t||e.slice())})),Lme;const dDn=h.memo(Zb),fDn=O(ee)(Lme||(Lme=uDn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),hDn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(pDn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(es,{style:i,children:l.jsx(fDn,{padding:2,shadow:1,children:l.jsx(Aj,{space:1,children:s})})})});function pDn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(dDn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Bme=Object.freeze,mDn=Object.defineProperty,gDn=(e,t)=>Bme(mDn(e,"raw",{value:Bme(t||e.slice())})),Nme;const vDn=O(ee)(Nme||(Nme=gDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),zme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),yDn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=el(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(vDn,{display:u,flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[c&&l.jsx(hDn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(Kwe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(zme,{component:d.plugin.inspector,options:d.plugin.options||a4})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(zme,{component:a.plugin.inspector,options:a.plugin.options||a4})})]})})}),Vme=ew;function bDn(){const{broadcast:e,scope:t,story:n,title:r}=el(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(xDn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const xDn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(RL,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),wDn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=el(),a=h.useMemo(()=>n==="/"?void 0:A$e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(se,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:Uf,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function CDn(){const{broadcast:e,scheme:t}=el(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(_Dn,{dark:t==="dark",onToggleScheme:n})}const _Dn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(se,{fontSize:1,icon:n?L4:V4,mode:"bleed",onClick:r,padding:2})}),SDn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=el(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(EDn,{disabled:!n,setViewport:o,viewport:r})}),kDn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},EDn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(tn,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Ll,mode:"ghost",padding:2,style:{minWidth:80},text:(n=k5.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Bt,{children:k5.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:kDn})});function jDn(){const{broadcast:e,story:t,zoom:n}=el(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(ADn,{disabled:!t,setZoom:r,zoom:n})}const TDn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},ADn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(tn,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Ll,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Ime.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Bt,{children:Ime.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:TDn})}),DDn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=pm(),{story:a,title:c}=el();return l.jsx(ee,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(Y,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:F4,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(Y,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(bDn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:W5,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Gt,{space:1,children:[l.jsx(wDn,{}),l.jsx(SDn,{}),l.jsx(jDn,{}),l.jsx(CDn,{})]})})]})})});function M$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return M$e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function IDn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=DAn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...M$e(e,s,i));return o}const PDn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(re,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(ee,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),ODn=h.memo(function(t){const{items:n}=t;return l.jsx(Jwe,{space:1,children:l.jsx(F$e,{items:n})})}),F$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=el(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(RDn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(Xb,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx($Dn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(Xb,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),RDn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(F$e,{basePath:o,items:r.items}),[r,o]);return l.jsx(Xb,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),$Dn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(Xb,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(Xb,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var Hme=Object.freeze,MDn=Object.defineProperty,FDn=(e,t)=>Hme(MDn(e,"raw",{value:Hme(t||e.slice())})),Ume;const LDn=O(ee)(Ume||(Ume=FDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),BDn={flex:"none"},NDn={lineHeight:0},zDn=[2,2,1],VDn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=el(),s=h.useMemo(()=>IDn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return _v;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(HDn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),HDn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(LDn,{display:u,flex:1,children:l.jsxs(Y,{direction:"column",height:"fill",children:[l.jsx(es,{style:BDn,children:l.jsx(ee,{padding:2,shadow:1,style:NDn,children:l.jsx(Rr,{border:!1,clearButton:!!c,fontSize:zDn,icon:ei,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(ee,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(PDn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(ODn,{items:o.items})})]})]})})});var Wme=Object.freeze,UDn=Object.defineProperty,WDn=(e,t)=>Wme(UDn(e,"raw",{value:Wme(t||e.slice())})),Yme;const YDn=O.iframe(Yme||(Yme=WDn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),qDn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=el(),p=k5.find(w=>w.name===d)||k5[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>A$e({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(ee,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(Y,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(Xr,{width:0,children:l.jsxs(re,{padding:4,space:4,children:[l.jsx(zo,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(dr,{muted:!0}),l.jsx(Xr,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:l.jsx(ee,{height:"fill",shadow:1,children:l.jsx(YDn,{ref:n,src:g,style:b})})})]})})});function GDn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(R$e(u)){for(const d of u)if($$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function qme(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Gme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==IAn&&(s.viewport=o),i&&i!==PAn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>T$e(),[]),d=h.useMemo(()=>GDn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>qme(i.get(),a)),S=pm(),[k,j]=h.useState(!1),[E,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),I=h.useRef(y),P=h.useRef({scheme:b,viewport:w,zoom:C,...x}),$=h.useCallback(U=>{u.publish(U),d.message.publish(U)},[u,d]),R=h.useMemo(()=>Vme(U=>i.push(U),150),[i]),V=h.useMemo(()=>Vme(U=>i.replace(U),150),[i]),N=h.useCallback(()=>{j(U=>!U),T(!1)},[]),H=h.useCallback(()=>{j(!1),T(U=>!U)},[]),G=h.useRef(S);return h.useEffect(()=>{G.current<2&&S>=2&&(j(!1),T(!1)),G.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(U=>{_(q=>{const Z=O$e(q,U),B=!Sv(q,Z);if(B){if(U.type==="workshop/setPath"){if(I.current!==Z.path){I.current=Z.path;const W=Gme(Z,!1);R({path:Z.path,query:W})}}else if(U.type!=="workshop/setState"){const W=Gme(Z);Sv(P.current,W)||(P.current=W,V({path:Z.path,query:W}))}}return B?Z:q})}),[R,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(U=>{const q=qme(U,void 0,g);$({type:"workshop/setState",value:q})}),[$,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(P$e,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:l.jsx(FL,{children:l.jsx(Lu,{element:f,children:l.jsx(ym,{element:m,children:l.jsxs(Y,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(DDn,{inspectorExpanded:E,navigatorExpanded:k,onInspectorToggle:H,onNavigatorToggle:N}),l.jsxs(Y,{flex:1,children:[l.jsx(VDn,{collections:o.collections,expanded:k}),l.jsx(qDn,{frameRef:d.setElement,hidden:k||E}),l.jsx(yDn,{expanded:E})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function KDn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(_v),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(_v)},[a,u]),m=h.useMemo(()=>yC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(_v),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(iD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:c,ref:f,value:u})}var Kme=Object.freeze,ZDn=Object.defineProperty,L$e=(e,t)=>Kme(ZDn(e,"raw",{value:Kme(t||e.slice())})),Zme,Xme;const XDn=O(Y)(Zme||(Zme=L$e([`
  min-height: 25px;
`]))),QDn=O(se)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return he(Xme||(Xme=L$e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function JDn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(y=>{const x={fieldPath:i,message:y,parentCommentId:void 0,status:"open",threadId:ld()};c==null||c(x)},[c,i]),p=h.useCallback(y=>{y.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(y=>{y.stopPropagation(),y.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(y=>y.title))||[],[t]),g=v[v.length-1];return l.jsxs(re,{space:2,children:[l.jsx(XDn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(re,{flex:1,children:l.jsx(Y,{align:"center",children:l.jsx(QDn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(D5n,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(HRe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(KDn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(re,{space:2,children:r})]})}const Qme={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function eIn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(Y,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(Y,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(Y,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(dr,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(Y,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(Xr,{width:0,padding:4,children:l.jsxs(re,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:Qme[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:Qme[t].message})]})})}):null}const tIn={behavior:"smooth",block:"start",inline:"nearest"};function nIn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const rIn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const E=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));E&&E.scrollIntoView(tIn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(nIn(r)),[r]),k=!s&&!i&&S.length>0;return l.jsxs(Y,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(eIn,{error:i,hasNoComments:S.length===0,loading:s,status:b}),k&&l.jsx(re,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Lu,{element:w,children:S==null?void 0:S.map(j=>{let[E,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===E&&!x.threadId;return l.jsx(re,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(JDn,{breadcrumbs:A,canCreateNewThread:b==="open",currentUser:o,fieldPath:E,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:T.map(P=>{var $,R;const V=P.replies.slice().reverse(),N=b==="open"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=P.parentComment._state)==null?void 0:R.type)!=="createRetrying",H=(x==null?void 0:x.threadId)===P.parentComment.threadId&&(x==null?void 0:x.fieldPath)===P.parentComment.target.path.field;return l.jsx(T5n,{canReply:N,currentUser:o,isSelected:H,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:y,replies:V},P.parentComment._id)})},E)},E)})})})]})}),oIn=ie.memo(rIn),iIn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function sIn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=iIn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Pi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(Jt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(se,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(re,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(ar,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var Jme=Object.freeze,aIn=Object.defineProperty,bz=(e,t)=>Jme(aIn(e,"raw",{value:Jme(t||e.slice())})),ege,tge,nge;const lIn=O(M)(ege||(ege=bz([`
  max-width: 280px;
`]))),cIn=am(tge||(tge=bz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),uIn=O(en)(nge||(nge=bz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),cIn);function dIn(e){const{onDismiss:t}=e;return l.jsx(uIn,{content:l.jsx(lIn,{padding:4,children:l.jsxs(re,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(Y,{justify:"flex-end",marginTop:2,children:l.jsx(se,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const B$e=h.createContext(null);function fIn(e){const t={};return e!==null&&(t.identity=e.id),t}const x3=new Map;async function hIn(e,t,n){x3.has(t)||x3.set(t,STe("*[".concat(t,"]")));const r=x3.get(t),o=fIn(e),{identity:i}=o,s={...o},a=await(await yTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function pIn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await hIn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const rge={data:[],error:null,loading:!0};let oge=null;function mIn(e){const{documentValue:t}=e,n=cCn(),r=ZN(),o=hr(ln),[i,s]=h.useState(rge),a=h.useMemo(()=>{const u=n.get().pipe(ue(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(it(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),ue(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=oge,f=d?be(d):o.observable.fetch('*[_type == "system.group"]');return lnt([u,f]).pipe(ht(async v=>{let[g,y]=v;d||(oge=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(k=>k.members.includes(w.id)?k.grants:[])].flat(),{granted:S}=await pIn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ue(v=>({error:null,loading:!1,data:Cm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=be(rge),d=Vr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function gIn(e){const{documentId:t,documentType:n}=e||{},r=En().get(n),{title:o}=Ul(),{createPathWithParams:i,params:s}=Yc(),a=Mi(),c=mo(()=>!t||!r?be(null):pA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:Cb}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function vIn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=Xj(h.useCallback(E=>typeof E.tool=="string"?E.tool:void 0,[])),{tools:x}=Ul(),b=h.useMemo(()=>x.find(E=>E.name===y),[y,x]),{getNotificationValue:w}=gIn({documentId:o,documentType:i}),C=h.useCallback(async E=>{const T=(E==null?void 0:E.id)||ld(),A=((s==null?void 0:s(E.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:E.message,parentCommentId:E.parentCommentId,status:E.status,threadId:E.threadId,context:{payload:{workspace:v},notification:$,tool:(b==null?void 0:b.name)||""},target:{path:{field:E.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(V){throw c==null||c(R._id,V),V}return}try{await t.create(R)}catch(V){throw c==null||c(R._id,V),V}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async E=>{t&&(d==null||d(E),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(E,'"]')}),t.delete(E)]))},[t,d]),S=h.useCallback(async(E,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(E,A),await t.patch(E).set(A).commit()},[t,u]),k=h.useCallback(async(E,T)=>{if(t){if(f==null||f(E,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(E,'"]')}).set({status:T.status}).commit(),t.patch(E).set(T).commit()]);return}await(t==null?void 0:t.patch(E).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:k}),[C,_,S,k])}}function N$e(){const e=h.useContext(B$e);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function yIn(){const e=h.useContext(Y$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}const z$e=h.createContext(null),bIn=ie.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{enabled:i,isLoading:s}=_3e("studioComments"),{enabled:a}=Fn().document.unstable_comments,c=h.useMemo(()=>a({documentType:o,documentId:Rn(r)}),[r,o,a]),u=h.useMemo(()=>!(s||!i||!c),[c,i,s]);return l.jsx(z$e.Provider,{value:u,children:n})});function cD(){return!!h.useContext(z$e)}const V$e=h.createContext(null),xIn=1,H$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(xIn),wIn=e=>{try{window.localStorage.setItem(H$e,JSON.stringify(e))}catch{}},CIn=()=>{try{const e=window.localStorage.getItem(H$e);return e?JSON.parse(e):!1}catch{return!1}};function _In(e){const{children:t}=e,[n,r]=h.useState(CIn()),o=h.useCallback(()=>{r(!0),wIn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(V$e.Provider,{value:i,children:t})}function SIn(){const e=h.useContext(V$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function U$e(){const e=h.useContext(q$e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function kIn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function EIn(e,t){switch(t.type){case"COMMENTS_SET":{const n=kIn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const jIn={comments:{}},TIn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},AIn="_createdAt",DIn="desc",IIn=['_type == "comment"',"target.document._ref == $documentId"],PIn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,OIn="order(".concat(AIn," ").concat(DIn,")"),ige="*[".concat(IIn.join(" && "),"] ").concat(PIn," | ").concat(OIn);function RIn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(EIn,jIn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:Rn(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(ige,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(ige,u,TIn).pipe(On(g=>(c(g),be(g)))):be(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function W$e(e,t){var n;const r=kl(t),o=r[0];if(o&&Ua(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Lr(r.slice(1));return s?W$e(i.type,s):i}}}function $In(e,t){if(typeof t=="number")return t;const n=M9(e,t);return n===-1?!1:n}function MIn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=kl(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),y=i.slice(0,u),x=W$e(n,Lr(g)),b=c.hasOwnProperty("_key"),w=Fa(o,y),C=Fa(o,g),_={document:o,currentUser:t,parent:w,value:C};if(b&&Array.isArray(w)){const S=$In(w,c),k=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:k?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=ao(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:_p(x.type)}),a=x.type;return}if(Ml(a)){const S=Fa(o,y),k=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(P=>P.name===k),E=(f=j==null?void 0:j.fields)==null?void 0:f.find(P=>P.name===c);if(!k&&C){const P=(p=a==null?void 0:a.of)==null?void 0:p.map(V=>V==null?void 0:V.fields).filter(Boolean).flat(),$=P==null?void 0:P.find(V=>(V==null?void 0:V.name)===c),R=ao((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:_p($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!E){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=_p(E==null?void 0:E.type),A=ao((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=ao(E==null?void 0:E.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=E==null?void 0:E.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function FIn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=MIn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const l4=[],LIn={open:l4,resolved:l4},BIn=h.memo(function(t){const{children:n,documentId:r,documentType:o,isCommentsOpen:i,onCommentsOpen:s}=t,[a,c]=h.useState("open"),{client:u,runSetup:d,isRunningSetup:f}=yIn(),p=Rn(r),m=zN(p,o,"low"),v=h.useMemo(()=>m.draft||m.published,[m.draft,m.published]),{dispatch:g,data:y=l4,error:x,loading:b}=RIn({documentId:p,client:u}),w=mIn(h.useMemo(()=>({documentValue:v}),[v])),C=En().get(o),_=Ho(),{name:S,dataset:k,projectId:j}=Ul(),E=h.useMemo(()=>{if(!C||!_)return LIn;const N=L0(y,["_createdAt"],["desc"]),H=FIn({comments:N,schemaType:C,currentUser:_,documentValue:v});return{open:H.filter(G=>G.parentComment.status==="open"),resolved:H.filter(G=>G.parentComment.status==="resolved")}},[_,y,v,C]),T=h.useCallback(N=>E.open.filter(H=>H.threadId===N).length,[E.open]),A=h.useCallback(N=>y==null?void 0:y.find(H=>H._id===N),[y]),D=h.useCallback(async N=>{var H,G;const U=((G=(H=y==null?void 0:y.find(q=>q._id===N._id))==null?void 0:H._state)==null?void 0:G.type)==="createError";g({type:"COMMENT_ADDED",payload:{...N,_state:U?{type:"createRetrying"}:void 0}})},[y,g]),I=h.useCallback((N,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:N,...H}})},[g]),P=h.useCallback((N,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:N,...H}})},[g]),$=h.useCallback((N,H)=>{g({type:"COMMENT_UPDATED",payload:{_id:N,_state:{error:H,type:"createError"}}})},[g]),{operation:R}=vIn(h.useMemo(()=>({client:u,currentUser:_,dataset:k,documentId:p,documentType:o,projectId:j,schemaType:C,workspace:S,getThreadLength:T,runSetup:d,onCreate:D,onCreateError:$,onEdit:P,onUpdate:I}),[u,_,k,p,o,j,C,S,T,d,D,$,P,I])),V=h.useMemo(()=>({isRunningSetup:f,status:a,setStatus:c,getComment:A,isCommentsOpen:i,onCommentsOpen:s,comments:{data:E,error:x,loading:b||f},create:{execute:R.create},remove:{execute:R.remove},edit:{execute:R.edit},update:{execute:R.update},mentionOptions:w}),[x,A,i,f,b,w,s,R.create,R.edit,R.remove,R.update,a,E]);return l.jsx(B$e.Provider,{value:V,children:n})}),Y$e=h.createContext(null),sge="v2023-11-13";function NIn(e){const{children:t}=e,{dataset:n,projectId:r}=Ul(),o=hr(ln),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:sge,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:sge}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(Y$e.Provider,{value:p,children:t})}const q$e=h.createContext(null),zIn=ie.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(q$e.Provider,{value:s,children:n})}),VIn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),HIn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(VIn,{ref:n,children:l.jsxs(Y,{padding:2,children:[l.jsxs(Y,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(xCn,{})]}),l.jsxs(Y,{flex:"none",padding:1,gap:2,children:[l.jsx(tn,{id:"comment-status-menu-button",button:l.jsx(se,{text:fn(i),fontSize:1,padding:2,mode:"bleed",iconRight:qa,space:2}),menu:l.jsxs(Bt,{style:{width:"180px"},children:[l.jsx(Ve,{fontSize:1,iconRight:i==="open"?Xs:void 0,onClick:s,text:"Open comments"}),l.jsx(Ve,{fontSize:1,iconRight:i==="resolved"?Xs:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(se,{"aria-label":"Close comments",fontSize:1,icon:R4,mode:"bleed",onClick:r,padding:2})]})]})})});var age=Object.freeze,UIn=Object.defineProperty,G$e=(e,t)=>age(UIn(e,"raw",{value:age(t||e.slice())})),lge,cge;const WIn="https://snty.link/comments-beta-feedback",YIn=O.span(lge||(lge=G$e([`
  margin-right: 0.2em;
`]))),qIn=O.a(cge||(cge=G$e([`
  white-space: nowrap;
`]))),GIn=O(ee)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function KIn(){return l.jsx(GIn,{padding:3,children:l.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",l.jsxs(qIn,{href:WIn,target:"_blank",rel:"noreferrer",children:[l.jsx(YIn,{children:"Share your feedback "})," ",l.jsx(Uf,{})]})]})})}var uge=Object.freeze,ZIn=Object.defineProperty,XIn=(e,t)=>uge(ZIn(e,"raw",{value:uge(t||e.slice())})),dge;const QIn=O(es)(dge||(dge=XIn([`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`])));function JIn(e){return cD()?l.jsx(QIn,{children:l.jsx(ePn,{...e})}):null}function ePn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Ho(),{params:m,createPathWithParams:v,setParams:g}=Yc(),y=Zo(m)||ORe,x=h.useRef(y==null?void 0:y.comment),b=h.useRef(!1),w=Vo().push,{onPathOpen:C,ready:_}=Mr(),{isDismissed:S,setDismissed:k}=SIn(),{comments:j,create:E,edit:T,getComment:A,isRunningSetup:D,mentionOptions:I,remove:P,setStatus:$,status:R,update:V}=N$e(),{isTopLayer:N}=la(),H=h.useMemo(()=>j.data[R],[j,R]),G=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:U,setSelectedPath:q}=U$e(),Z=h.useCallback(ce=>{$(ce),q(null)},[q,$]),B=h.useCallback(()=>{t(),q(null)},[t,q]),W=h.useCallback(ce=>{const ve=v({...m,comment:ce}),$e="".concat(window.location.origin).concat(ve);navigator.clipboard.writeText($e).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),z=h.useCallback(ce=>{const ve=A(ce);ve&&E.execute({fieldPath:ve.target.path.field,id:ve._id,message:ve.message,parentCommentId:ve.parentCommentId,status:ve.status,threadId:ve.threadId})},[E,A]),X=h.useCallback(()=>{s||(r(!1),i(null))},[s]),Q=h.useCallback(ce=>{if(q(ce),ce!=null&&ce.fieldPath){const ve=kl(ce.fieldPath);C(ve)}},[C,q]),ne=h.useCallback(ce=>{E.execute(ce),q({fieldPath:ce.fieldPath,origin:"inspector",threadId:ce.threadId})},[E,q]),K=h.useCallback(ce=>{E.execute(ce)},[E]),J=h.useCallback((ce,ve)=>{T.execute(ce,ve)},[T]),oe=h.useCallback(ce=>{var ve;const $e=H.find(st=>{var et;return((et=st.parentComment)==null?void 0:et._id)===ce}),Ae=!!($e&&((ve=$e==null?void 0:$e.replies)==null?void 0:ve.length)>0);r(!0),i({commentId:ce,isParent:Ae})},[H]),fe=h.useCallback(async ce=>{try{a(!0),await P.execute(ce),X()}catch(ve){u(ve)}finally{a(!1)}},[X,P]),ae=h.useCallback((ce,ve)=>{const $e=A(ce);$e&&(q({fieldPath:$e.target.path.field||null,origin:ve||"inspector",threadId:$e.threadId||null}),setTimeout(()=>{var Ae;(Ae=d.current)==null||Ae.scrollToComment(ce)}))},[A,q]),ge=h.useCallback((ce,ve)=>{V.execute(ce,{status:ve}),ve==="open"&&($("open"),ae(ce))},[ae,$,V]),xe=h.useCallback(()=>{U&&N&&q(null)},[N,U,q]);return cr(xe,[f.current]),h.useEffect(()=>{const ce=A(x.current||"");!G&&ce&&b.current===!1&&($(ce.status||"open"),ae(ce._id,"url"),b.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,ae,G,m,g,$]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(sIn,{...o,error:c,loading:s,onClose:X,onConfirm:fe}),l.jsxs(Y,{direction:"column",flex:1,height:"fill",onClick:xe,overflow:"hidden",ref:f,children:[l.jsx(dIn,{onDismiss:k,open:!S,placement:"left-start",children:l.jsx(HIn,{onClose:B,onViewChange:Z,view:R})}),p&&l.jsx(oIn,{comments:H,currentUser:p,error:j.error,loading:G,mentionOptions:I,onCopyLink:W,onCreateRetry:z,onDelete:oe,onEdit:J,onNewThreadCreate:ne,onPathSelect:Q,onReply:K,onStatusChange:ge,readOnly:D,ref:d,selectedPath:U,status:R}),l.jsx(KIn,{})]})]})}function tPn(){return{hidden:!cD(),icon:x0e,showAsAction:!0,title:"Comments"}}const nPn={name:Cb,component:JIn,useMenuItem:tPn};var fge=Object.freeze,rPn=Object.defineProperty,K$e=(e,t)=>fge(rPn(e,"raw",{value:fge(t||e.slice())})),hge,pge;const mge={open:500},oPn=O(L)(hge||(hge=K$e([`
  width: max-content;
`]))),iPn=O(re)(pge||(pge=K$e([`
  width: 320px;
`])));function sPn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),y==null||y.focus())},[y,f,p]),_=h.useCallback(()=>{c(),C()},[C,c]),S=h.useMemo(()=>yC(m),[m]),k=h.useCallback(()=>{var I;if(!S){C();return}(I=b.current)==null||I.discardDialogController.open()},[C,S]),j=h.useCallback(I=>{I.isDefaultPrevented()||d&&d(I)},[d]),E=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close()},[]),T=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),k())},[k]),D=h.useCallback(()=>{f&&k()},[f,k]);if(cr(D,[v]),!w){const I=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),P=l.jsx(iPn,{padding:2,space:4,children:l.jsx(iD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:E,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:I,readOnly:o,ref:b,value:m})});return l.jsx(en,{constrainSize:!0,content:P,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:l.jsx("div",{children:l.jsx(at,{delay:mge,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(se,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:jEn,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return l.jsx(at,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(oPn,{size:1,children:["View comment",t>1?"s":""]})}),delay:mge,fallbackPlacements:["bottom"],children:l.jsx(se,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(Y,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(TEn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var gge=Object.freeze,aPn=Object.defineProperty,Z$e=(e,t)=>gge(aPn(e,"raw",{value:gge(t||e.slice())})),vge,yge;const lPn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function cPn(e){return cD()?l.jsx(fPn,{...e}):e.renderDefault(e)}const bge={behavior:"smooth",block:"start"},uPn=O(rd.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=pe.blue[o.dark?900:50].hex;return he(vge||(vge=Z$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),dPn=O(re)(yge||(yge=Z$e([`
  position: relative;
`])));function fPn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=mm(),a=Ho(),{comments:c,create:u,isCommentsOpen:d,isRunningSetup:f,mentionOptions:p,onCommentsOpen:m,setStatus:v,status:g}=N$e(),{selectedPath:y,setSelectedPath:x}=U$e(),b=h.useMemo(()=>_p(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>!d||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===Lr(e.path),[d,e.path,y==null?void 0:y.fieldPath,y==null?void 0:y.origin]),S=h.useMemo(()=>{const P=Lr(e.path);return c.data.open.map(R=>R.fieldPath===P?R.commentsCount:0).reduce((R,V)=>R+V,0)||0},[c.data.open,e.path]),k=S>0,j=h.useCallback(P=>{x({threadId:P,origin:"form",fieldPath:Lr(e.path)}),C(P)},[e.path,x]),E=h.useCallback(()=>{var P;if(k){g==="resolved"&&v("open"),n(!1),m==null||m();const $=(P=c.data.open.find(R=>R.fieldPath===Lr(e.path)))==null?void 0:P.threadId;$&&j($);return}n($=>!$)},[k,g,m,c.data.open,v,e.path,j]),T=h.useCallback(()=>{if(r){const P=ld(),$={fieldPath:Lr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:P};u.execute($),m==null||m(),g==="resolved"&&v("open"),o(null),j(P)}},[u,j,m,e.path,v,g,r]),A=h.useCallback(()=>o(null),[]),D=h.useMemo(()=>({...bge,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{_&&i.current&&d&&Yv(i.current,D)},[s,d,_,e.path,D]),h.useEffect(()=>{if(d&&w){const P=document.querySelector('[data-group-id="'.concat(w,'"]'));P&&(P.scrollIntoView(bge),C(null))}},[d,w]);const I=h.useMemo(()=>({button:a&&l.jsx(sPn,{count:Number(S),currentUser:a,fieldTitle:b,isRunningSetup:f,mentionOptions:p,onChange:o,onClick:E,onCommentAdd:T,onDiscard:A,open:t,setOpen:n,value:r}),hasComments:k,isAddingComment:t}),[a,S,b,p,E,T,A,t,r,f,k]);return l.jsxs(dPn,{ref:i,children:[e.renderDefault({...e,__internal_comments:I}),l.jsx(wL,{children:_&&l.jsx(uPn,{animate:"animate",exit:"exit",initial:"initial",variants:lPn})})]})}function hPn(e){return l.jsx(NIn,{children:l.jsx(_In,{children:e.renderDefault(e)})})}const pPn=eDe({name:"sanity/desk/comments",document:{inspectors:[nPn]},form:{components:{field:cPn}},studio:{components:{layout:hPn}}}),xz="sanityStudio:desk:renameDismissed",wz=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function mPn(){const[e,t]=h.useState(()=>!vPn());h.useEffect(()=>{if(typeof window>"u"||!wz)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===xz&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),gPn()},[]);return{showOnboarding:e,dismissOnboarding:n}}function gPn(){wz&&localStorage.setItem(xz,"1")}function vPn(){return wz?localStorage.getItem(xz)==="1":!0}const yPn=n9("desk-is-now-structure");function bPn(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=mPn(),s=h.useCallback(a=>{const c=a==null?void 0:a.closest("[data-hidden]");r((c==null?void 0:c.getAttribute("data-hidden"))!=="true")},[]);return l.jsx("div",{ref:s,children:l.jsx(en,{content:l.jsx(xPn,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:l.jsx(e,{})})})}}function xPn(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return l.jsxs(re,{as:"section",padding:3,space:3,onClick:t,children:[l.jsxs(re,{padding:2,space:4,children:[l.jsx(Y,{gap:2,align:"center",children:l.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[l.jsx("strong",{children:"Desk"})," is now ",l.jsx("strong",{children:"Structure"})]})}),l.jsx(re,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),l.jsxs(Jt,{columns:2,gap:3,children:[l.jsx(se,{as:"a","data-as":"a",href:yPn,icon:Uf,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),l.jsx(se,{fontSize:1,icon:Xs,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const X$e=h.createContext(null);function d1(){const e=h.useContext(X$e);if(!e)throw new Error("DeskTool: missing context value");return e}const wPn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},CPn={create:D3,delete:ho,discardDraft:Ei,initial:D3,editDraft:Du,editLive:Du,publish:f0,unpublish:US};function Q$e(e){return wPn[e]}function _Pn(e){return CPn[e]}function SPn(e){let{maxLength:t,userIds:n}=e;return l.jsx(Sj,{maxLength:t,children:n.map(r=>l.jsx(Va,{user:r,withTooltip:!0},r))})}var xge=Object.freeze,kPn=Object.defineProperty,kp=(e,t)=>xge(kPn(e,"raw",{value:xge(t||e.slice())})),wge,Cge,_ge,Sge,kge,Ege,jge;const BS=O(Y)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return he(wge||(wge=kp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),EPn=O(se)(e=>{let{$selected:t,$disabled:n}=e;return he(Sge||(Sge=kp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),BS,BS,t&&he(Cge||(Cge=kp([`
      `,`::before {
        background: transparent;
      }
    `])),BS),n&&he(_ge||(_ge=kp([`
      cursor: not-allowed;
    `]))))}),jPn=O(M)(kge||(kge=kp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),TPn=O(L)(Ege||(Ege=kp([`
  text-transform: capitalize;
`]))),APn=O(M)(jge||(jge=kp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ye(t.sanity.space[1]))}),Tge={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function DPn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=_Pn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Jo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(EPn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":Tge[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(Y,{align:"stretch",children:[l.jsx(BS,{align:"center",children:l.jsx(jPn,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(re,{space:2,margin:2,children:[o&&l.jsx(Y,{children:l.jsx(ee,{padding:1,radius:2,shadow:1,tone:i?"primary":Tge[t.type],children:l.jsx(Vt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(TPn,{size:1,weight:"medium",children:Q$e(c)||l.jsx("code",{children:c})})}),l.jsx(APn,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(Y,{flex:1,justify:"flex-end",align:"center",children:l.jsx(SPn,{maxLength:3,userIds:d})})]})})})}var Age=Object.freeze,IPn=Object.defineProperty,E5=(e,t)=>Age(IPn(e,"raw",{value:Age(t||e.slice())})),Dge,Ige,Pge,Oge;const PPn=O(re)(Dge||(Dge=E5([`
  max-width: 200px;
`]))),OPn=O(Y)(Ige||(Ige=E5([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),RPn=O(M)(e=>{let{$visible:t}=e;return he(Oge||(Oge=E5([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&he(Pge||(Pge=E5([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),c4=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[l.jsx(DPn,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(dr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(RPn,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(PPn,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(OPn,{direction:"column",children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};c4.displayName="Timeline";function $Pn(){return l.jsxs(Y,{align:"flex-start",gap:3,padding:4,children:[l.jsx(ar,{tone:"critical",children:l.jsx(ia,{})}),l.jsxs(re,{space:4,children:[l.jsx(ar,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(ar,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var Rge=Object.freeze,MPn=Object.defineProperty,FPn=(e,t)=>Rge(MPn(e,"raw",{value:Rge(t||e.slice())})),$ge;const LPn=O(en)($ge||($ge=FPn([`
  overflow: hidden;
  overflow: clip;
`])));function J$e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=Mr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=Vo(),x=so(c,N=>N.chunks),b=so(c,N=>N.isLoading),w=so(c,N=>N.hasMoreChunks),C=so(c,N=>N.realRevChunk),_=so(c,N=>N.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),k=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&k()},[k,d]),E=h.useCallback(N=>{d&&(N.key==="Escape"||N.key==="Tab")&&(k(),p==null||p.focus())},[p,k,d]);cr(j,[p,v]),Es(E);const T=h.useCallback(N=>{try{const[H,G]=c.findRangeForRev(N);i("closed"),o(H,G)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),A=h.useCallback(N=>{try{const[H,G]=c.findRangeForSince(N);i("closed"),o(H,G)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),D=h.useCallback(()=>{b||c.loadMore()},[b,c]),I=s?l.jsx($Pn,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(c4,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(c4,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),P=BPn((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(zSe(Q$e(t.type)),": ").concat(P):"Latest version",R=t?"Since: ".concat(P):"Since: unknown version",V=n==="rev"?$:R;return l.jsx(LPn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(se,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Ll,onClick:d?k:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function BPn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Jo(n,"MMM d, yyyy, hh:mm a")},[e])}const NPn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function eMe(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(NPn,{...s,as:t,children:[l.jsxs(Y,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(se,{"aria-label":r,fontSize:1,icon:Ei,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Mge=Object.freeze,zPn=Object.defineProperty,VPn=(e,t)=>Mge(zPn(e,"raw",{value:Mge(t||e.slice())})),Fge;const HPn=O.div(Fge||(Fge=VPn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function UPn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(HPn,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var Lge=Object.freeze,WPn=Object.defineProperty,YPn=(e,t)=>Lge(WPn(e,"raw",{value:Lge(t||e.slice())})),Bge;const qPn=O(M)(Bge||(Bge=YPn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function GPn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(qPn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(UPn,{onResize:p,onResizeStart:f})]})}function KPn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=hh(),{closeInspector:i,inspector:s}=Mr(),{features:a}=d1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(GPn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:Qkn,minWidth:KF,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function ZPn(){return l.jsx(iz,{ms:300,children:l.jsxs(Y,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(dr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function XPn(e){const t=new Map;return mA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var Nge=Object.freeze,QPn=Object.defineProperty,JPn=(e,t)=>Nge(QPn(e,"raw",{value:Nge(t||e.slice())})),zge;const eOn=O(uA)(zge||(zge=JPn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function tOn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=Mr(),a=h.useRef(null),c=so(i,y=>y.diff),u=so(i,y=>y.onOlderRevision),d=so(i,y=>y.selectionState),f=so(i,y=>y.sinceTime),p=d==="loading",m=!u,v=ie.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:mWt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ie.useMemo(()=>c?XPn(c):[],[c]);return l.jsxs(Y,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(eMe,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(Y,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(J$e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(Zi,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(Sj,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return l.jsx(Va,{user:x},x)})})})})]})}),l.jsx(ee,{flex:1,children:l.jsx(Lu,{element:a.current,children:l.jsx(eOn,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(nOn,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function nOn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(pF,{}):o?l.jsx(ZPn,{}):n?l.jsx(TDe.Provider,{value:r,children:l.jsx(nC,{diff:n,schemaType:i})}):l.jsx(pF,{})}const rOn={name:XF,useMenuItem:()=>{const{features:e}=d1();return{hidden:!e.reviewChanges,icon:B4,title:"Review changes"}},component:tOn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function oOn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!wt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!yee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":wt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(wt(a)&&a._key){if(!yee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>wt(d)&&d._key===a._key),!wt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>wt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const iOn={error:ia,warning:$r,info:lm},sOn={error:"critical",warning:"caution",info:"primary"};function aOn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=Mr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(Y,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(eMe,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(ee,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(re,{space:2,children:i.map((c,u)=>l.jsx(lOn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function lOn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(x0,{onCatch:a,children:[s&&l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(ee,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:sOn[t.level],children:l.jsxs(Y,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(iOn[t.level])})}),l.jsxs(re,{flex:1,space:2,children:[l.jsx(cOn,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function cOn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>oOn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function uOn(e){const{documentId:t,documentType:n}=e,{validation:r}=VN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(JMe),s=o.some(eFe),a=h.useMemo(()=>i?ia:s?$r:V5,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const dOn={name:tEn,component:aOn,useMenuItem:uOn},fOn=[IRe,PRe,ARe,DRe,TRe,cz],hOn=[Dkn],pOn=[dOn,rOn],mOn=eDe(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||P0e,r=t?n:bPn(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...fOn])),badges:o=>Array.from(new Set([...o,...hOn])),inspectors:o=>Array.from(new Set([...o,...pOn]))},plugins:[pPn()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>C2e(()=>import("./index-qM48g456-95933a81.js"),[])),canHandleIntent:(o,i)=>o==="create"?gOn(i):o==="edit"?vOn(i):!1,getIntentState:Pkn,controlsDocumentTitle:!0,options:e,router:Bkn}]}});function gOn(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function vOn(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class an extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Pn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Pn||{});const yOn=["_id","_type","_createdAt","_updatedAt","_rev"];function u4(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return yOn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>u4(c,r)).join(","),"}")}const i=r.length>0&&u4(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function bOn(e,t){return t.map(n=>u4(e,n.field.split("."))).join(", ")}const tMe={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},xOn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},wOn=tMe,Vge=[tMe,xOn];function nMe(e,t,n){return e instanceof zf?e.serialize({path:n,index:t}):e}class zf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new an("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Pn.TITLE_REQUIRED)}if(!r&&!o)throw new an("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new an("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new zf(this._context);return n.spec={...this.spec,...t||{}},n}}function rMe(e,t,n){return new zf(e).group("sorting").title("Sort by ".concat(t.title)).icon(z4).action("setSortOrder").params({by:t.by,extendedProjection:n})}function oMe(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Vge):Vge).map(o=>rMe(e,o,bOn(r,o.by)))}function iMe(e,t,n){return e instanceof Kx?e.serialize({path:n,index:t}):e}class Kx{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Kx(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Kx(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new an("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new an("`title` is required for a menu item group",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);return{id:n,title:r}}}const sMe=/([^A-Za-z0-9-_.])/;function _C(e,t,n){if(typeof e!="string")throw new an("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(sMe)||[];if(r)throw new an('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new an("Structure node id cannot start with __edit__",t,n);return e}function uD(e,t){if(t)return t;const n=vhe(e);return sMe.test(n)?vhe(cTe(e)):n}class Zx{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:uD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new an("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!s)throw new an("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);return{id:_C(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>nMe(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>iMe(a,c,t.path))}}clone(t){const n=new Zx;return n.spec={...this.spec,...t||{}},n}}async function aMe(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Rn(t),o=si(t);return(await e(ln).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class Cz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||o2n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new an("`id` is required for view item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new an("`title` is required for view item",t.path,t.index).withHelpUrl(Pn.TITLE_REQUIRED);return{id:_C(n,t.path,t.index),title:r,icon:o}}}function COn(e){return typeof e.serialize=="function"}function lMe(e,t,n){return COn(e)?e.serialize({path:n,index:t}):e}const _On=e=>wt(e)&&e.type==="component";class dD extends Cz{constructor(t){const n=_On(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new an("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Pn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new dD;return n.spec={...this.spec,...t||{}},n}}class fD extends Cz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new fD;return n.spec={...this.spec,...t||{}},n}}const cMe=e=>new fD(e),SOn=e=>new dD(e);var kOn=Object.freeze({__proto__:null,ComponentViewBuilder:dD,FormViewBuilder:fD,GenericViewBuilder:Cz,component:SOn,form:cMe,maybeSerializeView:lMe});const EOn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await aMe(n,r)),!a)throw new an("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class Vf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:uD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new an("`id` is required for document nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!s||!s.id)throw new an("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Pn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new an("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[cMe()]).map((d,f)=>lMe(d,f,t)),c=a.map(d=>d.id),u=fo(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new an("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||EOn(this._context),id:_C(i,t,n),type:"document",options:jOn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Vf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function jOn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function TOn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Vf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function AOn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Hge=["default","card","media","detail","block"],uMe=Symbol("Document type list canHandleIntent"),_z=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:Sz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};_z.identity=uMe;class hD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new an("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!o.templateId)throw new an("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new an("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new hD(this._context);return n.spec={...this.spec,...t},n}}function DOn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function IOn(e,t,n){return e instanceof hD?e.serialize({path:n,index:t}):e}function POn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new zf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||ko).intent({type:"create",params:c}).serialize()})}function OOn(){}const dMe=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&_z(e,t,{pane:r,index:o})};class fMe{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:uD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Hge.includes(o))throw new an("`layout` must be one of ".concat(Hge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>IOn(s,a,r));return{id:_C(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||OOn,canHandleIntent:this.spec.canHandleIntent||dMe,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>nMe(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>iMe(s,a,r))}}}const ROn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new an("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Pn.QUERY_PROVIDED_FOR_FILTER);return r},$On=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||aMe(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Vf(e).id("editor").documentId(t).schemaType(""))};class SC extends fMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new an("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Pn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new an("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Pn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),n9(Pn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||$On(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||ln.apiVersion,filter:ROn(this.spec,t)}}}clone(t){const n=new SC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=MOn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=FOn(n.spec)),n}getSpec(){return this.spec}}function MOn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(Sz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:ko}))}function FOn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=Sz(n,r);return o.length===1?o[0]:void 0}function Sz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=LOn(e,t);return n.length===0&&(n=BOn(e,t)),n}function LOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function BOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const NOn=e=>e instanceof f1?"ListBuilder":WOn(e)?"Promise":Array.isArray(e)?"array":typeof e,zOn=e=>e.type==="listItem",VOn=(e,t,n)=>(n.pane.items||[]).filter(qOn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||dMe(e,t,n),HOn=(e,t)=>{const o=(t.parent.items.filter(zOn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function UOn(e,t,n){if(e instanceof h1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||NOn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new an('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Pn.INVALID_LIST_ITEM)}return e}function WOn(e){return wt(e)&&typeof e.then=="function"}class f1 extends fMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new an("`id` is required for lists",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new an("`items` must be an array of items",t.path,t.index).withHelpUrl(Pn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>UOn(a,c,o)),s=i.filter((a,c)=>aTe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new an("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(Pn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||VOn,child:this.spec.child||HOn,items:i}}clone(t){const n=new f1(this._context);return n.spec={...this.spec,...t||{}},n}}class h1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:uD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new an("`id` is required for list items",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new an("`title` is required for list items",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new an('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Pn.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Zx||o instanceof SC||o instanceof Vf||o instanceof f1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:_C(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new h1(this._context);return n.spec={...this.spec,...t||{}},n}}const YOn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Vf(e).id("documentEditor").documentId(n)};class kz extends h1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new an("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Pn.SCHEMA_TYPE_REQUIRED);const r=n.child||YOn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new kz(this._context);return n.spec={...this.spec,...t||{}},n}}function qOn(e){return wt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class j5 extends SC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new j5(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new j5(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===uMe?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function GOn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const KOn=["sanity.imageAsset","sanity.fileAsset"];function ZOn(e){return KOn.includes(e)}function XOn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function QOn(e){return e.type==="list"}function JOn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&XOn(r)}).filter(n=>!ZOn(n))}function hMe(e){return JOn(e).map(n=>pMe(e,n))}function pMe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||fn(t);return new h1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=QOn(a)?a.items.find(d=>d.id===i):null;let u=mMe(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function mMe(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||fn(i),u=GOn(a);return new j5(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(wOn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||_z).menuItems(s.menuItems||[...oMe(e,a),new zf(e).group("layout").title("Compact view").icon(B0e).action("setLayout").params({layout:"default"}),new zf(e).group("layout").title("Detailed view").icon(N0e).action("setLayout").params({layout:"detail"})])}function e3n(e){return!e||typeof e=="string"?!1:!!e.icon}function t3n(e){const t=hMe(e);return new f1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>e3n(n.getSchemaType())))}function n3n(e){let{defaultDocumentNode:t,source:n}=e;const r=$gn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Vf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(Rn(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>t3n(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return mMe(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return pMe(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return hMe(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Vf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return AOn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new f1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new h1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new zf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Kx(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return POn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new SC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new kz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return rMe(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return oMe(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return TOn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return DOn(o,...a)},initialValueTemplateItem:(s,a)=>new hD(o,{id:s,parameters:a,templateId:s}),component:s=>Nl.isValidElementType(s)?new Zx().component(s):new Zx(s),divider:()=>({id:$ke("__divider__"),type:"divider"}),view:kOn,context:o};return i}function bMn(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Fn(),a=Rgn(s),c=Ja(),u=h.useMemo(()=>n3n({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(X$e.Provider,{value:p,children:r})}function gMe(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(nD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(az,{title:s}),l.jsx(rD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function r3n(e){const t=[{ms:300,message:"Loading"},{ms:5e3,message:"Still loading"}],n=be(null);return sn(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(Oj(i),OCe(o))}))}var Uge=Object.freeze,o3n=Object.defineProperty,i3n=(e,t)=>Uge(o3n(e,"raw",{value:Uge(t||e.slice())})),Wge;const s3n="Loading",a3n=O(Y)(Wge||(Wge=i3n([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),vMe=h.memo(e=>{const{delay:t=300,flex:n,message:r=r3n,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:s3n);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const b=d.subscribe(p);return()=>b.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,y]=h.useState(!1);h.useEffect(()=>{if(m)return uQe(()=>y(!0))},[m]);const x=l.jsxs(a3n,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(dr,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(nD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(rD,{children:x})})});vMe.displayName="LoadingPane";function l3n(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function c3n(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const u3n=["patch","commit"],d3n=h.memo(function(){const{push:t}=Vo(),{documentId:n,documentType:r}=Mr(),o=x3e(n,r),i=h.useRef(o),s=Yc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:l3n(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!u3n.includes(o.op)&&t({closable:!0,status:"success",title:c3n(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function f3n(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(ZF).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function h3n(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:d0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function p3n(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:S0e,shortcut:"Ctrl+Alt+O"}:null}function m3n(e){const t=f3n(e),n=[p3n(e)].filter(Boolean);return[...t,h3n(e),...n]}const g3n=e=>wt(e)&&typeof e._id=="string"&&typeof e._type=="string";function v3n(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Fn().document,s=Fnt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(ZL(500),it(a=>g3n(a)?Cr(i({document:a})):be(void 0)),On(a=>{const c=wt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function y3n(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const b3n=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Zo(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function x3n(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(b3n,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const yMe=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=En(),a=n1(),{actions:c,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=Fn().document,m=QN(),v=Yc(),g=v.setParams,{features:y}=d1(),{push:x}=Vo(),{options:b,menuItemGroups:w=eEn,title:C=null,views:_=[]}=r,S=Zo(b),k=S.id,j=Rn(k),E=b.type,T=Zo(v.params)||Jkn,A=Zo(v.payload),{templateName:D,templateParams:I}=h.useMemo(()=>y3n(a,{documentType:E,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[E,S,T,A,a]),P=Uxn({documentId:j,documentType:E,templateName:D,templateParams:I}),$=Zo(P),{patch:R}=Yl(j,E),V=zN(j,E),{validation:N}=VN(j,E),H=qbn(j,E),G=s.get(E),U=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||$.value,[q,Z]=h.useState(!1),[B,W]=h.useState([]),z=h.useMemo(()=>c({schemaType:E,documentId:j}),[c,j,E]),X=h.useMemo(()=>u({schemaType:E,documentId:j}),[u,j,E]),Q=h.useMemo(()=>f({schemaType:E,documentId:j}),[j,E,f]),ne=Zo(N),K=Zo(_),[J,oe]=h.useState(()=>T.path?kl(T.path):dn),fe=h.useRef(J),ae=T.view||K[0]&&K[0].id||null,[ge,xe]=h.useState("closed"),[ce,ve]=h.useState(null),$e=Lwn({documentId:j,documentType:E,onError:ve,rev:T.rev,since:T.since}),Ae=so($e,Ye=>Ye.onOlderRevision),st=so($e,Ye=>Ye.revTime),et=so($e,Ye=>Ye.sinceAttributes),lt=so($e,Ye=>Ye.timelineDisplayed),Oe=so($e,Ye=>Ye.timelineReady),we=so($e,Ye=>Ye.isPristine),We=h.useMemo(()=>Oe?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!we:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,we,Oe]),ze=v3n(U),[Ze,Ct]=h.useState([]);h.useEffect(()=>{const Ye=m.documentPresence(j).subscribe(zn=>{Ct(zn)});return()=>{Ye.unsubscribe()}},[j,m]);const Ee=h.useMemo(()=>p({documentId:j,documentType:E}),[j,E,p]),[Be,dt]=h.useState(()=>T.inspect||null),li=h.useRef(T.inspect);h.useEffect(()=>{li.current!==T.inspect&&(li.current=T.inspect,dt(T.inspect||null))},[T.inspect]);const rn=Ee==null?void 0:Ee.find(Ye=>Ye.name===Be),Uo=Ee.find(Ye=>Ye.name===XF),Yt=(rn==null?void 0:rn.name)===XF,Jr=!!U,tl=h.useMemo(()=>m3n({currentInspector:rn,features:y,hasValue:Jr,inspectorMenuItems:B,inspectors:Ee,previewUrl:ze}),[rn,y,Jr,B,Ee,ze]),nl=T.inspect==="on",As=Yt?et:(V==null?void 0:V.published)||null,Ln=h.useMemo(()=>G?d({documentId:j,documentType:E,schemaType:G}):[],[j,E,d,G]),Nn=H==="connected"&&V.ready&&(Oe||!!ce),Wr=h.useMemo(()=>Ae?lt||{_id:U._id,_type:U._type}:U,[Ae,lt,U]),Ge=h.useCallback((Ye,zn)=>{g({...T,since:Ye,rev:zn||void 0})},[T,g]),_t=h.useCallback(Ye=>{oe(Ye),fe.current!==Ye&&(fe.current=Ye,i==null||i(Ye)),m.setLocation([{type:"document",documentId:j,path:Ye,lastActiveAt:new Date().toISOString()}])},[j,i,m,oe]),Jn=h.useCallback(Ye=>{yD.current||(oe(dn),fe.current!==dn&&(fe.current=dn,i==null||i(dn)))},[i,oe]),Bn=h.useRef(()=>{throw new Error("Nope")});Bn.current=Ye=>{R.execute(BCn(Ye.patches),$.value)};const da=h.useCallback(Ye=>Bn.current(Ye),[]),Sr=h.useCallback(Ye=>{var zn,jn,Yr,Gc;const Kc=Ye&&Ee.find(ci=>ci.name===Ye);if(Ye&&!Kc){console.warn('No inspector named "'.concat(Ye,'"'));return}if(rn){if(Kc){const ci=(jn=(zn=Kc.onClose)==null?void 0:zn.call(Kc,{params:T}))!=null?jn:{params:T};dt(null),li.current=void 0,g({...ci.params,inspect:void 0});return}if(rn){const ci=(Gc=(Yr=rn.onClose)==null?void 0:Yr.call(rn,{params:T}))!=null?Gc:{params:T};dt(null),li.current=void 0,g({...ci.params,inspect:void 0})}}},[rn,Ee,T,g]),To=h.useCallback((Ye,zn)=>{var jn,Yr,Gc,Kc;const ci=Ee.find(Lz=>Lz.name===Ye);if(!ci){console.warn('No inspector named "'.concat(Ye,'"'));return}if((rn==null?void 0:rn.name)===ci.name){g({...T,...zn,inspect:ci.name});return}let g1=T;rn&&(g1=((Yr=(jn=ci.onClose)==null?void 0:jn.call(ci,{params:g1}))!=null?Yr:{params:g1}).params);const UMe=(Kc=(Gc=ci.onOpen)==null?void 0:Gc.call(ci,{params:g1}))!=null?Kc:{params:g1};dt(ci.name),li.current=ci.name,g({...UMe.params,...zn,inspect:ci.name})},[rn,Ee,T,g]),Ds=h.useCallback(()=>{Uo&&Sr(Uo.name)},[Sr,Uo]),fa=h.useCallback(()=>{y.reviewChanges&&Uo&&To(Uo.name)},[y.reviewChanges,To,Uo]),Nm=h.useCallback(()=>v.closeCurrent(),[v]),kC=h.useCallback(()=>v.duplicateCurrent(),[v]),ql=h.useCallback(function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!nl;g(Ye?{...T,inspect:"on"}:Di(T,"inspect"))},[nl,T,g]),qc=h.useCallback(Ye=>{if(Ye.action==="production-preview"&&ze)return window.open(ze),!0;if(Ye.action==="inspect")return ql(!0),!0;if(Ye.action==="reviewChanges")return fa(),!0;if(typeof Ye.action=="string"&&Ye.action.startsWith(ZF)){const zn=Ye.action.slice(ZF.length),jn=Ee.find(Yr=>Yr.name===zn);if(jn)return jn.name===Be?Sr(jn.name):To(jn.name),!0}return!1},[Sr,fa,Be,Ee,To,ze,ql]),p1=h.useCallback(Ye=>{for(const zn of tl)if(zn.shortcut&&gi(zn.shortcut,Ye)){Ye.preventDefault(),Ye.stopPropagation(),qc(zn);return}},[qc,tl]),DMe=h.useCallback(()=>ql(!1),[ql]),[IMe,PMe]=h.useState([]),[OMe,Az]=h.useState(),[Dz,Iz]=h.useState(),[Pz,Oz]=h.useState(),RMe=h.useCallback((Ye,zn)=>{Iz(jn=>Uh(jn,Ye,zn))},[]),$Me=h.useCallback((Ye,zn)=>{Oz(jn=>Uh(jn,Ye,zn))},[]),MMe=h.useCallback((Ye,zn)=>Az(jn=>Uh(jn,Ye,zn)),[]),FMe=U._createdAt?"update":"create",Rz=!!(G!=null&&G.liveEdit),pD=U._id?U._id:"dummy-id",LMe=h.useMemo(()=>({...U,_id:Rz?Rn(pD):si(pD)}),[Rz,U,pD]),[m1,mD]=Zxn({document:LMe,permission:FMe}),$z=!(U!=null&&U._id),BMe=h.useMemo(()=>{var Ye;const zn=!mD&&!(m1!=null&&m1.granted),jn=!iZ(G,"update"),Yr=$z&&!iZ(G,"create"),Gc=H==="reconnecting",Kc=(Ye=V.transactionSyncLock)==null?void 0:Ye.enabled;return!Nn||st!==null||zn||jn||Yr||Gc||Kc||q||We},[H,V.transactionSyncLock,$z,We,q,mD,m1==null?void 0:m1.granted,Nn,st,G]),gD=LCn(G,{value:Wr,readOnly:BMe,comparisonValue:As,focusPath:J,openPath:IMe,collapsedPaths:Dz,presence:Ze,validation:ne,collapsedFieldSets:Pz,fieldGroupState:OMe,changesOpen:Yt}),EC=h.useRef(gD);EC.current=gD;const vD=h.useCallback(Ye=>{SCn(EC.current,Ye).forEach(jn=>{jn.type==="expandPath"&&Iz(Yr=>Uh(Yr,jn.path,!1)),jn.type==="expandFieldSet"&&Oz(Yr=>Uh(Yr,jn.path,!1)),jn.type==="setSelectedGroup"&&Az(Yr=>Uh(Yr,jn.path,jn.groupName))}),PMe(Ye)},[EC]),NMe={actions:z,activeViewId:ae,badges:X,changesOpen:Yt,closeInspector:Sr,collapsedFieldSets:Pz,collapsedPaths:Dz,compareValue:As,connectionState:H,displayed:Wr,documentId:j,documentIdRaw:k,documentType:E,editState:V,fieldActions:Ln,focusPath:J,inspector:rn||null,inspectors:Ee,menuItems:tl,onBlur:Jn,onChange:da,onFocus:_t,onPathOpen:vD,onHistoryClose:Ds,onHistoryOpen:fa,onInspectClose:DMe,onKeyUp:p1,onMenuAction:qc,onPaneClose:Nm,onPaneSplit:kC,onSetActiveFieldGroup:MMe,onSetCollapsedPath:RMe,onSetCollapsedFieldSet:$Me,openInspector:To,index:n,inspectOpen:nl,validation:ne,menuItemGroups:w||[],paneKey:o,previewUrl:ze,ready:Nn,schemaType:G,isPermissionsLoading:mD,permissions:m1,setTimelineMode:xe,setTimelineRange:Ge,setIsDeleting:Z,isDeleting:q,isDeleted:We,timelineError:ce,timelineMode:ge,timelineStore:$e,title:C,value:U,views:K,formState:gD,unstable_languageFilter:Q};h.useEffect(()=>{H==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting"})})},[H,x]);const yD=h.useRef(!1);h.useEffect(()=>{var Ye;if(Nn&&T.path){const{path:zn,...jn}=T,Yr=EFe((Ye=EC.current)==null?void 0:Ye.value,kl(zn));yD.current=!0,oe(Yr),vD(Yr),fe.current!==Yr&&(fe.current=Yr,i==null||i(Yr));const Gc=setTimeout(()=>{yD.current=!1},0);return v.setParams(jn),()=>clearTimeout(Gc)}},[T,j,i,vD,Nn,v]);const[zMe,VMe]=h.useState([]),Mz=cD(),Fz=h.useCallback(()=>{(rn==null?void 0:rn.name)!==Cb&&To(Cb)},[rn==null?void 0:rn.name,To]),HMe=h.useMemo(()=>Mz?l.jsx(BIn,{documentId:j,documentType:E,isCommentsOpen:(rn==null?void 0:rn.name)===Cb,onCommentsOpen:Fz,children:l.jsx(zIn,{children:t})}):t,[t,Mz,rn==null?void 0:rn.name,j,E,Fz]);return l.jsxs(jRe.Provider,{value:NMe,children:[Ee.length>0&&l.jsx(x3n,{documentId:j,documentType:E,inspectors:Ee,onMenuItems:W}),Ln.length>0&&G&&l.jsx(oC,{actions:Ln,documentId:j,documentType:E,onActions:VMe,path:dn,schemaType:G}),l.jsx(iC,{actions:zMe,path:dn,children:HMe})]})});yMe.displayName="DocumentPaneProvider";function d4(e,t,n){const r=uCn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const vg={id:"parsed",title:"Parsed"},yg={id:"raw",title:"Raw JSON"},w3n=[vg,yg],T5=cSn(1e3);function bMe(e,t){const n=T5.get(e);return n===void 0?(T5.set(e,Array.isArray(t)||wt(t)),bMe(e,t)):n}function C3n(e){const{path:t}=e,n=T5.get(t);n!==void 0&&T5.set(t,!n)}function xMe(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Yge(e){xMe(e.currentTarget)}function _3n(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),xMe(e.currentTarget))}function S3n(e){return wt(e)&&gv(e._id)&&gv(e._type)}var qge=Object.freeze,k3n=Object.defineProperty,E3n=(e,t)=>qge(k3n(e,"raw",{value:qge(t||e.slice())})),Gge;const j3n=O.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return he(Gge||(Gge=E3n([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: ' ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: ' ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]),ye(o[3]),ye(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]/2),n.syntax.property,n.syntax.constant,ye(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function T3n(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Rr,{icon:ei,onChange:r,placeholder:"Search",radius:2,value:n||""})}function A3n(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=Mr(),o="".concat(r,"_inspect_"),[i,s]=d4("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=w3n.find(d=>d.id===i),c=h.useCallback(()=>{s(vg.id)},[s]),u=h.useCallback(()=>{s(yg.id)},[s]);return l.jsx(Pi,{id:"".concat(o,"dialog"),header:S3n(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(fRe,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(Y,{direction:"column",height:"fill",children:[l.jsx(ee,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(Aj,{space:1,children:[l.jsx(Zb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(vg.id),label:vg.title,onClick:c,selected:a===vg}),l.jsx(Zb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(yg.id),label:yg.title,onClick:u,selected:a===yg})]})}),l.jsxs(Kwe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===vg&&l.jsx(j3n,{children:l.jsx(aSn,{data:t,isExpanded:bMe,onClick:C3n,search:T3n})}),a===yg&&l.jsx(sr,{language:"json",tabIndex:0,onKeyDown:_3n,onDoubleClick:Yge,onFocus:Yge,children:JSON.stringify(t,null,2)})]})]})})}var Kge=Object.freeze,D3n=Object.defineProperty,I3n=(e,t)=>Kge(D3n(e,"raw",{value:Kge(t||e.slice())})),Zge;const P3n=O(ee)(Zge||(Zge=I3n([`
  position: relative;
  z-index: 50;
`])));function O3n(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=Mr(),{restore:o}=Yl(n,r),{navigateIntent:i}=Bl(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(P3n,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(Xr,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(nw,{})}),l.jsxs(Y,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(se,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Xge=Object.freeze,R3n=Object.defineProperty,wMe=(e,t)=>Xge(R3n(e,"raw",{value:Xge(t||e.slice())})),Qge,Jge;const $3n=O(ee)(Qge||(Qge=wMe([`
  position: relative;
  z-index: 50;
`]))),eve=O(L)(Jge||(Jge=wMe([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),CMe=h.memo(()=>{var e,t,n,r,o,i;const s=Mi(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=Yc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&kl(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),b=mo(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return be({loading:!1});const S=Rn(g),k=kl(_),j=k.findIndex(E=>typeof E=="object"&&"_key"in E);return Vr(be({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?k:k.slice(0,j)).pipe(ZL(750),ue(E=>{let{draft:T,published:A}=E;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=im(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;b.loading||(_=b.result)!=null&&_.refValue&&d({id:b.result.refValue,params:a})},[b.loading,b.result,d,a]);return!g||!x||y||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===p?null:l.jsx($3n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(Xr,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(Y,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx($r,{})}),(i=b.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(eve,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{onClick:w,icon:h0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(eve,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{as:f,icon:Ei,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});CMe.displayName="ReferenceChangedBanner";var tve=Object.freeze,M3n=Object.defineProperty,F3n=(e,t)=>tve(M3n(e,"raw",{value:tve(t||e.slice())})),nve;const L3n=O(ee)(nve||(nve=F3n([`
  position: relative;
  z-index: 50;
`])));function B3n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Ho(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=N3n(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(L3n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(Xr,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(Y,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(nw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function N3n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function z3n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const V3n=1e3*60*60*24*24;function H3n(e){const t=Vo(),n=z3n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:V3n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const U3n=e=>e.preventDefault(),W3n=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:y,onFocus:x,onBlur:b,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=Mr(),k=Ja(),j=mC(d),E=h.useMemo(()=>uXt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;H3n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=k.pair.documentEvents(d,f).pipe(xn(R=>{R.type==="mutation"&&E.publish(Y3n(R)),R.type==="rebase"&&E.publish(q3n(R))})).subscribe();return()=>{$.unsubscribe()}},[d,k,f,E]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&E.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(y!=null&&y.focusPath.length)&&D&&Lp(D)},[g]);const P=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(Xr,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(aC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:U3n,ref:P,children:g?y===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(stn,{__internal_fieldActions:p,__internal_patchChannel:E,collapsedFieldSets:s,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:m,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:y.readOnly,schemaType:y.schemaType,validation:v,value:y.value}):l.jsx(iz,{ms:300,children:l.jsxs(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(dr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function Y3n(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:NF(e.origin,t)}}function q3n(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:NF("remote",t).concat(NF("local",n))}}function G3n(){const{activeViewId:e,paneKey:t,views:n}=Mr(),r="".concat(t,"tabpanel");return l.jsx(Aj,{space:1,children:n.map((o,i)=>{var s;return l.jsx(K3n,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function K3n(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=Mr(),{setView:s}=Yc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(Zb,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function Z3n(){const{connectionState:e,schemaType:t,title:n,value:r}=Mr(),o=!!r&&e==="connected",{error:i,value:s}=CB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const X3n=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=Mr(),{features:m}=d1(),{index:v,BackLink:g,hasGroupSiblings:y}=Yc(),{actions:x}=GB(),b=h.useMemo(()=>kRe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>b.filter(lz),[b]),C=h.useMemo(()=>b.filter(SRe),[b]),_=f.length>1,S=so(u,I=>I.revTime),{collapsed:k,isLast:j}=hh(),E=j&&!k?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&y,D=!A&&!m.backButton;return l.jsx(az,{ref:n,loading:!d,title:l.jsx(Z3n,{}),tabs:_&&l.jsx(G3n,{}),tabIndex:E,backButton:m.backButton&&v>0&&l.jsx(se,{as:g,"data-as":"a",icon:tw,mode:"bleed",padding:2}),subActions:l.jsx(J$e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(Y,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,P)=>h.createElement(I,{key:"language-filter-".concat(P),schemaType:c}))}),w.map(I=>l.jsx(_Re,{node:I},I.key)),l.jsx(bRe,{nodes:C},"context-menu"),T&&l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(se,{"aria-label":"Split pane right",icon:L0e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(se,{icon:Ei,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(se,{icon:Ei,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var rve=Object.freeze,Q3n=Object.defineProperty,J3n=(e,t)=>rve(Q3n(e,"raw",{value:rve(t||e.slice())})),ove;const eRn=O(M)({position:"relative"}),tRn=O(uA)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:he(ove||(ove=J3n([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),nRn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:y,isDeleting:x,isDeleted:b,timelineStore:w,formState:C}=Mr(),{collapsed:_}=o1(),{collapsed:S}=hh(),k=gm(),{features:j}=d1(),[E,T]=h.useState(null),A=Zf(E),D=h.useRef(null),[I,P]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",V=h.useMemo(()=>{if(C)return C.groups.find(z=>z.selected)},[C]),N=h.useMemo(()=>p.find(z=>z.id===s)||p[0]||{type:"form"},[s,p]),H=j.splitPanes&&D.current||k.element,G=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),U=N.type!=="form",q=h.useMemo(()=>N.type==="component"&&N.component&&h.createElement(N.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:N.options,schemaType:v}),[N,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),Z=so(w,z=>z.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{H&&i(H)},[H,i]);const B=h.useMemo(()=>r?l.jsx(A3n,{value:a||f}):null,[r,a,f]),W=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(X3n,{ref:T}),l.jsx(rD,{children:l.jsxs(Y,{height:"fill",children:[(j.resizablePanes||!W)&&l.jsx(eRn,{flex:2,overflow:"hidden",children:l.jsx(ym,{element:H,__unstable_elements:{documentScrollElement:I},children:l.jsx(Lu,{element:I,children:l.jsxs($x,{scrollElement:I,containerElement:$,children:[N.type==="form"&&!y&&m&&l.jsxs(l.Fragment,{children:[l.jsx(B3n,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&b&&l.jsx(O3n,{revisionId:Z}),l.jsx(CMe,{})]}),l.jsxs(tRn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:P,children:[l.jsx(W3n,{hidden:U,margins:G,ref:$},c+(m?"_ready":"_pending")),q]},"".concat(V==null?void 0:V.name,"-").concat(c,"}")),B,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),W&&l.jsx(Lu,{element:o,children:l.jsx(KPn,{documentId:c,documentType:v.name,flex:1})})]})})]})},_Me=["left","bottom"],rRn={small:0,medium:1,large:2,full:"auto"};function oRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(en,{content:l.jsx(iRn,{dialog:t}),fallbackPlacements:_Me,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function iRn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=la(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return cr(m,[f]),Es(v),l.jsxs(Y,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(Jt,{columns:2,gap:2,children:[l.jsx(se,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(se,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function sRn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(Gu,{zOffset:"fullscreen",children:l.jsx(Pi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:rRn[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function aRn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(en,{content:l.jsx(lRn,{dialog:t}),fallbackPlacements:_Me,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function lRn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=la(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return cr(a,[i]),Es(c),l.jsx("div",{ref:s,children:n})}function ive(e){const{children:t}=e,{element:n,elements:r}=gm(),o=(r==null?void 0:r[RRe])||n;return l.jsx(ym,{element:o,children:t})}function Ez(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(oRn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(aRn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(ive,{children:l.jsx(sRn,{dialog:t})});if(t.type==="custom")return l.jsx(ive,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Pi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function cRn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(tn,{id:"".concat(r,"-action-menu"),button:l.jsx(se,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:qa,mode:"ghost",ref:o}),menu:l.jsx(Bt,{padding:1,children:t.map((p,m)=>l.jsx(uRn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(Gu,{zOffset:"paneFooter",children:l.jsx(Ez,{dialog:f.dialog,referenceElement:a})})]})}function uRn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(Ve,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(at,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(Y,{align:"center",paddingX:3,children:[l.jsxs(Y,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,Nl.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(cB,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function SMe(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(Y,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(cB,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(Y,{children:[o&&l.jsx(Bu,{zOffset:200,children:l.jsx(at,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(re,{flex:1,children:l.jsx(se,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(cRn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(Ez,{dialog:o.dialog,referenceElement:s})]})}const dRn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=Mr();return!t||!o?null:l.jsx(sz,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(SMe,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),fRn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=Mr(),o=so(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[cz],[]);return l.jsx(sz,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(SMe,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),hRn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function pRn(e){let{states:t}=e;return l.jsx(Gt,{space:1,children:t.map((n,r)=>l.jsx(at,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(EL,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?hRn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function mRn(){const{badges:e,editState:t}=Mr();return!t||!e?null:l.jsx(uSn,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(pRn,{states:r})}})}var sve=Object.freeze,gRn=Object.defineProperty,vRn=(e,t)=>sve(gRn(e,"raw",{value:sve(t||e.slice())})),ave;const yRn=O(Y)(ave||(ave=vRn([`
  cursor: default;
`])));function bRn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=Xo(r||"",{minimal:!0,agoSuffix:!0}),a=Xo(r||"",{minimal:!0}),c=Xo(o||"",{minimal:!0,agoSuffix:!0}),u=Xo(o||"",{minimal:!0}),d=Xo(o||"",{minimal:!1,agoSuffix:!0}),f=Xo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(yRn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(at,{placement:"top",portal:!0,content:l.jsx(re,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(se,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx($0e,{}):l.jsx(f0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var lve=Object.freeze,xRn=Object.defineProperty,jz=(e,t)=>lve(xRn(e,"raw",{value:lve(t||e.slice())})),cve,uve,dve;const wRn=O(rd.path)(cve||(cve=jz([`
  transform-origin: center;
`]))),CRn=e=>l.jsx(rd.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),_Rn=e=>l.jsx(wRn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),SRn=e=>l.jsx(rd.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),kRn=e=>l.jsx(rd.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),ERn=am(uve||(uve=jz([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),jRn=O.g(dve||(dve=jz([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),ERn),TRn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},ARn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},DRn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},IRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},PRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function ORn(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(rd.g,{variants:TRn,initial:t,animate:t,children:[l.jsxs(jRn,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(_Rn,{variants:DRn,initial:t,animate:t}),l.jsx(CRn,{variants:ARn,initial:t,animate:t})]}),l.jsx(SRn,{variants:IRn,initial:t,animate:t}),l.jsx(kRn,{variants:PRn,initial:t,animate:t})]})}):null}const RRn=ie.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=Xo(i||"",{minimal:!0}),c=Xo(i||"",{minimal:!0,agoSuffix:!0}),u=Xo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(at,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(re,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(se,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(ORn,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),$Rn=ie.memo(RRn),MRn=1e3,FRn=3e3,LRn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=Mr(),d=C3e(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[y,x]=h.useState(null),b=Zf(y),w=!b||(b==null?void 0:b.width)<300,[C,_]=h.useState(null),S=so(c,E=>E.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const E=setTimeout(()=>_("saved"),MRn);return()=>clearTimeout(E)}if(C==="saved"){const E=setTimeout(()=>_(null),FRn);return()=>clearTimeout(E)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const k=h.useMemo(()=>l.jsx($Rn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(bRn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(Y,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(Y,{align:"center",flex:1,children:[k,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(mRn,{})})]})]})});var fve=Object.freeze,BRn=Object.defineProperty,NRn=(e,t)=>fve(BRn(e,"raw",{value:fve(t||e.slice())})),hve;const zRn=O(M)(hve||(hve=NRn([`
  min-width: 10em;
  max-width: 16em;
`])));function VRn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=Mr(),o=so(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(Y,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(LRn,{})}),l.jsx(zRn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(fRn,{}):l.jsx(dRn,{})})]})}),[t,n,o])}function HRn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(y=>y.shortcut&&gi(y.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(Gu,{zOffset:"paneFooter",children:l.jsx(Ez,{dialog:f.dialog,referenceElement:t})})])}const kMe=ie.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=Mr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(sz,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(HRn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});kMe.displayName="DocumentActionShortcuts";var pve=Object.freeze,URn=Object.defineProperty,WRn=(e,t)=>pve(URn(e,"raw",{value:pve(t||e.slice())})),mve;const gve=["fixed","fixed","absolute"],YRn=O(cYt)(mve||(mve=WRn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),xMn=h.memo(function(t){const{name:n}=Fn();return l.jsx(jN,{name:t.pane.source||n,children:l.jsx(qRn,{...t})})});function qRn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Fn().document,i=Yc(),s=GRn(n.options,i.params),{documentType:a,isLoaded:c}=Vxn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=KN({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?KRn(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:y,routerPanesState:x}=i,b=((t=x[y+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=b,_=h.useMemo(()=>C?{path:kl(C),state:y>=w-1?"none":y>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,y,w]);return s.type==="*"&&!p?l.jsx(vMe,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document"}):a?l.jsx(bIn,{documentId:s.id,documentType:s.type,children:l.jsx(yMe,{...m,children:l.jsx(atn,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(ZRn,{})})},"".concat(a,"-").concat(s.id))}):l.jsx(gMe,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(re,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function GRn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=n1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function KRn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function ZRn(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=Mr(),{collapsed:f}=o1(),p=HAe(),[m,v]=h.useState(null),[g,y]=h.useState(null),[x,b]=h.useState(null),[w,C]=h.useState(null),_=Zf(g),S=_==null?void 0:_.height,k=h.useCallback(T=>{i(T),o(T)},[i,o]),j=Xkn+(n?KF:0),E=Zkn+(n?KF:0);return u?l.jsxs(kMe,{actionsBoxElement:x,as:nD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:E,onKeyUp:a,rootRef:v,children:[l.jsx(r$,{position:gve,zOffset:p.portal,children:l.jsx(Y,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(YRn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:k,children:l.jsx(nRn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(ym,{__unstable_elements:{[RRe]:w},children:l.jsx(r$,{position:gve,zOffset:p.portal,children:l.jsx(XSn,{ref:y,children:l.jsx(VRn,{actionsBoxRef:b})})})}),l.jsx(d3n,{})]}):l.jsx(gMe,{currentMinWidth:j,flex:2.5,minWidth:E,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(re,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Hc]})})}const vve=100,f4=2e3,EMe={by:[{field:"_updatedAt",direction:"desc"}]},XRn={};function QRn(e){return cA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const JRn=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function jMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(JRn);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function e$n(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function t$n(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=n$n(t,r.field);return o?o$n(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function n$n(e,t){const n=kl(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=r$n(r,o);continue}if(!(Pr(o)||xl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Tu(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function r$n(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function o$n(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var yve=Object.freeze,i$n=Object.defineProperty,TMe=(e,t)=>yve(i$n(e,"raw",{value:yve(t||e.slice())})),bve,xve;const s$n=O(M)(bve||(bve=TMe([`
  position: relative;
`]))),a$n=O(M)(xve||(xve=TMe([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),l$n=[...Array(30).keys()];function c$n(e){const{layout:t}=e;return l.jsx(re,{padding:2,space:1,children:l$n.map(n=>l.jsx(ee,{padding:2,children:l.jsx(ch,{isPlaceholder:!0,layout:t})},n))})}function u$n(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:y}=e,x=En(),{collapsed:b}=o1(),{collapsed:w,index:C}=hh(),[_,S]=h.useState(!1),k=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const P=Rn(A._id),$=t===P,R=!s&&$,V=s&&$,N=I===u.length-1,H=N&&a,G=N&&o;return l.jsxs(l.Fragment,{children:[l.jsx(_kn,{icon:y===!1?!1:void 0,id:P,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:V,value:A}),H&&l.jsx(Y,{align:"center",justify:"center",padding:4,children:l.jsx(dr,{muted:!0})}),G&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",f4," documents"]})})]})},[t,s,u.length,d,x,y,o,a]),E=h.useMemo(()=>i?l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Xr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Xr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(Y,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Xr,{width:1,children:l.jsxs(re,{paddingX:4,paddingY:5,space:4,children:[l.jsx(zo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(se,{icon:h0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return E;if(f==="initial"&&c)return l.jsx(iz,{ms:300,children:l.jsx(c$n,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(s$n,{overflow:"hidden",height:"fill",children:l.jsx(a$n,{children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:k,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,k,C,c,u,d,f,m,j,g,_]);return l.jsx(rD,{overflow:b||f==="initial"?"hidden":"auto",children:T})}const AMe=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=d1(),{collapsed:d,isLast:f}=hh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(az,{actions:l.jsx(xkn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(se,{as:xSn,"data-as":"a",icon:tw,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});AMe.displayName="DocumentListPaneHeader";function d$n(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=uo(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ht((v,g)=>g===0&&v.type!=="welcome"?Nu(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):be(v)),ta()),[p,m]=GL(f,v=>v.type==="welcome");return sn(p.pipe(Ci(1)),m.pipe(Jb(1e3,Al,{leading:!0,trailing:!0}))).pipe(P7(v=>(c?be(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ht(y=>{const x=y.flatMap(k=>n.get(k)||[]),b={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=dDe(b,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?Bo(1200).pipe(ht(S)):S()}))))}const f$n=[],wve={error:null,onRetry:void 0,result:null},h$n={result:null,error:null};function p$n(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=hr({...ln,apiVersion:i||ln.apiVersion}),a=En(),[c,u]=h.useState(wve),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?QRn(m):f$n,[m]),[g,y]=h.useState(!1),[x,b]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>jMe(t,n),[t,n]),S=p===null&&!f,k=(m==null?void 0:m.length)===f4,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),E=h.useCallback(D=>{var I,P;if(D.error){u(D);return}const $=((P=(I=D.result)==null?void 0:I.documents)==null?void 0:P.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){y(!0);return}if($<vve&&$!==0&&!w&&b(!0),(D==null?void 0:D.result)===null){u(V=>({...V.error?D:V}));return}y(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new wr,I=()=>D.next();return d$n({client:s,filter:t,limit:w?f4:vve,params:n,schema:a,searchQuery:o||"",sort:r||EMe,staticTypeNames:_?[_]:void 0}).pipe(ue(R=>({result:{documents:R},error:null})),ri(h$n),On(R=>R instanceof ProgressEvent?Nu(()=>new Error("Request error")):Nu(()=>R)),On((R,V)=>Vr(be({result:null,error:R}),sn(Ai(window,"online"),D).pipe(Ci(1),ht(()=>V)))),ea((R,V)=>({...R,...V,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(E);return()=>{D.unsubscribe()}},[E,T]);const A=h.useCallback(()=>{b(!1),y(!1),u(wve),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:k,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var Cve=Object.freeze,m$n=Object.defineProperty,Tz=(e,t)=>Cve(m$n(e,"raw",{value:Cve(t||e.slice())})),_ve,Sve,kve;const h4=[],g$n=am(_ve||(_ve=Tz([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),v$n=O(rw)(Sve||(Sve=Tz([`
  animation: `,` 500ms linear infinite;
`])),g$n),y$n=O(ee)(kve||(kve=Tz([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function b$n(e){const t=h.useRef(e);return zu(t.current,e)||(t.current=e),t.current}const x$n=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ht(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||h4)}:{...o,selected:!1}})},wMn=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=En(),{name:u}=Fn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=h4,menuItemGroups:m,menuItems:v,options:g,title:y}=s,{apiVersion:x,defaultOrdering:b=h4,filter:w}=g,C=b$n(g.params||XRn),_=s.source,S=h.useMemo(()=>jMe(w,C),[w,C]),k=(f==null?void 0:f.showIcons)!==!1,[j,E]=d4(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[P,$]=h.useState(null),R=h.useRef(!1),V=h.useMemo(()=>(b==null?void 0:b.length)>0?{by:b}:EMe,[b]),[N,H]=d4(S,"sortOrder",V),G=S&&N?t$n(N,c.get(S)):N,U=Zo(G),q=e$n(w),{error:Z,hasMaxItems:B,isLazyLoading:W,isLoading:z,isSearchReady:X,items:Q,onListChange:ne,onRetry:K}=p$n({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:U}),J=h.useMemo(()=>x$n({menuItems:v,sortOrderRaw:N,layout:j}),[j,v,N]),oe=Rj(ce=>ce.pipe(ue(ve=>ve.target.value),xn(I),KL(ve=>ve===""?be(""):Bo(300)),xn(A)),[]),fe=h.useCallback(()=>{A(""),I("")},[]),ae=h.useCallback(ce=>{ce.key==="Escape"&&fe()},[fe]);h.useEffect(()=>(R.current===!1&&!z&&(R.current=!0),()=>{R.current=!1}),[z]),h.useEffect(()=>{fe(),R.current=!1},[a,fe]);const ge=h.useMemo(()=>z&&Q.length===0&&R.current?"spinner":"initial",[z,Q.length]),xe=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(y$n,{radius:4,tone:"transparent",children:l.jsx(Rr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!X,fontSize:[2,2,1],icon:ge==="spinner"?v$n:ei,onChange:oe,onClear:fe,onKeyDown:ae,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(jN,{name:_||u,children:l.jsxs(nD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[Ikn,l.jsx(AMe,{contentAfter:xe,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:J,setLayout:E,setSortOrder:H,title:y}),l.jsx(u$n,{childItemId:n,error:Z,filterIsSimpleTypeConstraint:q,hasMaxItems:B,hasSearchQuery:!!T,isActive:o,isLazyLoading:W,isLoading:z,items:Q,layout:j,loadingVariant:ge,onListChange:ne,onRetry:K,paneTitle:y,searchInputElement:P,showIcons:k},a)]})})}),w$n={title:"Block Module",name:"blockModule",type:"array",of:[{type:"block"}]},C$n={name:"imageType",title:"Image",options:{hotspot:!0},type:"image",fields:[{name:"alt",type:"string",title:"Texto Alternativo"}]},_$n={name:"dateObject",title:"Fecha",type:"date",options:{dateFormat:"DD.MMM.YYYY",calendarTodayLabel:"Today"}},S$n={name:"coverObject",title:"Cover",type:"string",options:{list:[{title:"Con Thumbnail",value:"conThumbnail"},{title:"Sin Thumbnail",value:"sinThumbnail"},{title:"Type Post",value:"typePost"},{title:"Podcast",value:"podcast"}]}},k$n={name:"linksReferenciaObject",title:"Links de referencia",type:"object",fields:[{name:"texto",title:"Texto",type:"string"},{name:"url",title:"URL",type:"url"}]},E$n={name:"destacadoObject",title:"Destacado Object",type:"boolean"},j$n={name:"creditosObject",title:"Crditos",type:"object",fields:[{name:"label",title:"Label",type:"string"},{name:"value1",title:"Value 1",type:"string"},{name:"value2",title:"Value 2",type:"string"},{name:"value3",title:"Value 3",type:"string"},{name:"value4",title:"Value 4",type:"string"},{name:"value5",title:"Value 5",type:"string"},{name:"value6",title:"Value 6",type:"string"},{name:"value7",title:"Value 7",type:"string"},{name:"value8",title:"Value 8",type:"string"},{name:"value9",title:"Value 9",type:"string"},{name:"value10",title:"Value 10",type:"string"},{name:"value11",title:"Value 11",type:"string"},{name:"value12",title:"Value 12",type:"string"},{name:"value13",title:"Value 13",type:"string"},{name:"value14",title:"Value 14",type:"string"},{name:"value15",title:"Value 15",type:"string"}],preview:{select:{title:"label",subtitle:"value1"}}},T$n={name:"patrocinadoresObject",title:"Patrocinadores",type:"object",fields:[{name:"nombre",title:"Nombre",type:"string"}]},A$n={name:"red",title:"Red",type:"object",fields:[{name:"url",title:"Url",type:"url"},{name:"icon",title:"Icon",type:"imageType"}],preview:{select:{title:"url",media:"icon"}}},D$n={name:"thumbnailShape",title:"Forma del Thumbnail",type:"string",options:{list:[{title:"Recto",value:"recto"},{title:"Redondeado",value:"redondeado"},{title:"Circulo",value:"circulo"}]}},I$n={name:"link",title:"Link",type:"object",fields:[{name:"url",title:"URL",type:"url"},{name:"icon",title:"Icono",type:"imageType"}],preview:{select:{title:"url",media:"icon"}}},P$n={name:"otros",title:"Link",type:"object",fields:[{name:"url",title:"URL",type:"url"},{name:"texto",title:"Texto",type:"string"}],preview:{select:{title:"texto",subtitle:"url"}}},O$n={name:"seo",title:"SEO",type:"object",fields:[{name:"title",title:"Title",type:"string"},{name:"description",title:"Description",type:"text"},{name:"image",title:"Image",type:"imageType"}]},R$n={name:"autores",title:"Autores",type:"object",fields:[{name:"autore",title:"Author",type:"reference",to:[{type:"autoresPage"}]}]},$$n={name:"headline",title:"Headline",type:"object",fields:[{name:"headlineText",title:"Headline Text",type:"string"}],preview:{select:{title:"headlineText"}}},M$n={name:"parrafoColumna",title:"Prrafo 1 columna",type:"object",fields:[{name:"campoDeTexto",title:"Campo de texto",type:"blockModule"},{name:"capitalizar",title:"Capitalizar",type:"boolean"}],preview:{select:{title:"campoDeTexto"}}},F$n={name:"parrafosColumnas",title:"Prrafo 2 columnas",type:"object",fields:[{name:"campoDeTexto",title:"Campo de texto",type:"blockModule"},{name:"capitalizar",title:"Capitalizar",type:"boolean"}],preview:{select:{title:"campoDeTexto"}}},L$n={name:"blockquote",title:"Blockquote",type:"object",fields:[{name:"frase",title:"Frase",type:"text"},{name:"autor",title:"Autor",type:"blockModule"}],preview:{select:{title:"frase",subtitle:"autor"}}},B$n={name:"largeQuote",title:"Large Quote",type:"object",fields:[{name:"texto",title:"Texto",type:"blockModule"},{name:"descripcion",title:"Descripcin",type:"blockModule"}],preview:{select:{title:"texto",subtitle:"descripcion"}}},N$n={name:"video",title:"Video",type:"object",fields:[{name:"embedUrl",title:"Embed URL",type:"text"},{name:"videoSize",title:"Video % Width",type:"number",description:"Slider para elegir el tamao del logo",options:{range:{min:0,max:100,step:1}}},{name:"caption",title:"Caption",type:"blockModule"}],preview:{select:{title:"embedUrl",subtitle:"caption"}}},z$n={name:"imagenFullscreen",title:"Imagen Fullscreen",type:"object",fields:[{name:"image",title:"Image Fullscreen",type:"imageType"},{name:"imageSize",title:"Image % Width",type:"number",description:"Slider para elegir el tamao del logo",options:{range:{min:0,max:100,step:25}}},{name:"caption",title:"Caption",type:"blockModule"}],preview:{select:{title:"caption",media:"image"}}},V$n={name:"imagenesDosColumnas",title:"Dos columnas de imagen",type:"object",fields:[{name:"imagen1",title:"Imagen 1",type:"imageType"},{name:"caption1",title:"Caption 1",type:"blockModule"},{name:"imagen2",title:"Imagen 2",type:"imageType"},{name:"caption2",title:"Caption 2",type:"blockModule"}],preview:{select:{title:"caption1",media:"imagen1"}}},H$n={name:"textoImagen",title:"Texto + Imagen",type:"object",fields:[{name:"imagen",title:"Imagen",type:"imageType"},{name:"texto",title:"Texto",type:"blockModule"},{name:"capitalizar",title:"Capitalizar",type:"boolean"}],preview:{select:{title:"texto",media:"imagen"}}},U$n={name:"audio",title:"Audio",type:"object",fields:[{name:"codigo",title:"Codigo",type:"string",description:"Pegar cdigo embed de Anchor"}],preview:{select:{title:"codigo"}}},W$n={name:"moduleArray",title:"Modulos Editoriales",type:"array",of:[{type:"headline"},{type:"parrafoColumna"},{type:"parrafosColumnas"},{type:"blockquote"},{type:"largeQuote"},{type:"video"},{type:"imagenFullscreen"},{type:"imagenesDosColumnas"},{type:"textoImagen"},{type:"audio"}]},Y$n={name:"categoriasArray",title:"Categoras",type:"reference",to:[{type:"categoriasPage"}]},q$n={name:"tagsArray",title:"Tags",type:"reference",to:[{type:"tagsPage"}]},G$n={name:"settingsPage",title:"Configuracin General",type:"document",icon:()=>"",fields:[{name:"title",title:" Site Title",type:"string"},{name:"descriptionSite",title:"Description Site",type:"text"},{name:"siteImage",title:"Site Image",type:"imageType"},{name:"donaLink",title:"Link de donacin",type:"url"},{name:"navSize",title:"Tamao de barra blanca",type:"number",description:"Slider para elegir el tamao del logo",options:{range:{min:20,max:150,step:5}}},{name:"logoNegro",title:"Logo Negro",type:"imageType"},{name:"logoSize",title:"Tamao del logo",type:"number",description:"Slider para elegir el tamao del logo",options:{range:{min:100,max:500,step:5}}},{name:"logoBlanco",title:"Logo Blanco",type:"imageType"},{name:"otrosLinks",title:"Otros Links",type:"array",of:[{type:"otros"}]}]},K$n={name:"autoresPage",title:"Autores",type:"document",icon:()=>"",fields:[{name:"title",title:"Autor",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title"}},{name:"descripcionAutor",title:"Descripcin del autor",type:"text"}],preview:{select:{title:"title",subtitle:"descripcionAutor"}}},Z$n={name:"categoriasPage",title:"Categoras",type:"document",icon:()=>"",fields:[{name:"order",title:"Order",type:"number",hidden:!0},{name:"title",title:"Categora",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title"}},{name:"icono",title:"Icono de la categora",type:"imageType"}],preview:{select:{title:"title",media:"icono"}}},X$n={name:"tagsPage",title:"Tags",type:"document",icon:()=>"",fields:[{name:"order",title:"Order",type:"number",hidden:!0},{name:"title",title:"Tag",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title"}}]},Q$n={name:"articulosPage",title:"Articulos",type:"document",icon:()=>"",fields:[{name:"order",title:"Order",type:"number",hidden:!0},{name:"title",title:"Ttulo",type:"string"},{name:"slug",title:"Slug",type:"slug",options:{source:"title"}},{name:"imagenDeCover",title:"Imagen de Cover",type:"imageType"},{name:"fecha",title:"Fecha",type:"dateObject"},{name:"headline",title:"Headline",type:"string"},{title:"Mostrar o esconder headline en home",name:"showHideHeadline",type:"boolean"},{name:"lecturaDeXMinutos",title:"Lectura de X minutos",type:"number"},{name:"categoria",title:"Categora",type:"reference",to:[{type:"categoriasPage"}]},{name:"cover",title:"Cover",type:"coverObject"},{name:"thumbnailForma",title:"Forma del Thumbnail",type:"thumbnailShape"},{name:"autor",title:"Autor",type:"array",of:[{type:"reference",to:[{type:"autoresPage"}]}]},{name:"tags",title:"Tags",type:"array",of:[{type:"tagsArray"}]},{name:"moduleArray",title:"Modulos Editoriales",type:"moduleArray"},{name:"linksDeReferencia",title:"Links de referencia",type:"array",of:[{type:"linksReferenciaObject"}]},{name:"postRelacionados",title:"Posts relacionados",type:"array",of:[{type:"reference",to:[{type:"articulosPage"}]}]},{name:"destacado",title:"Destacado?",type:"destacadoObject"},{name:"archivo",title:"Archivo",type:"destacadoObject"},{name:"seo",title:"SEO",type:"seo"}],orderings:[{title:"Manual order",name:"manualOrder",by:[{field:"order",direction:"asc"}]}],preview:{select:{title:"title",subtitle:"headline",media:"imagenDeCover"}}},J$n={name:"manifestoPage",title:"Manifesto",type:"document",icon:()=>"",fields:[{name:"title",title:"Ttulo de la pgina",type:"string"},{name:"titleFormat",title:"Ttulo de la pgina con formato",type:"blockModule"},{name:"textoPrincipal",title:"Body",type:"blockModule"},{name:"seo",title:"SEO",type:"seo"}]},eMn={name:"footerPage",title:"Footer",type:"document",icon:()=>"",fields:[{name:"title",title:"Ttulo de la seccin",type:"string"},{name:"textoDescriptivo",title:"Texto Descriptivo",type:"blockModule"},{name:"redesSociales",title:"Redes Sociales",type:"array",of:[{type:"red"}]},{name:"textoBotonDona",title:"Texto Botn Donaciones",type:"string"},{name:"urlDona",title:"URL Botn Donaciones",type:"url"},{name:"textoBajoBoton",title:"Texto debajo botn donaciones",type:"text"}]},tMn=[w$n,C$n,_$n,S$n,k$n,E$n,j$n,T$n,A$n,D$n,I$n,P$n,O$n,R$n,$$n,M$n,F$n,L$n,B$n,N$n,z$n,V$n,H$n,U$n,W$n,Y$n,q$n,G$n,K$n,Z$n,X$n,Q$n,J$n,eMn],nMn=e=>e.list().title("General").items([e.listItem().title("Configuracin General").icon(()=>"").child(e.document().schemaType("settingsPage").documentId("settingsPage")),e.listItem().title("Manifesto").icon(()=>"").child(e.document().schemaType("manifestoPage").documentId("manifestoPage")),e.listItem().title("Footer").icon(()=>"").child(e.document().schemaType("footerPage").documentId("footerPage")),...e.documentTypeListItems().filter(t=>!["settingsPage","manifestoPage","footerPage"].includes(t.getId()))]),rMn={title:"Contextual",projectId:"emwh2ijw",dataset:"production",plugins:[mOn({structure:nMn})],schema:{types:tMn},document:{newDocumentOptions:(e,{creationContext:t})=>t.type==="global"?e.filter(n=>n.templateId!=["settingsPage","manifestoPage","footerPage"]):e,actions:(e,{schemaType:t})=>t==="settingsPage"?e.filter(({action:n})=>!["unpublish","delete","duplicate"].includes(n)):t==="manifestoPage"?e.filter(({action:n})=>!["unpublish","delete","duplicate"].includes(n)):t==="footerPage"?e.filter(({action:n})=>!["unpublish","delete","duplicate"].includes(n)):e}};Ybn(document.getElementById("sanity"),rMn,{reactStrictMode:!1,basePath:"/"});export{Xr as $,tw as A,M as B,ah as C,xMn as D,Ij as E,js as F,uMn as G,ym as H,vMn as I,Ul as J,yMn as K,vMe as L,x0 as M,jN as N,bMn as O,nD as P,Lr as Q,wSn as R,Qb as S,pMn as T,mMn as U,Di as V,tD as W,ue as X,an as Y,ee as Z,Ikn as _,wMn as a,zo as a0,re as a1,Vt as a2,sr as a3,L as a4,n9 as a5,h0 as a6,Y as a7,$r as a8,ri as a9,ea as aa,it as ab,Qn as ac,lCe as ad,ld as ae,zN as af,CB as ag,Ztt as ah,Cr as ai,be as aj,Vr as ak,qL as al,L1t as am,vl as an,gl as ao,vs as ap,Pe as aq,Nl as b,az as c,xkn as d,se as e,xSn as f,hh as g,o1 as h,_kn as i,l as j,rD as k,Ut as l,Bl as m,Xj as n,gn as o,wt as p,Ja as q,h as r,O as s,C2e as t,d1 as u,Ht as v,gMn as w,gi as x,Vo as y,En as z};
